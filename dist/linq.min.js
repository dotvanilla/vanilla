var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,d,c){e!=Array.prototype&&e!=Object.prototype&&(e[d]=c.value)};$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(e,d,c,b){if(d){c=$jscomp.global;e=e.split(".");for(b=0;b<e.length-1;b++){var a=e[b];a in c||(c[a]={});c=c[a]}e=e[e.length-1];b=c[e];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(c,e,{configurable:!0,writable:!0,value:d})}};$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},d={};try{return d.__proto__=e,d.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,d){e.__proto__=d;if(e.__proto__!==d)throw new TypeError(e+" is not extensible");return e}:null;$jscomp.polyfill("Object.setPrototypeOf",function(e){return e||$jscomp.setPrototypeOf},"es6","es5");$jscomp.findInternal=function(e,d,c){e instanceof String&&(e=String(e));for(var b=e.length,a=0;a<b;a++){var f=e[a];if(d.call(c,f,a,e))return{i:a,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(d,c){return $jscomp.findInternal(this,d,c).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(e){var d=0;return function(){return d<e.length?{done:!1,value:e[d++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var e=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+e++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.asyncIterator;e||(e=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};
$jscomp.iteratorFromArray=function(e,d){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var c=0,b={next:function(){if(c<e.length){var a=c++;return{value:d(a,e[a]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
var __extends=this&&this.__extends||function(){var e=function(d,c){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f])};return e(d,c)};return function(d,c){function b(){this.constructor=d}e(d,c);d.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),Activator;
(function(e){e.CreateMetaReader=function(d){return new TypeScript.Data.MetaReader(e.CreateObject(d))};e.CreateInstance=function(d){var c=Object.create({});if(Array.isArray(d))for(var b=0;b<d.length;b++){var a=d[b];var f=a.value;Object.defineProperty(c,a.name,{get:f.get,set:f.set})}else for(b in d)f=d[b],Object.defineProperty(c,b,{get:f.get,set:f.set});return c};e.EmptyObject=function(d,c){var b={};"function"==typeof c?Array.isArray(d)?d.forEach(function(a){return b[a]=c()}):d.ForEach(function(a){return b[a]=
c()}):Array.isArray(d)?d.forEach(function(a){return b[a]=c}):d.ForEach(function(a){return b[a]=c});return b};e.CreateObject=function(d){var c={},b=TypeScript.Reflection.$typeof(d);if(b.isArray&&"MapTuple"==b.class)d.forEach(function(a){return c[a.key]=a.value});else if(b.isArray&&"NamedValue"==b.class)d.forEach(function(a){return c[a.name]=a.value});else if("IEnumerator"==b.class)if(b=d.ElementType,"MapTuple"==b.class)d.ForEach(function(a){c[a.key]=a.value});else if("NamedValue"==b.class)d.ForEach(function(a){c[a.name]=
a.value});else throw console.error(b),"Unsupport data type: "+b.class;else throw"Unsupport data type: "+JSON.stringify(b);return c}})(Activator||(Activator={}));var data;
(function(e){(function(d){var c=function(){function b(){}b.prototype.toString=function(){return JSON.stringify(this)};return b}();d.match=c;d.placeholder=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);d.parseFormat=function(b,a){for(var f,g,c=f=0,e,l=[],m=[];e=d.placeholder.exec(b);)g=d.placeholder.lastIndex-e[0].length,m[m.length]=b.substring(f,g),f=d.placeholder.lastIndex,l[l.length]={match:e[0],left:e[3]?!0:!1,sign:e[4]||"",pad:e[5]||" ",min:e[6]||0,precision:e[8],code:e[9]||
"%",negative:0>parseInt(a[c])?!0:!1,argument:String(a[c])},e[9]&&(c+=1);m[m.length]=b.substring(f);return{matches:l,convCount:c,strings:m}};d.doFormat=function(b){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;f=d.parseFormat(b,a);var g=f.convCount;if(0==f.matches.length)return b;TypeScript.logging.log("string format parse result:",TypeScript.ConsoleColors.Magenta);
TypeScript.logging.log(f);if(a.length<g)throw"Mismatch format argument numbers ("+a.length+" !== "+g+")!";return d.doSubstitute(f.matches,f.strings)};d.doSubstitute=function(b,a){var f,g="";for(f=0;f<b.length;f++){if("%"==b[f].code)var c="%";else"b"==b[f].code?(b[f].argument=String(Math.abs(parseInt(b[f].argument)).toString(2)),c=d.convert(b[f],!0)):"c"==b[f].code?(c=Math.abs(parseInt(b[f].argument)),b[f].argument=String(String.fromCharCode(parseInt(String(c)))),c=d.convert(b[f],!0)):"d"==b[f].code?
(b[f].argument=String(Math.abs(parseInt(b[f].argument))),c=d.convert(b[f])):"f"==b[f].code?(c=b[f].precision?parseFloat(b[f].precision):6,b[f].argument=String(Math.abs(parseFloat(b[f].argument)).toFixed(c)),c=d.convert(b[f])):"o"==b[f].code?(b[f].argument=String(Math.abs(parseInt(b[f].argument)).toString(8)),c=d.convert(b[f])):"s"==b[f].code?(c=b[f].precision?parseFloat(b[f].precision):b[f].argument.length,b[f].argument=b[f].argument.substring(0,c),c=d.convert(b[f],!0)):"x"==b[f].code?(b[f].argument=
String(Math.abs(parseInt(b[f].argument)).toString(16)),c=d.convert(b[f])):"X"==b[f].code?(b[f].argument=String(Math.abs(parseInt(b[f].argument)).toString(16)),c=d.convert(b[f]).toUpperCase()):c=b[f].match;g+=a[f];g+=c}return g+a[f]};d.convert=function(b,a){void 0===a&&(a=!1);b.sign=a?"":b.negative?"-":b.sign;var f=parseFloat(b.min)-b.argument.length+1-b.sign.length;f=Array(0>f?0:f).join(b.pad);return b.left?"0"==b.pad||a?b.sign+b.argument+f.replace(/0/g," "):b.sign+b.argument+f:"0"==b.pad||a?b.sign+
f+b.argument:f+b.sign+b.argument}})(e.sprintf||(e.sprintf={}))})(data||(data={}));
var LINQIterator=function(){function e(d){this.i=0;this.sequence=d}e.prototype[Symbol.iterator]=function(){return this};Object.defineProperty(e.prototype,"Count",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});e.prototype.reset=function(){this.i=0;return this};e.prototype.next=function(){return this.i<this.sequence.length?{value:this.sequence[this.i++],done:!1}:{value:void 0,done:!0}};return e}(),Enumerable;
(function(e){e.Range=function(d,c,b){void 0===b&&(b=1);return(new data.NumericRange(d,c)).PopulateNumbers(b)};e.Min=function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];c=99999999999;for(var b=0;b<d.length;b++){var a=d[b];a<c&&(c=a)}return c};e.Select=function(d,c){var b=[];d.forEach(function(a,f){b.push(c(a,f))});return new IEnumerator(b)};e.OrderBy=function(d,c){d=d.slice();d.sort(function(b,a){return c(b)-c(a)});return new IEnumerator(d)};e.OrderByDescending=function(d,c){return e.OrderBy(d,
function(b){return-c(b)})};e.Take=function(d,c){var b=d.length;if(b<=c)var a=d;else{a=[];for(var f=0;f<c&&!(f>=b);f++)a.push(d[f])}return new IEnumerator(a)};e.Skip=function(d,c){var b=[];if(c>=d.length)return new IEnumerator([]);for(;c<d.length;c++)b.push(d[c]);return new IEnumerator(b)};e.TakeWhile=function(d,c){for(var b=[],a=0;a<d.length;a++){var f=d[a];if(c(f))b.push(f);else break}return new IEnumerator(b)};e.Where=function(d,c){for(var b=[],a=0;a<d.length;a++){var f=d[a];1==c(f)&&b.push(f)}return new IEnumerator(b)};
e.SkipWhile=function(d,c){for(var b=0;b<d.length;b++)if(1!=c(d[b]))return e.Skip(d,b);return new IEnumerator([])};e.All=function(d,c){for(var b=0;b<d.length;b++)if(!c(d[b]))return!1;return!0};e.Any=function(d,c){for(var b=0;b<d.length;b++)if(1==c(d[b]))return!0;return!1};e.GroupBy=function(d,c,b){b=new algorithm.BTree.binaryTree(b);for(var a,f,g=0;g<d.length;g++){var e=d[g];a=c(e);(f=b.find(a))?f.push(e):b.add(a,[e])}return b.AsEnumerable().Select(function(a){return new Group(a.key,a.value)})};e.AllKeys=
function(d){return $from(d).Select(function(c){return Object.keys(c)}).Unlist().Distinct().ToArray()}})(Enumerable||(Enumerable={}));
var IEnumerator=function(e){function d(c){return e.call(this,d.getArray(c))||this}__extends(d,e);Object.defineProperty(d.prototype,"ElementType",{get:function(){return $ts.typeof(this.First)},enumerable:!0,configurable:!0});d.prototype.ElementAt=function(c){void 0===c&&(c=null);if(!c)c=0;else if("string"==typeof c)throw"Item index='"+c+"' must be an integer!";return this.sequence[c]};d.prototype.ctype=function(){return new d(this.sequence.slice())};d.getArray=function(c){return c?Array.isArray(c)?
c.slice():c.sequence.slice():[]};d.prototype.indexOf=function(c){return this.sequence.indexOf(c)};Object.defineProperty(d.prototype,"First",{get:function(){return this.sequence[0]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"Last",{get:function(){return this.sequence[this.Count-1]},enumerable:!0,configurable:!0});d.prototype.FirstOrDefault=function(c){void 0===c&&(c=null);return 0==this.Count?c:this.sequence[0]};d.prototype.Union=function(c,b,a,f,g){void 0===g&&(g=null);Array.isArray(c)||
(c=c.ToArray());return(new Enumerable.JoinHelper(this.sequence,c)).Union(b,a,f,g)};d.prototype.Join=function(c,b,a,f,g){void 0===g&&(g=null);Array.isArray(c)||(c=c.ToArray());return(new Enumerable.JoinHelper(this.sequence,c)).LeftJoin(b,a,f,g)};d.prototype.Select=function(c){return Enumerable.Select(this.sequence,c)};d.prototype.GroupBy=function(c,b){if(0==this.Count)return $from([]);if(isNullOrUndefined(b))switch(typeof c(this.First)){case "string":b=Strings.CompareTo;break;case "number":b=function(a,
b){return a-b};break;case "boolean":b=function(a,b){return a==b?0:1==a?1:-1};break;default:if(0==this.Count)return $from([]);throw"No element comparer was specific!";}return Enumerable.GroupBy(this.sequence,c,b)};d.prototype.Where=function(c){return Enumerable.Where(this.sequence,c)};d.prototype.Which=function(c,b){void 0===b&&(b=!0);var a;b||(a=[]);for(var f=0;f<this.sequence.length;f++)if(c(this.sequence[f])){if(b)return f;a.push(f)}return new d(a)};d.prototype.Min=function(c){void 0===c&&(c=function(b){return Strings.as_numeric(b)});
return Enumerable.OrderBy(this.sequence,c).First};d.prototype.Max=function(c){void 0===c&&(c=function(b){return Strings.as_numeric(b)});return Enumerable.OrderByDescending(this.sequence,c).First};d.prototype.Average=function(c){void 0===c&&(c=null);return 0==this.Count?0:this.Sum(c)/this.sequence.length};d.prototype.Sum=function(c){void 0===c&&(c=null);var b=0;c||(c=function(a){return Number(a)});for(var a=0,f=this.sequence;a<f.length;a++)b+=c(f[a]);return b};d.prototype.OrderBy=function(c){return Enumerable.OrderBy(this.sequence,
c)};d.prototype.OrderByDescending=function(c){return Enumerable.OrderByDescending(this.sequence,c)};d.prototype.Split=function(c){for(var b=[],a=[],f=0,g=this.sequence;f<g.length;f++){var e=g[f];a.length<c?a.push(e):(b.push(a),a=[])}0<a.length&&b.push(a);return new d(b)};d.prototype.subset=function(c){if("boolean"==typeof c[0]){var b=[];for(var a=0;a<c.length;a++)c[a]&&b.push(a)}else b=c;c=[];for(var f=0;f<b.length;f++)a=b[f],c.push(this.sequence[a]);return new d(c)};d.prototype.Take=function(c){return Enumerable.Take(this.sequence,
c)};d.prototype.Skip=function(c){return Enumerable.Skip(this.sequence,c)};d.prototype.Reverse=function(){var c=this.ToArray().reverse();return new d(c)};d.prototype.TakeWhile=function(c){return Enumerable.TakeWhile(this.sequence,c)};d.prototype.SkipWhile=function(c){return Enumerable.SkipWhile(this.sequence,c)};d.prototype.All=function(c){return Enumerable.All(this.sequence,c)};d.prototype.Any=function(c){void 0===c&&(c=null);return c?Enumerable.Any(this.sequence,c):this.sequence&&0!=this.sequence.length?
!0:!1};d.prototype.Distinct=function(c){void 0===c&&(c=function(b){return isNullOrUndefined(b)?"":b.toString()});return this.GroupBy(c,Strings.CompareTo).Select(function(b){return b.First})};d.prototype.ChunkWith=function(c,b){void 0===b&&(b=!1);for(var a=new List,f=[],g=0,d=this.sequence;g<d.length;g++){var e=d[g];c(e)?(a.Add(f),f=b?[e]:[]):f.push(e)}0<f.length&&a.Add(f);return a};d.prototype.ForEach=function(c){this.sequence.forEach(function(b,a,f){c(b,a)})};d.prototype.JoinBy=function(c,b){void 0===
b&&(b=function(a){return"string"===typeof a?a:a.toString()});return this.Select(function(a){return b(a)}).ToArray().join(c)};d.prototype.Unlist=function(c){void 0===c&&(c=function(a){return a});for(var b=[],a=0,f=this.sequence;a<f.length;a++)for(var g=0,e=c(f[a]);g<e.length;g++)b.push(e[g]);return new d(b)};d.prototype.ToArray=function(c){void 0===c&&(c=!0);return c?this.sequence.slice():this.sequence};d.prototype.ToList=function(){return new List(this.sequence)};d.prototype.ToDictionary=function(c,
b){void 0===b&&(b=function(a){return a});for(var a={},f,g,d=0,e=this.sequence;d<e.length;d++)g=e[d],f=c(g),g=b(g),a[f]=g;return new Dictionary(a)};d.prototype.ToPointer=function(){return new Pointer(this)};d.prototype.SlideWindows=function(c,b){void 0===b&&(b=1);return SlideWindow.Split(this,c,b)};return d}(LINQIterator),DOMEnumerator=function(e){function d(c){return e.call(this,d.ensureElements(c))||this}__extends(d,e);Object.defineProperty(d.prototype,"tagName",{get:function(){return this.First.tagName},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"type",{get:function(){return"input"==this.tagName.toLowerCase()?this.First.type:this.tagName},enumerable:!0,configurable:!0});d.ensureElements=function(c){var b=$ts.typeof(c);if("NodeList"==b.class){var a=[];c.forEach(function(b){return a.push(b)})}else if("HTMLCollection"==b.class)for(a=[],b=0;b<c.length;b++)a.push(c.item(b));else a=Framework.Extensions.EnsureArray(c);c=0;for(b=a;c<b.length;c++)TypeExtensions.Extends(b[c]);return a};
d.prototype.val=function(c){void 0===c&&(c=null);if(isNullOrUndefined(c))return this.Select(function(b){return d.getVal(b)});"string"==typeof c||"number"==typeof c?this.ForEach(function(b){return d.setVal(b,c)}):Array.isArray(c)?this.ForEach(function(b,a){return d.setVal(b,c[a])}):this.ForEach(function(b,a){return d.setVal(b,c.ElementAt(a))})};d.setVal=function(c,b){c instanceof HTMLInputElement?c.value=b:c.textContent=b};d.getVal=function(c){return c instanceof HTMLInputElement?c.value:c.textContent};
d.prototype.attr=function(c,b){void 0===b&&(b=null);if(b){if("function"==typeof b)return this.Select(function(a){var f=b(a);a.setAttribute(c,f);return f});var a=Framework.Extensions.EnsureArray(b,this.Count);return this.Select(function(b,g){g=a[g];b.setAttribute(c,g);return g})}return this.Select(function(a){return a.getAttribute(c)})};d.prototype.style=function(c){var b=DOM.CSS.parseStylesheet(c);this.ForEach(function(a){return DOM.CSS.Setter.setStyle(a,b)});return this};d.prototype.addClass=function(c){this.ForEach(function(b){b.classList.contains(c)||
b.classList.add(c)});return this};d.prototype.addEvent=function(c,b){this.ForEach(function(a){DOM.Events.addEvent(a,c,function(f){b(a,f)})})};d.prototype.onChange=function(c){this.addEvent("onchange",c)};d.prototype.onClick=function(c){this.ForEach(function(b){b.onclick=function(a){c(this,a);return!1}})};d.prototype.removeClass=function(c){this.ForEach(function(b){b.classList.contains(c)&&b.classList.remove(c)});return this};d.prototype.hide=function(){this.ForEach(function(c){return c.style.display=
"none"});return this};d.prototype.show=function(){this.ForEach(function(c){return c.style.display="block"});return this};d.prototype.delete=function(){this.ForEach(function(c){return c.parentNode.removeChild(c)})};return d}(IEnumerator),Internal;
(function(e){(function(d){(function(c){c.getElementByIdUnderContext=function(b,a){return a instanceof Window?a.document.getElementById(b):a.getElementById(b)};c.selectElementsUnderContext=function(b,a){return a instanceof Window?a.document.querySelector(b.expression):a.querySelector(b.expression)}})(d.Selector||(d.Selector={}))})(e.Handlers||(e.Handlers={}))})(Internal||(Internal={}));
(function(e){(function(d){function c(a,b){return a?window.hasOwnProperty.call(a,b):!1}var b={onclick:"onclick",onmouseover:"onmouseover",onchange:"onchange",onblur:"onblur"},a=Object.keys(b);d.hasKey=c;d.makesureElementIdSelector=function(a){if(a)return"#"==a[0]?a:"#"+a;throw"The given node id value is nothing!";};var f=function(){function f(){}f.ensureArguments=function(a){if(isNullOrUndefined(a))return e.Arguments.Default();isNullOrUndefined(a.nativeModel)&&(a.nativeModel=!0);return a};f.select=
function(a,b){void 0===b&&(b=window);a=a.replace(":","\\:");if(b instanceof Window)b=b.document.querySelectorAll(a);else if(b instanceof HTMLElement)b=b.querySelectorAll(a);else throw"Unsupported context type: "+TypeScript.Reflection.getClass(b);return new DOMEnumerator(b)};f.prototype.doEval=function(a,b,g){var c=DOM.Query.parseQuery(a);b=f.ensureArguments(g);var e=b.context||window;if(c.type==DOM.QueryTypes.id)return g=d.Selector.getElementByIdUnderContext(c.expression,e),isNullOrUndefined(g)?(TypeScript.logging.outputWarning&&
console.warn("Unable to found a node which its ID='"+a+"'!"),null):b.nativeModel?TypeExtensions.Extends(g):new HTMLTsElement(g);if(c.type==DOM.QueryTypes.NoQuery)return f.createNew(a,b,e);if(c.singleNode){if(c.type==DOM.QueryTypes.QueryMeta)return DOM.InputValueGetter.metaValue(c.expression,(g||{})["default"],e!=window);TypeScript.logging.outputEverything&&console.warn("Apply querySelector for expression: '"+c.expression+"', no typescript extension was made!");a=d.Selector.selectElementsUnderContext(c,
e);return isNullOrUndefined(a)?null:b.nativeModel?TypeExtensions.Extends(a):new HTMLTsElement(a)}return c.type==DOM.QueryTypes.class?(a=document.getElementsByClassName(c.expression),new DOMEnumerator(a)):f.select(c.expression,e)};f.createNew=function(b,g,c){void 0===c&&(c=window);b=DOM.ParseNodeDeclare(b);var d=c.document.createElement(b.tag);b.attrs.forEach(function(b){0>a.indexOf(b.name)&&d.setAttribute(b.name,b.value)});g&&f.setAttributes(d,g);return g.nativeModel?TypeExtensions.Extends(d):new HTMLTsElement(d)};
f.setAttributes=function(f,g){var c=function(b){if(!(-1<a.indexOf(b)))if("class"==b){var c=g[b];Array.isArray(c)?c.forEach(function(a){return f.classList.add(a)}):f.setAttribute(b,c)}else if("style"==b)if(c=g[b],"string"==typeof c)f.setAttribute(b,c);else for(var d in c)f.style[d]=c[d];else if("visible"==b)f.style.display=g[b]?"block":"none";else{c=g[b];if("src"==b||"href"==b)c=e.urlSolver(c);f.setAttribute(b,c)}};e.Arguments.nameFilter(g).forEach(function(a){return c(a)});this.hookEvt(f,b.onclick,
g);this.hookEvt(f,b.onmouseover,g);this.hookEvt(f,b.onchange,g)};f.hookEvt=function(a,f,g){if(c(g,f)){var d=g[f];if("string"==typeof d)a.setAttribute(f,d);else switch(g=function(b,f){return d(b,f,a)},f){case b.onclick:a.onclick=g;break;case b.onmouseover:a.onmouseover=g;break;case b.onchange:a.onchange=g;break;case b.onblur:a.onblur=g;break;default:TypeScript.logging.log(f,TypeScript.ConsoleColors.Yellow)}}};return f}();d.stringEval=f})(e.Handlers||(e.Handlers={}))})(Internal||(Internal={}));
(function(e){(function(d){d.Shared={string:function(){return new d.stringEval},array:function(){return new c},NodeListOf:function(){return new b},HTMLCollection:function(){return new b}};var c=function(){function a(){}a.prototype.doEval=function(a,b,c){return $from(a)};return a}();d.arrayEval=c;var b=function(){function a(){}a.prototype.doEval=function(a,b,c){return new DOMEnumerator(a)};return a}();d.DOMCollection=b})(e.Handlers||(e.Handlers={}))})(Internal||(Internal={}));var DataExtensions;
(function(e){function d(b){var a="";b=new Uint8Array(b);for(var f=b.byteLength,g=0;g<f;g++)a+=String.fromCharCode(b[g]);return window.btoa(a)}function c(b){b=window.atob(b);for(var a=new ArrayBuffer(b.length),f=new Uint8Array(a),g=0;g<b.length;g++)f[g]=b.charCodeAt(g);return a}e.merge=function(b){for(var a=[],f=1;f<arguments.length;f++)a[f-1]=arguments[f];for(var g,c=0;c<a.length;c++)for(g in f=a[c],f)Object.prototype.hasOwnProperty.call(f,g)&&(b[g]=f[g]);return b};e.arrayBufferToBase64=d;e.toUri=
function(b){"string"!==typeof b.data&&(b.data=d(b.data));return"data:"+b.mime_type+";base64,"+b.data};e.uriToBlob=function(b){if("string"==typeof b){var a=b.split(",")[1];var f=b.split(",")[0].split(":")[1].split(";")[0];b=c(a)}else f=b.mime_type,b="string"==typeof b.data?c(b.data):b.data;return new Blob([b],{type:f})};e.base64ToBlob=c;e.Dim=function(b,a){void 0===a&&(a=null);for(var f=[],g=0;g<b;g++)f.push(a);return f}})(DataExtensions||(DataExtensions={}));
var MapTuple=function(){function e(d,c){void 0===d&&(d=null);void 0===c&&(c=null);this.key=d;this.value=c;this.key=d;this.value=c}e.prototype.valueOf=function(){return this.value};e.prototype.ToArray=function(){return[this.key,this.value]};e.prototype.toString=function(){return"["+this.key.toString()+", "+this.value.toString()+"]"};return e}(),NamedValue=function(){function e(d,c){void 0===d&&(d=null);void 0===c&&(c=null);this.name=d;this.value=c}Object.defineProperty(e.prototype,"TypeOfValue",{get:function(){return $ts.typeof(this.value)},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"IsEmpty",{get:function(){return Strings.Empty(this.name)&&(!this.value||void 0==this.value)},enumerable:!0,configurable:!0});e.prototype.valueOf=function(){return this.value};e.prototype.ToArray=function(){return[this.name,this.value]};e.prototype.toString=function(){return this.name};return e}(),Strings;
(function(e){function d(a){return null==a||void 0==a?null:"number"===typeof a?function(a){return a}:"boolean"===typeof a?function(a){return 1==a?1:-1}:"undefined"==typeof a?function(a){return 0}:"string"==typeof a?function(a){return e.Val(a)}:function(a){return 0}}function c(a,b){if(!a)return!1;b=a.match("string"==typeof b?new RegExp(b):b);return isNullOrUndefined(b)?!1:b[0]==a}function b(a){return a&&void 0!=a?a.length:0}e.x0=48;e.x9=57;e.asterisk=42;e.cr=99;e.lf=13;e.a=97;e.z=122;e.A=65;e.Z=90;
e.numericPattern=/[-]?\d+(\.\d+)?/g;e.integerPattern=/[-]?[0-9]+/g;e.logical={T:!0,F:!1,"true":!0,"false":!1,TRUE:!0,FALSE:!1,yes:!0,no:!1,right:!0,wrong:!1};e.PadLeft=function(a,b,g){void 0===g&&(g=" ");if(e.Empty(a))return DataExtensions.Dim(b,g).join("");b-=a.length;return 0>b?a:DataExtensions.Dim(b,g).join("")+a};e.isNumericPattern=function(a){return c(a,e.numericPattern)};e.isIntegerPattern=function(a){return c(a,e.integerPattern)};e.as_numeric=function(a){return d(a)(a)};e.AsNumeric=d;e.Lanudry=
function(a){var b=Math.floor(Math.log(a)/Math.log(1E3));return e.sprintf("%.2f "+["B","KB","MB","GB","TB"][b],a/Math.pow(1E3,Math.floor(b)))};e.escapeXml=function(a){return a.replace(/[<>&'"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&apos;";case '"':return"&quot;"}})};e.parseInt=function(a){if(e.Empty(a,!0))return 0;var b=[];for(var g=0;g<a.length;g++){var c=a.charAt(g);var d=c.charCodeAt(0);if(d>=e.x0&&d<=e.x9)b.push(c);else break}return 0==
b.length?0:Number(b.join(""))};e.New=function(a,b){if(0==b)return"";if(1==b)return a;for(var f="",c=1;c<b;++c)f+=a;return f};e.round=function(a,b){void 0===b&&(b=3);var f="number"==typeof a?a:parseFloat(a);b=Math.pow(10,b);return isNaN(f)?(TypeScript.logging.outputWarning&&console.warn("Invalid number value: '"+a+"'"),!1):Math.round(f*b)/b};e.isNumber=function(a){a=a.charCodeAt(0);return a>=e.x0&&a<=e.x9};e.isAlphabet=function(a){a=a.charCodeAt(0);return a>=e.a&&a<=e.z||a>=e.A&&a<=e.Z};e.Val=function(a){return null==
a||""==a||void 0==a||"undefined"==a?0:"NA"==a||"NaN"==a?Number.NaN:"Inf"==a?Number.POSITIVE_INFINITY:"-Inf"==a?Number.NEGATIVE_INFINITY:parseFloat(a)};e.lineTokens=function(a){return a?a.trim().split("\n"):[]};e.GetTagValue=function(a,f){void 0===f&&(f=" ");if(a){var g=f;f=a.indexOf(g);var c=b(g);-1<f?(g=a.substr(0,f),a=a.substr(f+c),a=new NamedValue(g,a)):a=new NamedValue(a,"");return a}return new NamedValue};e.PeekLines=function(a,b){for(var f=0,c=[],d=0;d<b;d++){var e=a.indexOf("\n",f);if(-1<e)c.push(a.substr(f,
e-f)),f=e;else break}return c};e.LCase=function(a){return isNullOrUndefined(a)?"":a.toLowerCase()};e.UCase=function(a){return isNullOrUndefined(a)?"":a.toUpperCase()};e.getAllMatches=function(a,b){var f,c=[];"string"==typeof b&&(b=new RegExp(b));if(b.global)for(;f=b.exec(a);)c.push(f);else(f=b.exec(a))&&c.push(f);return c};e.Trim=function(a,b){void 0===b&&(b=null);if(e.Empty(a,!1))return"";if(isNullOrUndefined(b))return a.trim();"string"==typeof b&&(b=$from(e.ToCharArray(b)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));
return function(b){return $from(e.ToCharArray(a)).SkipWhile(function(a){return-1<b.indexOf(a.charCodeAt(0))}).Reverse().SkipWhile(function(a){return-1<b.indexOf(a.charCodeAt(0))}).Reverse().JoinBy("")}(b)};e.LTrim=function(a,b){void 0===b&&(b=" ");if(e.Empty(a,!1))return"";"string"==typeof b&&(b=$from(e.ToCharArray(b)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(b){return $from(e.ToCharArray(a)).SkipWhile(function(a){return-1<b.indexOf(a.charCodeAt(0))}).JoinBy("")}(b)};
e.RTrim=function(a,b){void 0===b&&(b=" ");if(e.Empty(a,!1))return"";"string"==typeof b&&(b=$from(e.ToCharArray(b)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));for(var f=e.ToCharArray(a),c=0,d=f.length-1;0<d;d--)if(-1==b.indexOf(f[d].charCodeAt(0))){c=d;break}return 0==c?"":a.substr(0,c+1)};e.Empty=function(a,b){void 0===b&&(b=!1);return a?void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!b||"undefined"!=a&&"null"!=a&&"NULL"!=a?!1:!0:!0};e.Blank=function(a,b){void 0===b&&(b=!1);return!a||
c(a,/\s+/g)?!0:void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!b||"\\s"!=a&&"\\t"!=a?!1:!0};e.IsPattern=c;e.Unique=function(a){var b={};return a.filter(function(a){return b.hasOwnProperty(a)?!1:b[a]=!0})};e.Count=function(a,b){for(var f=0,c=0;c<a.length;c++)a[c]==b&&(f+=1);return f};e.ToCharArray=function(a,b){void 0===b&&(b=!1);var f=[],c=a.length;if(b)for(b=0;b<c;++b)f.push(a.charCodeAt(b));else for(b=0;b<c;++b)f.push(a.charAt(b));return f};e.Len=b;e.CompareTo=function(a,b){for(var f=e.Len(a),
c=e.Len(b),d=Math.min(f,c),l=0;l<d;l++){var m=a.charCodeAt(l),p=b.charCodeAt(l);if(m>p)return 1;if(m<p)return-1}return f>c?1:f<c?-1:0};e.sprintf=data.sprintf.doFormat;e.WrappingLines=function(a,b,g){void 0===b&&(b=200);void 0===g&&(g=!1);var f="";a=e.lineTokens(a);for(var c,d=0;d<a.length;d++){var m=g?e.Trim(a[d]):a[d];if(m.length<b)f=f+m+"\n";else for(c=0;;)if(f=f+m.substr(c,b)+"\n",c+=b,c+b>m.length){f=f+m.substr(c)+"\n";break}}return f}})(Strings||(Strings={}));var TypeScript;
(function(e){(function(d){var c=function(){function b(){}Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.class},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isArray",{get:function(){return"array"==this.typeOf},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isEnumerator",{get:function(){return"object"==this.typeOf&&("IEnumerator"==this.class||"DOMEnumerator"==this.class||d.Internal.isEnumeratorSignature(this))},enumerable:!0,configurable:!0});
b.prototype.isArrayOf=function(a){return this.isArray&&this.class==a};b.prototype.toString=function(){return"object"==this.typeOf?"<"+this.typeOf+"> "+this.class:this.typeOf};return b}();d.TypeInfo=c})(e.Reflection||(e.Reflection={}))})(TypeScript||(TypeScript={}));var MD5;
(function(e){e.safe_add=function(d,c){var b=(d&65535)+(c&65535);return(d>>16)+(c>>16)+(b>>16)<<16|b&65535};e.bit_rol=function(d,c){return d<<c|d>>>32-c};e.md5_cmn=function(d,c,b,a,f,g){return e.safe_add(e.bit_rol(e.safe_add(e.safe_add(c,d),e.safe_add(a,g)),f),b)};e.md5_ff=function(d,c,b,a,f,g,h){return e.md5_cmn(c&b|~c&a,d,c,f,g,h)};e.md5_gg=function(d,c,b,a,f,g,h){return e.md5_cmn(c&a|b&~a,d,c,f,g,h)};e.md5_hh=function(d,c,b,a,f,g,h){return e.md5_cmn(c^b^a,d,c,f,g,h)};e.md5_ii=function(d,c,b,a,f,
g,h){return e.md5_cmn(b^(c|~a),d,c,f,g,h)};e.binl_md5=function(d,c){var b=1732584193,a=-271733879,f=-1732584194,g=271733878;d[c>>5]|=128<<c%32;d[(c+64>>>9<<4)+14]=c;for(var h=0;h<d.length;h+=16){c=b;var k=a;var l=f;var m=g;b=e.md5_ff(b,a,f,g,d[h],7,-680876936);g=e.md5_ff(g,b,a,f,d[h+1],12,-389564586);f=e.md5_ff(f,g,b,a,d[h+2],17,606105819);a=e.md5_ff(a,f,g,b,d[h+3],22,-1044525330);b=e.md5_ff(b,a,f,g,d[h+4],7,-176418897);g=e.md5_ff(g,b,a,f,d[h+5],12,1200080426);f=e.md5_ff(f,g,b,a,d[h+6],17,-1473231341);
a=e.md5_ff(a,f,g,b,d[h+7],22,-45705983);b=e.md5_ff(b,a,f,g,d[h+8],7,1770035416);g=e.md5_ff(g,b,a,f,d[h+9],12,-1958414417);f=e.md5_ff(f,g,b,a,d[h+10],17,-42063);a=e.md5_ff(a,f,g,b,d[h+11],22,-1990404162);b=e.md5_ff(b,a,f,g,d[h+12],7,1804603682);g=e.md5_ff(g,b,a,f,d[h+13],12,-40341101);f=e.md5_ff(f,g,b,a,d[h+14],17,-1502002290);a=e.md5_ff(a,f,g,b,d[h+15],22,1236535329);b=e.md5_gg(b,a,f,g,d[h+1],5,-165796510);g=e.md5_gg(g,b,a,f,d[h+6],9,-1069501632);f=e.md5_gg(f,g,b,a,d[h+11],14,643717713);a=e.md5_gg(a,
f,g,b,d[h],20,-373897302);b=e.md5_gg(b,a,f,g,d[h+5],5,-701558691);g=e.md5_gg(g,b,a,f,d[h+10],9,38016083);f=e.md5_gg(f,g,b,a,d[h+15],14,-660478335);a=e.md5_gg(a,f,g,b,d[h+4],20,-405537848);b=e.md5_gg(b,a,f,g,d[h+9],5,568446438);g=e.md5_gg(g,b,a,f,d[h+14],9,-1019803690);f=e.md5_gg(f,g,b,a,d[h+3],14,-187363961);a=e.md5_gg(a,f,g,b,d[h+8],20,1163531501);b=e.md5_gg(b,a,f,g,d[h+13],5,-1444681467);g=e.md5_gg(g,b,a,f,d[h+2],9,-51403784);f=e.md5_gg(f,g,b,a,d[h+7],14,1735328473);a=e.md5_gg(a,f,g,b,d[h+12],20,
-1926607734);b=e.md5_hh(b,a,f,g,d[h+5],4,-378558);g=e.md5_hh(g,b,a,f,d[h+8],11,-2022574463);f=e.md5_hh(f,g,b,a,d[h+11],16,1839030562);a=e.md5_hh(a,f,g,b,d[h+14],23,-35309556);b=e.md5_hh(b,a,f,g,d[h+1],4,-1530992060);g=e.md5_hh(g,b,a,f,d[h+4],11,1272893353);f=e.md5_hh(f,g,b,a,d[h+7],16,-155497632);a=e.md5_hh(a,f,g,b,d[h+10],23,-1094730640);b=e.md5_hh(b,a,f,g,d[h+13],4,681279174);g=e.md5_hh(g,b,a,f,d[h],11,-358537222);f=e.md5_hh(f,g,b,a,d[h+3],16,-722521979);a=e.md5_hh(a,f,g,b,d[h+6],23,76029189);b=
e.md5_hh(b,a,f,g,d[h+9],4,-640364487);g=e.md5_hh(g,b,a,f,d[h+12],11,-421815835);f=e.md5_hh(f,g,b,a,d[h+15],16,530742520);a=e.md5_hh(a,f,g,b,d[h+2],23,-995338651);b=e.md5_ii(b,a,f,g,d[h],6,-198630844);g=e.md5_ii(g,b,a,f,d[h+7],10,1126891415);f=e.md5_ii(f,g,b,a,d[h+14],15,-1416354905);a=e.md5_ii(a,f,g,b,d[h+5],21,-57434055);b=e.md5_ii(b,a,f,g,d[h+12],6,1700485571);g=e.md5_ii(g,b,a,f,d[h+3],10,-1894986606);f=e.md5_ii(f,g,b,a,d[h+10],15,-1051523);a=e.md5_ii(a,f,g,b,d[h+1],21,-2054922799);b=e.md5_ii(b,
a,f,g,d[h+8],6,1873313359);g=e.md5_ii(g,b,a,f,d[h+15],10,-30611744);f=e.md5_ii(f,g,b,a,d[h+6],15,-1560198380);a=e.md5_ii(a,f,g,b,d[h+13],21,1309151649);b=e.md5_ii(b,a,f,g,d[h+4],6,-145523070);g=e.md5_ii(g,b,a,f,d[h+11],10,-1120210379);f=e.md5_ii(f,g,b,a,d[h+2],15,718787259);a=e.md5_ii(a,f,g,b,d[h+9],21,-343485551);b=e.safe_add(b,c);a=e.safe_add(a,k);f=e.safe_add(f,l);g=e.safe_add(g,m)}return[b,a,f,g]};e.binl2rstr=function(d){for(var c="",b=0;b<32*d.length;b+=8)c+=String.fromCharCode(d[b>>5]>>>b%32&
255);return c};e.rstr2binl=function(d){var c=[];c[(d.length>>2)-1]=void 0;for(var b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*d.length;b+=8)c[b>>5]|=(d.charCodeAt(b/8)&255)<<b%32;return c};e.rstr_md5=function(d){return e.binl2rstr(e.binl_md5(e.rstr2binl(d),8*d.length))};e.rstr_hmac_md5=function(d,c){var b=e.rstr2binl(d),a=[],f=[];a[15]=f[15]=void 0;16<b.length&&(b=e.binl_md5(b,8*d.length));for(d=0;16>d;d+=1)a[d]=b[d]^909522486,f[d]=b[d]^1549556828;b=a.concat(e.rstr2binl(c));b=e.binl_md5(b,512+8*c.length);
b=f.concat(b);b=e.binl_md5(b,640);return e.binl2rstr(b)};e.rstr2hex=function(d){for(var c="",b,a=0;a<d.length;a+=1)b=d.charCodeAt(a),c+="0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(b&15);return c};e.str2rstr_utf8=function(d){return unescape(encodeURIComponent(d))};e.raw_md5=function(d){return e.rstr_md5(e.str2rstr_utf8(d))};e.hex_md5=function(d){return e.rstr2hex(e.raw_md5(d))};e.raw_hmac_md5=function(d,c){return e.rstr_hmac_md5(e.str2rstr_utf8(d),e.str2rstr_utf8(c))};e.hex_hmac_md5=
function(d,c){return e.rstr2hex(e.raw_hmac_md5(d,c))};e.calculate=function(d,c,b){void 0===c&&(c=null);void 0===b&&(b=null);return c?b?e.raw_hmac_md5(c,d):e.hex_hmac_md5(c,d):b?e.raw_md5(d):e.hex_md5(d)}})(MD5||(MD5={}));
(function(e){(function(d){function c(b,a,f){var g=void 0,c=b[0].replace(/\[\d*\]/,function(a){g=a.slice(1,-1);return""});b="undefined"===typeof b[1]?"true":b[1];f&&(c=c.toLowerCase());a[c]?("string"===typeof a[c]&&(a[c]=[a[c]]),"undefined"===typeof g?a[c].push(b):a[c][g]=b):a[c]=b;return a}d.hostNamePattern=/:\/\/(www[0-9]?\.)?(.[^/:]+)/i;d.uriPattern=/data[:]\S+[/]\S+;base64,[a-zA-Z0-9/=+]/ig;d.urlPattern=/((https?)|(ftp))[:]\/{2}\S+\.[a-z]+[^ >"]*/ig;d.isFromSameOrigin=function(b){b=(new e.URL(b)).origin.toLowerCase();
var a=window.location.origin.toLowerCase();return b==a};d.isAPossibleUrlPattern=function(b,a){void 0===a&&(a=d.urlPattern);a=b.match(a);if(isNullOrUndefined(a))return!1;a=a[0];return Strings.Empty(a,!0)?!1:0==b.indexOf(a)};d.parseQueryString=function(b,a){void 0===a&&(a=!1);var f={},g=0;for(b=b.split("#")[0].split("&");g<b.length;g++)f=c(b[g].split("="),f,a);return f}})(e.URLPatterns||(e.URLPatterns={}))})(TypeScript||(TypeScript={}));
(function(e){var d=function(c){function b(a){return c.call(this,a)||this}__extends(b,c);b.Dump=function(){var a=Error().stack.split("\n");a=$from(a).Skip(2).Select(e.StackFrame.Parse);return new b(a)};b.GetCallerMember=function(){return b.Dump().ToArray()[2]};b.prototype.toString=function(){var a=new StringBuilder;this.ForEach(function(b){a.AppendLine("  at "+b.toString())});return a.toString()};return b}(IEnumerator);e.StackTrace=d})(Internal||(Internal={}));
(function(e){(function(d){function c(a){var b=[],f;for(f in a)"function"==typeof a[f]&&b.push(f);return b}function b(b,c,d,e){return c?f(b):d?a(b,e):""}function a(a,b){return b?(e.logging.warning(TypeExtensions.objectIsNothing),"null"):a.constructor.name}function f(a){a=a[0];var b;"object"==(b=typeof a)&&(b=a.constructor.name);return b}d.$typeof=function(a){var f=typeof a,g="object"==f,e=Array.isArray(a),m=isNullOrUndefined(a),p=new d.TypeInfo,n=b(a,e,g,m);p.typeOf=e?"array":f;p.class=n;m?(p.property=
[],p.methods=[]):(p.property=g?Object.keys(a):[],p.methods=c(a));return p};d.GetObjectMethods=c;d.getClass=function(a){var f="object"==typeof a,g=Array.isArray(a),c=isNullOrUndefined(a);return b(a,g,f,c)};d.getClassInternal=b;d.getObjectClassName=a;d.getElementType=f})(e.Reflection||(e.Reflection={}))})(TypeScript||(TypeScript={}));
var Dictionary=function(e){function d(c){void 0===c&&(c=null);var b=e.call(this,d.ObjectMaps(c))||this;isNullOrUndefined(c)?b.maps={}:Array.isArray(c)?b.maps=Activator.CreateObject(c):"IEnumerator"==$ts.typeof(c).class?b.maps=Activator.CreateObject(c):b.maps=c;return b}__extends(d,e);Object.defineProperty(d.prototype,"Object",{get:function(){return Framework.Extensions.extend(this.maps)},enumerable:!0,configurable:!0});d.prototype.Item=function(c){void 0===c&&(c=null);c||(c=Internal.StackTrace.GetCallerMember().memberName);
return"string"==typeof c?this.maps[c]:this.sequence[c].value};Object.defineProperty(d.prototype,"Keys",{get:function(){return $from(Object.keys(this.maps))},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"Values",{get:function(){return this.Select(function(c){return c.value})},enumerable:!0,configurable:!0});d.FromMaps=function(c){return new d(c)};d.FromNamedValues=function(c){return new d(Activator.CreateObject(c))};d.MapSequence=function(c){return new IEnumerator(this.ObjectMaps(c))};
d.ObjectMaps=function(c){var b=TypeScript.Reflection.$typeof(c);return isNullOrUndefined(c)?[]:Array.isArray(c)?c:"IEnumerator"==b.class?c.ToArray():$from(Object.keys(c)).Select(function(a){return new MapTuple(a,c[a])}).ToArray()};d.prototype.ContainsKey=function(c){return c in this.maps};d.prototype.Add=function(c,b){this.maps[c]=b;this.sequence=d.ObjectMaps(this.maps);return this};d.prototype.Delete=function(c){c in this.maps&&(delete this.maps[c],this.sequence=d.ObjectMaps(this.maps));return this};
return d}(IEnumerator);
(function(e){var d=function(){function c(b){var a=Strings.GetTagValue(b,"://");this.protocol=a.name;a=Strings.GetTagValue(a.value,"/");this.origin=a.name;a=Strings.GetTagValue(a.value,"?");this.path=a.name;this.fileName=Strings.Empty(this.path)?"":e.PathHelper.basename(this.path);this.hash=$from(b.split("#")).Last;0>b.indexOf("#")&&(this.hash="");isNullOrUndefined(this.path)?this.path="/":"/"!==this.path.charAt(0)&&(this.path="/"+this.path);b=c.UrlQuery(a.value);this.queryRawString=a.value;this.queryArguments=
Dictionary.MapSequence(b).Select(function(a){return new NamedValue(a.key,a.value)});a=Strings.GetTagValue(this.origin,":");this.origin=a.name;this.port=Strings.Val(a.value);0==this.port&&(this.port="https"==this.protocol?443:80)}Object.defineProperty(c.prototype,"query",{get:function(){return this.queryArguments.ToArray(!1)},enumerable:!0,configurable:!0});c.prototype.getArgument=function(b,a,f){void 0===a&&(a=!0);void 0===f&&(f="");if(Strings.Empty(b,!1))return"";a||(b=b.toLowerCase());return this.queryArguments.Where(function(f){return a?
f.name==b:f.name.toLowerCase()==b}).FirstOrDefault({value:f}).value};c.UrlQuery=function(b){return b?e.URLPatterns.parseQueryString(b,!1):{}};c.JumpToHash=function(b){window.scrollTo(0,$ts(b).offsetTop)};c.SetHash=function(b){history.pushState?history.pushState(null,null,b):location.hash=b};c.WindowLocation=function(){return new c(window.location.href)};c.prototype.toString=function(){var b=$from(this.query).Select(function(a){return a.name+"="+encodeURIComponent(a.value)}).JoinBy("&"),a=this.protocol+
"://"+this.origin+"/"+this.path;b&&(a=a+"?"+b);this.hash&&(a=a+"#"+this.hash);return a};c.Refresh=function(b){return b+"&refresh="+1E4*Math.random()};c.getHostName=function(b){b=b.match(e.URLPatterns.hostNamePattern);return null!=b&&2<b.length&&"string"===typeof b[2]&&0<b[2].length?b[2]:null};c.ParseAllUrlStrings=function(b){var a=[],f=0;for(b=Strings.getAllMatches(b,e.URLPatterns.urlPattern);f<b.length;f++)a.push(b[f][0]);return a};c.IsWellFormedUriString=function(b){return e.URLPatterns.isAPossibleUrlPattern(b,
e.URLPatterns.uriPattern)};return c}();e.URL=d})(TypeScript||(TypeScript={}));
(function(e){(function(d){d.basename=function(c){c=$from(Strings.RTrim(c,"/").split("/")).Last.split(".");return 1==c.length?c[0]:(new IEnumerator(c)).Take(c.length-1).JoinBy(".")};d.extensionName=function(c){c=$from(Strings.RTrim(c,"/").split("/")).Last.split(".");return 1==c.length?"":c[c.length-1]};d.fileName=function(c){return $from(Strings.RTrim(c,"/").split("/")).Last}})(e.PathHelper||(e.PathHelper={}))})(TypeScript||(TypeScript={}));var Modes;
(function(e){e[e.debug=0]="debug";e[e.development=10]="development";e[e.production=200]="production"})(Modes||(Modes={}));var DOM;
(function(e){function d(a,b,g){var f=$ts("<a>");if("download"in f){f.download=a;f.style.display="none";f.target="__blank";f.type="application/octet-stream";document.body.appendChild(f);if(g&&"string"==typeof b)f.href=b;else try{var c=DataExtensions.uriToBlob(b),d=URL.createObjectURL(c);f.href=d;f.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(d)})}}catch(m){TypeScript.logging.outputWarning&&console.warn("This browser does not support object URLs. Falling back to string URL."),
"string"!==typeof b&&(b=DataExtensions.toUri(b)),f.href=b}f.click();document.body.removeChild(f)}else"string"!==typeof b&&(b=DataExtensions.toUri(b)),window.open(b,"_temp","menubar=no,toolbar=no,status=no")}function c(a,f,g){void 0===f&&(f=null);void 0===g&&(g=null);var c=$ts("<tr>"),d=$ts("<tbody>");var e=Array.isArray(a)?b(f||$ts(Object.keys(a[0]))):b(f||$ts(Object.keys(a.First)));var m=function(a){var b=$ts("<tr>");e.forEach(function(f){return b.appendChild($ts("<td>").display(a[f.key]))});return b};
Array.isArray(a)?a.forEach(function(a){return d.appendChild(m(a))}):a.ForEach(function(a){return d.appendChild(m(a))});e.forEach(function(a){return c.appendChild($ts("<th>",{id:a.value}).display(a.value))});return $ts("<table>",g).asExtends.append($ts("<thead>").display(c)).append(d).HTMLElement}function b(a){var b=$ts.typeof(a);if(b.isArrayOf("string"))return $from(a).Select(function(a){return new MapTuple(a,a)}).ToArray();if(b.isArrayOf(TypeExtensions.DictionaryMap))return a;if(b.isEnumerator&&
"string"==typeof a.First)return a.Select(function(a){return new MapTuple(a,a)}).ToArray();if(b.isEnumerator&&TypeScript.Reflection.getClass(a.First)==TypeExtensions.DictionaryMap)return a.ToArray();throw"Invalid sequence type: "+b.class;}e.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}};e.download=function(a,b,c){void 0===c&&(c=!1);!c&&navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(DataExtensions.uriToBlob(b),a):d(a,b,c)};e.clientSize=function(){var a=window,b=document,
c=b.documentElement;b=b.getElementsByTagName("body")[0];return[a.innerWidth||c.clientWidth||b.clientWidth,a.innerHeight||c.clientHeight||b.clientHeight]};e.AddSelectOptions=function(a,b,c,d){void 0===c&&(c=null);void 0===d&&(d=null);a=$from(a).Select(function(a){return'<option value="'+a.value+'">'+a.key+"</option>"}).JoinBy("\n");c=isNullOrUndefined(c)&&isNullOrUndefined(d)?a:'\n                <select class="'+d+'" multiple name="'+c+'">\n                    '+a+"\n                </select>";$ts("#"+
b).innerHTML=c};e.CreateHTMLTableNode=c;e.AddHTMLTable=function(a,b,g,d){void 0===g&&(g=null);void 0===d&&(d=null);var f=Strings.Trim(b,"#")+"-table";d?d.id||(d.id=f):d={id:f};$ts(b).appendChild(c(a,g,d))}})(DOM||(DOM={}));
(function(e){var d=Modes.development,c=Modes.debug,b=Modes.production,a=function(){function a(){}Object.defineProperty(a,"outputWarning",{get:function(){return $ts.mode<=d},enumerable:!0,configurable:!0});Object.defineProperty(a,"outputEverything",{get:function(){return $ts.mode==c},enumerable:!0,configurable:!0});Object.defineProperty(a,"outputError",{get:function(){return $ts.mode==b},enumerable:!0,configurable:!0});a.warning=function(a){this.outputWarning&&console.warn(a)};a.log=function(a,b){void 0===
b&&(b=f.NA);b="string"!=typeof b?f[b].toLowerCase():b.toLowerCase();this.outputEverything&&("na"!=b&&TypeExtensions.isPrimitive(a)?console.log("%c"+a,"color:"+b):console.log(a))};a.table=function(a){this.outputEverything&&(isNullOrUndefined(a)?a=[]:"string"==typeof a?a=JSON.parse(a):Array.isArray(a)||(a=a.ToArray(!1)),console.table(a))};a.runGroup=function(b,f){var c=Date.now();console.group(b);f();console.groupEnd();f=Date.now();a.log("Program '"+b+"' cost "+(f-c)+"ms to run.","darkblue")};return a}();
e.logging=a;var f;(function(a){a[a.NA=-1]="NA";a[a.Black=0]="Black";a[a.Blue=9]="Blue";a[a.Cyan=11]="Cyan";a[a.DarkBlue=1]="DarkBlue";a[a.DarkCyan=3]="DarkCyan";a[a.DarkGray=8]="DarkGray";a[a.DarkGreen=2]="DarkGreen";a[a.DarkMagenta=5]="DarkMagenta";a[a.DarkRed=4]="DarkRed";a[a.DarkYellow=6]="DarkYellow";a[a.Gray=7]="Gray";a[a.Green=10]="Green";a[a.Magenta=13]="Magenta";a[a.Red=12]="Red";a[a.White=15]="White";a[a.Yellow=14]="Yellow"})(f=e.ConsoleColors||(e.ConsoleColors={}))})(TypeScript||(TypeScript=
{}));
(function(e){(function(d){function c(a,c){void 0===c&&(c=!0);switch(a.tagName.toLowerCase()){case "input":return b(a);case "select":return f(a);case "textarea":return a.value;default:if(c)throw"Get value of <"+a.tagName+"> is not supported!";return a.getAttribute("value")}}function b(b){var f=b.type.toLowerCase();return"checkbox"==f?a(b,!0):"radio"==f?b instanceof DOMEnumerator?b.Where(function(a){return a.checked}).FirstOrDefault().value:b.value:b.value}function a(a,b){void 0===b&&(b=!1);a=a instanceof
DOMEnumerator?a:new DOMEnumerator(document.getElementsByName(a.name));return 1==a.Count?(a=a.ElementAt(0),b?a.checked:a.checked?a.value:null):a.Where(function(a){return a.checked}).Select(function(a){return a.value}).ToArray(!1)}function f(a){var b=[],f=0;for(a=g(a);f<a.length;f++){var c=a[f],d=c.value;d||(d=c.innerText);b.push(d)}return b}function g(a){var b=[];if(a instanceof HTMLSelectElement)for(var f=0,c=a.options.length;f<c;f++){var g=a.options[f];g.selected&&b.push(g)}else return a instanceof
HTMLInputElement?a.checked?a.value:!1:a.Where(function(a){return a.checked}).Select(function(a){return a.value}).ToArray(!1);return b}d.metaValue=function(a,b,f){void 0===b&&(b=null);void 0===f&&(f=!1);a='meta[name~="'+a+'"]';var c=document.querySelector(a);!c&&f&&(c=parent.window.document.querySelector(a));c?b=(f=c.getAttribute("content"))?f:b:TypeScript.logging.outputWarning&&console.warn(a+" not found in current context!");return b};d.getValue=function(a,b){void 0===b&&(b=!0);return c($ts(a),b)};
d.unifyGetValue=c;d.inputValue=b;d.checkboxInput=a;d.selectOptionValues=f;d.getSelectedOptions=g;d.largeText=function(a){return a.value}})(e.InputValueGetter||(e.InputValueGetter={}))})(DOM||(DOM={}));
(function(e){(function(d){function c(){for(var b=0,c=a;b<c.length;b++){var d=c[b];d.hasUpdate()&&d.invoke()}}var b=!1,a=[];d.Add=function(f,g,e){void 0===e&&(e=null);if(f instanceof d.StatusChanged){var h=f;f=function(){return h.changed}}a.push({hasUpdate:f,invoke:g,name:e});b||(setInterval(c,10),b=!0,TypeScript.logging.log("Start background worker...",TypeScript.ConsoleColors.DarkBlue))}})(e.Events||(e.Events={}))})(DOM||(DOM={}));
(function(e){var d=function(){function c(b,a){void 0===a&&(a=null);"number"!=typeof b||isNullOrUndefined(a)?(this.min=b.min,this.max=b.max):(this.min=b,this.max=a)}Object.defineProperty(c.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"Length",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0});c.Create=function(b){var a=Array.isArray(b)?$ts(b):b;b=a.Min();a=a.Max();return new c(b,a)};c.prototype.IsInside=
function(b){return b>=this.min&&b<=this.max};c.prototype.ScaleMapping=function(b,a){return(b-this.min)/this.Length*(a.max-a.min)+a.min};c.prototype.PopulateNumbers=function(b){void 0===b&&(b=this.Length/10);for(var a=[],f=this.min;f<this.max;f+=b)a.push(f);return a};c.prototype.toString=function(){return"["+this.min+", "+this.max+"]"};return c}();e.NumericRange=d})(data||(data={}));var csv;
(function(e){e.toDataFrame=function(d){d=Array.isArray(d)?new IEnumerator(d):d;var c=$ts(Object.keys(d.First));d=d.Select(function(b){var a=c.Select(function(a,c){a=b[a];a=isNullOrUndefined(a)?"":""+a;return a});return new e.row(a)});return(new e.dataframe([new e.row(c)])).AppendRows(d)};e.isTsvFile=function(d){var c=Strings.lineTokens(d);d=$from(c).Select(function(b){return Strings.Count(b,"\t")}).Average();c=$from(c).Select(function(b){return Strings.Count(b,",")}).Average();return d>=c}})(csv||
(csv={}));
(function(e){function d(f){f.url=b;f.post=function(f,c,d,g){c={type:HttpHelpers.measureContentType(c),data:c,sendContentType:(g||{}).sendContentType||!0};HttpHelpers.POST(b(f),c,function(b,c){d&&(200==c?d(a(b)):d({code:c,info:b,url:f}))})};f.getText=function(a,f,c){void 0===c&&(c={nullForNotFound:!1});HttpHelpers.GetAsyn(b(a),function(a,b){200!=b?c.nullForNotFound?f(""):f(a):f(a)})};f.get=function(f,c){HttpHelpers.GetAsyn(b(f),function(b,d){c&&(200==d?c(a(b)):c({code:d,info:b,url:f}))})};f.upload=
function(f,c,d){HttpHelpers.UploadFile(b(f),c,null,function(b){d&&d(a(b))})};"undefined"!=typeof window&&(f.location=c());f.parseURL=function(a){return new TypeScript.URL(a)};f.goto=function(a,b){void 0===b&&(b={currentFrame:!1,lambda:!1});if("#"==a.charAt(0))TypeScript.URL.JumpToHash(a);else{if(b.lambda)return function(){$goto(a,b.currentFrame)};$goto(a,b.currentFrame)}};return f}function c(){var a=TypeScript.URL.WindowLocation(),b=function(b,f,c){void 0===f&&(f=!0);void 0===c&&(c="");return a.getArgument(b,
f,c)};b.url=a;b.hasQueryArguments=!isNullOrUndefined(a.query)&&0<a.query.length;b.path=a.path||"/";b.fileName=a.fileName;b.hash=function(a,b){void 0===a&&(a={trimprefix:!0,doJump:!1});void 0===b&&(b=null);if(isNullOrUndefined(b))return b=window.location.hash,a="boolean"==typeof a?a:a.trimprefix,b&&a&&1<b.length?b.substr(1):isNullOrUndefined(b)?"":b;"boolean"==typeof a&&!0===a||a.doJump?window.location.hash=b:TypeScript.URL.SetHash(b)};return b}function b(a,b){void 0===b&&(b=!1);if("@"==a.charAt(0)){for(var f=
[],c,d=1;d<a.length;d++){var g=c=a.charAt(d);g=-1<l.indexOf(g)?!0:Strings.isNumber(g)||Strings.isAlphabet(g);if(g)f.push(c);else break}c=f.join("");a=DOM.InputValueGetter.metaValue(c,c,!b)+a.substr(f.length+1)}return a}function a(a){if("string"==typeof a)try{return JSON.parse(a)}catch(p){throw console.error("Invalid json text: "),console.error(a),p;}else return a}function f(a,b){a.imports=function(a,b,f,c){void 0===b&&(b=DoNothing);void 0===f&&(f=!1);void 0===c&&(c=!1);return(new HttpHelpers.Imports(a,
f,c)).doLoad(b)};a.eval=function(a,b,f){void 0===b&&(b=!1);b&&(a=LZW.decode(a));HttpHelpers.Imports.doEval(a,f)};a.value=function(a,b,f){void 0===b&&(b=null);void 0===f&&(f=!1);if(isNullOrUndefined(b))return DOM.InputValueGetter.getValue(a,f);DOM.InputValueSetter.setValue(a,b,f)};a.inject=function(a,b){a=$ts(a).contentWindow;TypeScript.logging.outputEverything&&console.log(b);if(Array.isArray(b))for(var f=0;f<b.length;f++)a.eval(b[f].toString());else"string"==typeof b?a.eval(b):a.eval(b.toString())};
a.text=function(a,f,c){void 0===f&&(f=!1);void 0===c&&(c=null);a=e.Handlers.makesureElementIdSelector(a);a=b.doEval(a,null,null);if(isNullOrUndefined(a))return c;f=f?a.innerHTML:a.innerText;TypeScript.logging.log(f,TypeScript.ConsoleColors.DarkGreen);return f};a.loadJSON=function(b,f){void 0===f&&(f=null);b=a.text(b);return isNullOrUndefined(b)?f:JSON.parse(b)};a.excel=function(a,b,f,c){void 0===c&&(c=null);$ts(a).onclick=function(){DOM.Excel.attatchDownload($link(a),"string"==typeof b?$table(b):
b,f,c)}};var f={"\u2714":!0,T:!0,"true":!0,True:!0,TRUE:!0,yes:!0,success:!0,pass:!0},c={"\u2718":!1,F:!1,"false":!1,FALSE:!1,False:!1,wrong:!1,failure:!1};a.parseFileName=TypeScript.PathHelper.fileName;a.parseBool=function(a){return isNullOrUndefined(a)?!1:"number"==typeof a?0!==a:a in f?!0:a in c?!1:!0};a.unixtimestamp=function(){return Math.round((new Date).getTime())};a.baseName=TypeScript.PathHelper.basename;a.extensionName=TypeScript.PathHelper.extensionName;a.withExtensionName=function(a,b){return $ts.extensionName(a).toLowerCase()==
b.toLowerCase()};a.doubleRange=data.NumericRange.Create;a.hook=DOM.Events.Add;a.typeof=TypeScript.Reflection.$typeof;a.clone=function(a){return DataExtensions.merge(a,{})};return a}function g(a){a.isNullOrEmpty=function(a){return isNullOrEmpty(a)};a.from=$from;a.csv=function(a,b){"boolean"!=typeof b&&(b=b(a));return csv.dataframe.Parse(a,b)};a.csv.isTsvFile=csv.isTsvFile;a.csv.toObjects=function(a){return csv.dataframe.Parse(a,csv.isTsvFile(a)).Objects()};a.csv.toText=function(a,b){void 0===b&&(b=
!1);return csv.toDataFrame(a).buildDoc(b)};a.csv.toUri=function(a,b){a=$ts.csv.toText(a,b);return{mime_type:csv.contentType,data:Base64.encode(a)}};a.evalHTML={table:DOM.CreateHTMLTableNode,selectOptions:DOM.AddSelectOptions};a.appendTable=DOM.AddHTMLTable;return a}function h(a){var b=e.Handlers.Shared.string();a.select=function(a,b){void 0===b&&(b=window);b=e.Handlers.stringEval.select(a,b);0==b.Count&&TypeScript.logging.warning("select query of '"+a+"' returns no data...");return b};a.select.getSelects=
function(a){return b.doEval(a,null,null)};a.select.getSelectedOptions=function(a,b){void 0===b&&(b=window);a=$ts(a,{context:b});a=DOM.InputValueGetter.getSelectedOptions(a);return Array.isArray(a)&&"string"==typeof a[0]?a:new DOMEnumerator(a)};a.select.getOption=function(a,b){void 0===b&&(b=window);a=$ts(a,{context:b});a=DOM.InputValueGetter.getSelectedOptions(a);return"boolean"==typeof a?a:0==a.length?null:"string"==typeof a[0]?a[0]:a[0].value};return a}function k(a,b,f){var c=TypeScript.Reflection.$typeof(b),
d=c.typeOf,g=d in a?a[d]():null;if("object"!=d||"HTMLCollection"!=c.class&&"NodeListOf"!=c.class&&"NodeList"!=c.class){if(c.isArray)return g.doEval(b,c,f);if("function"==c.typeOf)TypeScript.logging.outputEverything&&!isNullOrUndefined(f)&&"HTMLIFrameElement"==TypeScript.Reflection.getClass(f)&&(console.log("Apply a new ready event on iframe:"),console.log(f)),DOM.Events.ready(b,["interactive","complete"],f);else{if(TypeExtensions.isElement(b))return TypeExtensions.Extends(b);if(isNullOrUndefined(eval)){a=
a[c.class];if(isNullOrUndefined(a))throw"Unsupported data type: "+c.toString();return a().doEval(b,c,f)}return g.doEval(b,c,f)}}else return e.Handlers.Shared.HTMLCollection().doEval(b,c,f)}e.StringEval=new e.Handlers.stringEval;e.typeGenericElement=function(a,b){return"string"==typeof a?e.StringEval.doEval(a,null,b):a};e.Static=function(){var a=e.Handlers.Shared,b=function(b,f){return k(a,b,f)},c=a.string();b.mode=Modes.production;b=f(b,c);b=g(b);b=d(b);return b=h(b)};var l=[":","_"];e.urlSolver=
b;e.queryFunction=k})(Internal||(Internal={}));"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return this.slice(0,e.length)==e});function $imports(e,d,c,b){void 0===d&&(d=DoNothing);void 0===c&&(c=!1);void 0===b&&(b=!1);return(new HttpHelpers.Imports(e,c,b)).doLoad(d)}
function $include(e){"string"==typeof e&&(e=[e]);$ts(function(){return e.forEach(function(d){var c=$ts("<script>",{type:"text/javascript",src:d});c.onload=function(){document.body.removeChild(c)};document.body.appendChild(c)})})}function md5(e,d,c){void 0===d&&(d=null);void 0===c&&(c=null);return MD5.calculate(e,d,c)}function $from(e){return new IEnumerator(e)}function CharEnumerator(e){return new IEnumerator(Strings.ToCharArray(e))}
function isNullOrEmpty(e){return null==e||void 0==e?!0:Array.isArray(e)&&0==e.length?!0:0==e.Count?!0:!1}function isNullOrUndefined(e){return null==e||void 0==e?!0:!1}function LoadJson(e){return JSON.parse(LoadText(e))}function LoadText(e){return document.getElementById(e).textContent}function getAllUrlParams(e){void 0===e&&(e=window.location.href);return-1<e.indexOf("?")?(e=Strings.GetTagValue(e,"?").value,e=TypeScript.URLPatterns.parseQueryString(e),new Dictionary(e)):new Dictionary({})}
function $goto(e,d){void 0===d&&(d=!1);var c=window;d||(c=window.top);c.location.href=Internal.urlSolver(e,d)}function $download(e,d){void 0===d&&(d=null);DOM.download(d,e,!0)}function base64_decode(e){e=Strings.lineTokens(e);e=$from(e).Where(function(d){return d&&0<d.length}).Select(function(d){return d.trim()}).JoinBy("");return Base64.decode(e)}
function parseBoolean(e){return"boolean"==typeof e?e:"number"==typeof e?0!=e:"string"==typeof e?e in Strings.logical?Strings.logical[e]:!0:!isNullOrUndefined(e)}function DoNothing(){return null}function saveSvgAsPng(e,d,c){void 0===c&&(c=CanvasHelper.saveSvgAsPng.Options.Default());return CanvasHelper.saveSvgAsPng.Encoder.saveSvgAsPng(e,d,c)}
var sprintf=data.sprintf.doFormat,executeJavaScript="javascript:void(0);",$ts=Internal.Static(),$image=function(e,d){return Internal.typeGenericElement(e,d)},$input=function(e,d){return Internal.typeGenericElement(e,d)},$link=function(e,d){return Internal.typeGenericElement(e,d)},$iframe=function(e,d){return Internal.typeGenericElement(e,d)},$table=function(e,d){var c=Internal.typeGenericElement(e,d);c.excel=function(b,a){return DOM.Excel.excel(c,b,a)};return c};
function $clone(e){var d={};if(isNullOrUndefined(e))TypeScript.logging.warning("target object is nothing!");else for(var c in e)d[c]=e[c];return d}var TypeExtensions;
(function(e){e.objectIsNothing="Object is nothing! [https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/nothing]";e.DictionaryMap=TypeScript.Reflection.getClass(new MapTuple("",""));e.ensureNumeric=function(d){return"number"==typeof d?d:parseFloat(d)};e.isPrimitive=function(d){d=typeof d;return"string"==d||"number"==d||"boolean"==d};e.isElement=function(d){try{return d instanceof HTMLElement}catch(c){return"object"===typeof d&&1===d.nodeType&&"object"===typeof d.style&&"object"===
typeof d.ownerDocument}};e.isMessageObject=function(d){var c=$ts.typeof(d);c=Activator.EmptyObject(c.property,!0);return"code"in c&&"info"in c&&Strings.IsPattern(d.code.toString(),/\d+/g)?!0:!1}})(TypeExtensions||(TypeExtensions={}));
var Group=function(e){function d(c,b){b=e.call(this,b)||this;b.Key=c;return b}__extends(d,e);Object.defineProperty(d.prototype,"Group",{get:function(){return this.sequence},enumerable:!0,configurable:!0});d.prototype.ToMaps=function(){var c=this;return $from(this.sequence).Select(function(b){return new MapTuple(c.Key,b)}).ToArray()};return d}(IEnumerator),List=function(e){function d(c){void 0===c&&(c=null);return e.call(this,c||[])||this}__extends(d,e);d.prototype.Add=function(c){this.sequence.push(c);
return this};d.prototype.AddRange=function(c){var b=this;Array.isArray(c)?c.forEach(function(a){return b.sequence.push(a)}):c.ForEach(function(a){return b.sequence.push(a)});return this};d.prototype.IndexOf=function(c){return this.sequence.indexOf(c)};d.prototype.Pop=function(){var c=this.First;this.sequence=this.sequence.slice(1);return c};return d}(IEnumerator),Matrix=function(e){function d(c,b,a){void 0===a&&(a=null);return e.call(this,d.emptyMatrix(c,b,a))||this}__extends(d,e);Object.defineProperty(d.prototype,
"rows",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"columns",{get:function(){return this.sequence[0].length},enumerable:!0,configurable:!0});d.emptyMatrix=function(c,b,a){for(var f=[],d=0;d<b;d++)f.push(DataExtensions.Dim(c,a));return f};d.prototype.M=function(c,b,a){void 0===a&&(a=null);if(isNullOrUndefined(a))return this.sequence[c][b];this.sequence[c][b]=a};d.prototype.column=function(c,b){void 0===b&&(b=null);if(isNullOrUndefined(b)){b=
[];for(var a=0;a<this.rows;a++)b.push(this.sequence[a][c]);return b}b=Array.isArray(b)?b:b.ToArray(!1);for(a=0;a<this.rows;a++)this.sequence[a][c]=b[a];return null};d.prototype.row=function(c,b){void 0===b&&(b=null);if(isNullOrUndefined(b))return this.sequence[c];Array.isArray(b)?this.sequence[c]=b:this.sequence[c]=b.ToArray(!1)};d.prototype.toString=function(){return"["+this.rows+", "+this.columns+"]"};return d}(IEnumerator),Pointer=function(e){function d(c){c=e.call(this,c)||this;c.p=0;return c}
__extends(d,e);Object.defineProperty(d.prototype,"EndRead",{get:function(){return this.p>=this.Count},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"Current",{get:function(){return this.sequence[this.p]},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"Next",{get:function(){var c=this.Current;this.p+=1;return c},enumerable:!0,configurable:!0});d.prototype.MoveNext=function(){this.p+=1;return this};d.prototype.Peek=function(c){return this.sequence[this.p+c]};return d}(IEnumerator),
SlideWindow=function(e){function d(c,b){b=e.call(this,b)||this;b.index=c;return b}__extends(d,e);d.Split=function(c,b,a){void 0===a&&(a=1);Array.isArray(c)||(c=c.ToArray());for(var f=c.length-b,g=[],e=0;e<f;e+=a){for(var k=Array(b),l=0;l<b;l++)k[l]=c[e+l];g.push(new d(e,k))}return new IEnumerator(g)};return d}(IEnumerator),Which;
(function(e){function d(b,a){void 0===a&&(a=c.default());for(var f=null,d=0,e=0;e<b.Count;e++)0<a(b.ElementAt(e),f)&&(f=b.ElementAt(e),d=e);return d}e.Is=function(b){Array.isArray(b)&&(b=new IEnumerator(b));return b.Select(function(a,b){return{flag:a,index:b}}).Where(function(a){return a.flag}).Select(function(a){return a.index})};var c=function(){function b(){this.as_numeric=null}b.prototype.compares=function(a,b){this.as_numeric||(this.as_numeric=Strings.AsNumeric(a),this.as_numeric||(this.as_numeric=
Strings.AsNumeric(b)));return this.as_numeric?this.as_numeric(a)-this.as_numeric(b):0};b.default=function(){return(new b).compares};return b}();e.DefaultCompares=c;e.Max=d;e.Min=function(b,a){void 0===a&&(a=c.default());return d(b,function(b,c){return-a(b,c)})}})(Which||(Which={}));
(function(e){var d=function(){function c(b,a){this.xset=b;this.yset=a;this.keysT=e.AllKeys(b);this.keysU=e.AllKeys(a)}c.prototype.JoinProject=function(b,a){var f={};this.keysT.forEach(function(a){return f[a]=b[a]});this.keysU.forEach(function(b){return f[b]=a[b]});return f};c.prototype.Union=function(b,a,f,c){void 0===c&&(c=this.JoinProject);var d=this.buildUtree(a,f),g=[],e=new algorithm.BTree.binaryTree(f);this.xset.forEach(function(a){var f=b(a),h=d.find(f);h?(h.forEach(function(b){return g.push(c(a,
b))}),e.find(f)||e.add(f)):g.push(c(a,{}))});this.yset.forEach(function(b){var f=a(b);e.find(f)||g.push(c({},b))});return new IEnumerator(g)};c.prototype.buildUtree=function(b,a){var f=new algorithm.BTree.binaryTree(a);this.yset.forEach(function(a){var c=b(a),d=f.find(c);d?d.push(a):f.add(c,[a])});return f};c.prototype.LeftJoin=function(b,a,f,c){void 0===c&&(c=this.JoinProject);var d=this.buildUtree(a,f),g=[];this.xset.forEach(function(a){var f=b(a);(f=d.find(f))?f.forEach(function(b){return g.push(c(a,
b))}):g.push(c(a,{}))});return new IEnumerator(g)};return c}();e.JoinHelper=d})(Enumerable||(Enumerable={}));
(function(e){var d=function(){function c(){}c.parseQuery=function(b){if("&"==b.charAt(0)){var a=!0;b=b.substr(1)}else a=!1;return c.parseExpression(b,a)};c.getById=function(b){return{type:e.QueryTypes.id,singleNode:!0,expression:b}};c.getByClass=function(b,a){return{type:e.QueryTypes.class,singleNode:a,expression:b}};c.getByName=function(b,a){return{type:e.QueryTypes.name,singleNode:a,expression:"[name='"+b+"']"}};c.getByTag=function(b,a){return{type:e.QueryTypes.tagName,singleNode:a,expression:b}};
c.createElement=function(b){return{type:e.QueryTypes.NoQuery,singleNode:!0,expression:b}};c.queryMeta=function(b){return{type:e.QueryTypes.QueryMeta,singleNode:!0,expression:b}};c.isSelectorQuery=function(b){var a=-1<b.indexOf(" ");b="<"==b.charAt(0)&&">"==b.charAt(b.length-1);return a&&!b};c.parseExpression=function(b,a){var f=b.charAt(0);if(c.isSelectorQuery(b))return{type:e.QueryTypes.tagName,singleNode:a,expression:b};switch(f){case "#":return this.getById(b.substr(1));case ".":return this.getByClass(b.substr(1),
a);case "!":return this.getByName(b.substr(1),a);case "<":return this.createElement(b);case "@":return this.queryMeta(b.substr(1));default:return this.getByTag(b,a)}};return c}();e.Query=d})(DOM||(DOM={}));(function(e){e=e.QueryTypes||(e.QueryTypes={});e[e.NoQuery=0]="NoQuery";e[e.id=1]="id";e[e["class"]=10]="class";e[e.name=100]="name";e[e.tagName=-100]="tagName";e[e.QueryMeta=200]="QueryMeta"})(DOM||(DOM={}));
(function(e){(function(d){function c(a,f,c,g){void 0===g&&(g=null);e.download(f,{mime_type:d.contentType,data:Base64.encode(b(a,c,g))})}function b(b,f,c){void 0===c&&(c=null);var d=new StringBuilder("","\n");d.AppendLine('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">');d.AppendLine("<head>");d.AppendLine('<meta name="ProgId" content="Excel.Sheet">');d.AppendLine('<meta name="Generator" content="Microsoft Excel 11">');
d.AppendLine('<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">');d.AppendLine("    \n\x3c!--[if gte mso 9]>\n\t<xml>\n\t\t<x:ExcelWorkbook>\n\t\t\t<x:ExcelWorksheets>\n\t\t\t\t<x:ExcelWorksheet>\n\t\t\t\t\t<x:Name>"+f+"</x:Name>\n\t\t\t\t\t<x:WorksheetOptions>\n\t\t\t\t\t\t<x:DisplayGridlines/>\n\t\t\t\t\t</x:WorksheetOptions>\n\t\t\t\t</x:ExcelWorksheet>\n\t\t\t</x:ExcelWorksheets>\n\t\t</x:ExcelWorkbook>\n\t</xml>\n<![endif]--\x3e\n");d.AppendLine("</head>");d.AppendLine("<body>");
d.AppendLine(a(b,c));d.AppendLine("</body>");d.AppendLine("</html>");return d.toString()}function a(a,b){b=new StringBuilder("","\n");var c=a.tBodies.item(0),d=a.tHead.rows.item(0);b.AppendLine(f(a));b.AppendLine(f(a.tHead));b.AppendLine(g(d,!0));b.AppendLine("</thead>");b.AppendLine(f(c));for(a=0;a<c.rows.length;a++)b.AppendLine(g(c.rows.item(a),!1));b.AppendLine("</tbody>");b.AppendLine("</table>");return b.toString()}function f(a){var b=a.tagName.toLowerCase();a=a.style.cssText;return Strings.Empty(a,
!0)?"<"+b+">":"<"+b+' style="'+a+'">'}function g(a,b){b=b?"th":"td";for(var c=[],d=0;d<a.cells.length;d++)c.push("<"+b+">"+h(a.cells.item(d))+"</"+b+">");return""+f(a)+c.join("")+"</tr>"}function h(a){a=a.innerHTML;a=a.replace(/[<]\/?button([\s\S]*?)[>]/ig,"");a=a.replace(/[<]select([\s\S]*?)[<]\/select[>]/ig,"");return a=a.replace(/[<]script([\s\S]*?)[<]\/script[>]/ig,"")}d.contentType="application/vnd.ms-excel";d.attatchDownload=function(a,b,f,d){void 0===f&&(f="Sheet1");void 0===d&&(d=null);c("string"==
typeof b?$ts(b):b,a.download,f,d)};d.excel=c;d.ToExcel=b;d.ToHtml=a})(e.Excel||(e.Excel={}))})(DOM||(DOM={}));
(function(e){(function(d){function c(a,b){a=a.options;for(var f=0;f<a.length;f++)a.item(f).selected=!1,a.item(f).value==b&&(a.item(f).selected=!0)}function b(a,b){a=a.Select(function(a){a=a.asInput;a.checked=!1;return a}).Where(function(a){return a.value==b}).First;a.checked=!0;TypeScript.logging.log(a)}function a(a,d,e){var f=a.First;switch(f.tagName.toLowerCase()){case "input":switch(f.asInput.type.toLowerCase()){case "checkbox":b(a,d);break;case "radio":b(a,d);break;default:a.attr("value",d)}break;
case "select":a.ForEach(function(a){return c(a,d)});break;case "textarea":a.ctype().ForEach(function(a){return a.value=d});break;default:if(e)throw"Set value of <"+a.tagName+"> is not supported!";a.attr("value",d)}}d.setValue=function(b,d,e){void 0===e&&(e=!0);b=$ts(b);if($ts.typeof(b).isEnumerator)a(new DOMEnumerator(b),d,e);else switch(b.tagName.toLowerCase()){case "input":b.asInput.value=d;break;case "select":c(b,d);break;case "textarea":b.any.value=d;break;default:if(e)throw"Set value of <"+b.tagName+
"> is not supported!";return b.setAttribute("value",d)}}})(e.InputValueSetter||(e.InputValueSetter={}))})(DOM||(DOM={}));
(function(e){var d=function(){function c(){}c.FromNode=function(b){var a=new c;a.tagName=b.tagName;a.id=b.id;a.classList=this.tokenList(b.classList);a.attrs=this.nameValueMaps(b.attributes);return a};c.tokenList=function(b){for(var a=[],f=0;f<b.length;f++)a.push(b.item(f));return a};c.nameValueMaps=function(b){for(var a=[],f,c=0;c<b.length;c++)f=b.item(c),f=new NamedValue(f.name,f.value),a.push(f);return a};return c}();e.node=d})(DOM||(DOM={}));
(function(e){e.attrs=/\S+\s*[=]\s*((["].*["])|(['].*[']))/g;e.ParseNodeDeclare=function(d){d=d.substr(1,d.length-2).trim();d=Strings.GetTagValue(d," ");var c=d.name,b=[];0<d.value.length&&(b=$from(d.value.match(e.attrs)).Where(function(a){return 0<a.length}).Select(function(a){a=Strings.GetTagValue(a,"=");var b=a.value.trim();b=b.substr(1,b.length-2);return new NamedValue(a.name,b)}).ToArray());return{tag:c,attrs:b}}})(DOM||(DOM={}));
(function(e){(function(d){d.isSupportsCSSAnimation=function(){var c=document.getElementsByTagName("body")[0].style;return"undefined"!=typeof c.animation||"undefined"!=typeof c.WebkitAnimation?!0:!1}})(e.Animation||(e.Animation={}))})(DOM||(DOM={}));
(function(e){(function(d){d.parseStylesheet=function(c){c=new Pointer(CharEnumerator(c));for(var b=[],a=[],f,d;!c.EndRead;)d=c.Current,c.MoveNext(),":"==d?(f=a.join("").trim(),a=[]):";"==d?(d=a.join("").trim(),a=[],b.push(new NamedValue(f,d))):a.push(d);0<a.length&&b.push(new NamedValue(f,a.join("")));return b}})(e.CSS||(e.CSS={}))})(DOM||(DOM={}));
(function(e){(function(d){(function(c){function b(a,b){for(var f=0;f<b.length;f++){var c=b[f],d=a,e=c.name;c=c.value;switch(e.toLowerCase()){case "color":d.style.color=c;break;case "background-color":d.style.backgroundColor=c;break;case "font-size":d.style.fontSize=c;break;default:d.style[e]=c,TypeScript.logging.warning("Set style '"+e+"' is not implements yet...")}}}c.css=function(a,f){b(a,d.parseStylesheet(f))};c.setStyle=b})(d.Setter||(d.Setter={}))})(e.CSS||(e.CSS={}))})(DOM||(DOM={}));
(function(e){(function(d){function c(b,a,f){if(document.addEventListener)if(b&&b.nodeName||b===window)b.addEventListener(a,f,!1);else{if(b&&b.length)for(var d=0;d<b.length;d++)c(b[d],a,f)}else if(b&&b.nodeName||b===window)b.attachEvent("on"+a,function(){return f.call(b,window.event)});else if(b&&b.length)for(d=0;d<b.length;d++)c(b[d],a,f)}d.ready=function(b,a,f){void 0===a&&(a=["interactive","complete"]);void 0===f&&(f=null);var c=isNullOrUndefined(f)?document:isNullOrUndefined(f.contentDocument)?
f.contentWindow.document:f.contentDocument;if("function"===typeof b){if(isNullOrUndefined(c)){if($ts.mode==Modes.production){console.warn("Target document object is nothing! Current event will not be handled....");return}if($ts.mode==Modes.debug){console.warn("Target document object is nothing! Current event will not be handled....");console.log("target iframe:");console.warn(f.contentWindow);return}}else TypeScript.logging.outputEverything&&(TypeScript.logging.log("Add Document.ready event handler.",
TypeScript.ConsoleColors.Green),TypeScript.logging.log("document.readyState = "+c.readyState,TypeScript.ConsoleColors.Green));if(-1<a.indexOf(c.readyState))return b();c.addEventListener("DOMContentLoaded",b,!1)}};d.addEvent=c})(e.Events||(e.Events={}))})(DOM||(DOM={}));
(function(e){(function(d){var c=function(){function b(a,b){void 0===b&&(b=!0);this.predicate=a;this.triggerNo=b;this.agree=a();isNullOrUndefined(b)&&(this.triggerNo=!1)}Object.defineProperty(b.prototype,"changed",{get:function(){var a=this.predicate();return a&&this.agree?!1:a&&!this.agree?this.agree=!0:!a&&this.agree?(this.agree=!1,this.triggerNo):!1},enumerable:!0,configurable:!0});return b}();d.StatusChanged=c})(e.Events||(e.Events={}))})(DOM||(DOM={}));
var HTMLTsElement=function(){function e(d){this.node=d instanceof HTMLElement?d:d.node}Object.defineProperty(e.prototype,"HTMLElement",{get:function(){return this.node},enumerable:!0,configurable:!0});e.prototype.display=function(d){if(d)if("string"==typeof d||"number"==typeof d||"boolean"==typeof d)this.HTMLElement.innerHTML=d.toString();else{var c=this.HTMLElement;d="function"==typeof d?d():d instanceof e?d.HTMLElement:d;c.innerHTML="";c.appendChild(d)}else this.HTMLElement.innerHTML="";return this};
e.prototype.clear=function(){this.HTMLElement.innerHTML="";return this};e.prototype.text=function(d){this.HTMLElement.innerText=d;return this};e.prototype.addClass=function(d){var c=this.HTMLElement;c.classList.contains(d)||c.classList.add(d);return this};e.prototype.removeClass=function(d){var c=this.HTMLElement;c.classList.contains(d)&&c.classList.remove(d);return this};e.prototype.append=function(d){d instanceof e?this.HTMLElement.appendChild(d.HTMLElement):d instanceof HTMLElement?this.HTMLElement.appendChild(d):
this.HTMLElement.appendChild(d());return this};e.prototype.show=function(){this.HTMLElement.style.display="block";return this};e.prototype.hide=function(){this.HTMLElement.style.display="none";return this};return e}();
(function(e){function d(c,b){"string"==typeof b?b=$ts("<span>").display(b):"function"==typeof b&&(b=b());c.append(b)}e.Extends=function(c){if(isNullOrUndefined(c))return null;var b=new HTMLTsElement(c);c.css=function(a,b){void 0===b&&(b=!1);b?c.setAttribute("style",a):DOM.CSS.Setter.css(c,a);return c};c.display=function(a){b.display(a);return c};c.appendElement=function(a){if(Array.isArray(a))a.forEach(function(a){return d(b,a)});else for(var f=0;f<arguments.length;f++)d(b,arguments[f]);return c};
c.show=function(){b.show();return c};c.hide=function(){b.hide();return c};c.addClass=function(a){b.addClass(a);return c};c.removeClass=function(a){b.removeClass(a);return c};c.onClassChanged=function(a,b,d){d=new DOM.Events.StatusChanged(function(){return c.classList.contains(a)},d);$ts.hook(d,b)};c.CType=function(){return c};c.clear=function(){c.innerHTML="";return c};c.selects=function(a){return Internal.Handlers.stringEval.select(a,c)};c.attr=function(a,b){if("src"==(a=a.toLowerCase())||"href"==
a)b=Internal.urlSolver(b,!0),TypeScript.logging.log("set_attr "+a+"='"+b+"'");isNullOrUndefined(b)?c.removeAttribute(a):c.setAttribute(a,b);return c};c.interactive=function(a){a?(c.style.pointerEvents="auto",c.style.opacity="1",c.style.filter=null,c.style.webkitFilter=null):(c.style.pointerEvents="none",c.style.opacity="0.4",c.style.filter="grayscale(100%)",c.style.webkitFilter="grayscale(100%)")};c.asExtends=b;c.any=c;c.asImage=c;return c.asInput=c}})(TypeExtensions||(TypeExtensions={}));
(function(e){(function(d){var c=function(){function b(a,b){void 0===a&&(a={});void 0===b&&(b={});this.args={};this.changes=[];this.args=$clone(a);this.categories={};for(var c in b){a=0;for(var f=b[c];a<f.length;a++)this.categories[f[a]]=c}}b.prototype.reset=function(){this.changes=[]};b.prototype.setObject=function(a){this.reset();for(var b in a)this.set(b,a[b]);return this.getUpdatedCategories(!0)};b.prototype.assert=function(a,b){a=this.args[a];return isNullOrUndefined(b)&&isNullOrUndefined(a)?
!1:isNullOrUndefined(b)?!0:isNullOrUndefined(a)?!0:b!==a};b.prototype.category=function(a,b){void 0===b&&(b=null);return Strings.Empty(b)?a in this.categories?this.categories[a]:null:this.categories[a]=b};b.prototype.set=function(a,b){this.args[a]=b;a in this.categories&&this.changes.push(this.categories[a])};b.prototype.get=function(a){return a in this.args?this.args[a]:null};b.prototype.getUpdatedCategories=function(a){void 0===a&&(a=!0);var b={};if(0==this.changes.length)return{};for(var c=0,d=
$from(this.changes).Distinct().ToArray();c<d.length;c++)b[d[c]]=!0;a&&(this.changes=[]);return b};b.prototype.toString=function(){return HttpHelpers.serialize(this.args)};return b}();d.Arguments=c})(e.Data||(e.Data={}))})(TypeScript||(TypeScript={}));
(function(e){(function(d){var c=function(){function b(a){this.meta=a}b.prototype.GetValue=function(a){void 0===a&&(a=null);a||(a=Internal.StackTrace.GetCallerMember().memberName);return a in this.meta?this.meta[a]:null};return b}();d.MetaReader=c})(e.Data||(e.Data={}))})(TypeScript||(TypeScript={}));
(function(e){(function(d){var c=function(a){function c(){return a.call(this,[])||this}__extends(c,a);Object.defineProperty(c.prototype,"Q",{get:function(){return this.sequence},enumerable:!0,configurable:!0});c.prototype.enqueue=function(a){var c=this.Last,f=this.Q;a=new b(a);f.push(a);c&&(c.below=a,a.above=c)};c.prototype.extract=function(a){var b=this.Q,c=b[a-1],f=b[a+1];a=b.splice(a,1)[0];c&&(c.below=f);f&&(f.above=c);return a};c.prototype.dequeue=function(){return this.extract(0)};return c}(IEnumerator);
d.PriorityQueue=c;var b=function(){function a(a){this.value=a}a.prototype.toString=function(){return this.value.toString()};return a}();d.QueueItem=b})(e.Data||(e.Data={}))})(TypeScript||(TypeScript={}));var algorithm;
(function(e){(function(d){var c=function(){function b(a){void 0===a&&(a=function(a,b){a=Strings.as_numeric(a);b=Strings.as_numeric(b);return a-b});this.compares=a}b.prototype.add=function(a,b){void 0===b&&(b=null);var c=this.root;if(c)for(;c;){var f=this.compares(a,c.key);if(0==f){c.value=b;break}else if(0>f)if(c.left)c=c.left;else{c.left=new d.node(a,b);break}else if(c.right)c=c.right;else{c.right=new d.node(a,b);break}}else this.root=new d.node(a,b)};b.prototype.find=function(a){for(var b=this.root,
c;b;){c=this.compares(a,b.key);if(0==c)return b.value;b=0>c?b.left:b.right}return null};b.prototype.ToArray=function(){return d.binaryTreeExtensions.populateNodes(this.root)};b.prototype.AsEnumerable=function(){return new IEnumerator(this.ToArray())};return b}();d.binaryTree=c})(e.BTree||(e.BTree={}))})(algorithm||(algorithm={}));
(function(e){(function(d){(function(c){function b(a,c){isNullOrUndefined(a)?TypeScript.logging.outputWarning&&console.warn(a):(c.push(a),a.left&&b(a.left,c),a.right&&b(a.right,c))}c.populateNodes=function(a){var c=[];b(a,c);return c}})(d.binaryTreeExtensions||(d.binaryTreeExtensions={}))})(e.BTree||(e.BTree={}))})(algorithm||(algorithm={}));
(function(e){(function(d){var c=function(){function b(a,b,c,d){void 0===b&&(b=null);void 0===c&&(c=null);void 0===d&&(d=null);this.key=a;this.left=c;this.right=d;this.value=b}b.prototype.toString=function(){return this.key.toString()};return b}();d.node=c})(e.BTree||(e.BTree={}))})(algorithm||(algorithm={}));
(function(e){(function(d){function c(b,c,f,e){if(!b)return d.w3color.emptyObject;c||(c=1);var g=d.rgbToHsl(b.r,b.g,b.b);var h=d.rgbToHwb(b.r,b.g,b.b);var k=d.rgbToCmyk(b.r,b.g,b.b);f=f||g.h;var l=e||g.s;e=a(f);b={red:b.r,green:b.g,blue:b.b,hue:f,sat:l,lightness:g.l,whiteness:h.w,blackness:h.b,cyan:k.c,magenta:k.m,yellow:k.y,black:k.k,ncol:e,opacity:c,valid:!0};b.red=Number(b.red.toFixed(0));b.green=Number(b.green.toFixed(0));b.blue=Number(b.blue.toFixed(0));b.hue=Number(b.hue.toFixed(0));b.sat=Number(b.sat.toFixed(2));
b.lightness=Number(b.lightness.toFixed(2));b.whiteness=Number(b.whiteness.toFixed(2));b.blackness=Number(b.blackness.toFixed(2));b.cyan=Number(b.cyan.toFixed(2));b.magenta=Number(b.magenta.toFixed(2));b.yellow=Number(b.yellow.toFixed(2));b.black=Number(b.black.toFixed(2));b.ncol=b.ncol.substr(0,1)+Math.round(Number(b.ncol.substr(1)));b.opacity=Number(b.opacity.toFixed(2));return b}function b(a){if("names"==a)return"AliceBlue AntiqueWhite Aqua Aquamarine Azure Beige Bisque Black BlanchedAlmond Blue BlueViolet Brown BurlyWood CadetBlue Chartreuse Chocolate Coral CornflowerBlue Cornsilk Crimson Cyan DarkBlue DarkCyan DarkGoldenRod DarkGray DarkGrey DarkGreen DarkKhaki DarkMagenta DarkOliveGreen DarkOrange DarkOrchid DarkRed DarkSalmon DarkSeaGreen DarkSlateBlue DarkSlateGray DarkSlateGrey DarkTurquoise DarkViolet DeepPink DeepSkyBlue DimGray DimGrey DodgerBlue FireBrick FloralWhite ForestGreen Fuchsia Gainsboro GhostWhite Gold GoldenRod Gray Grey Green GreenYellow HoneyDew HotPink IndianRed Indigo Ivory Khaki Lavender LavenderBlush LawnGreen LemonChiffon LightBlue LightCoral LightCyan LightGoldenRodYellow LightGray LightGrey LightGreen LightPink LightSalmon LightSeaGreen LightSkyBlue LightSlateGray LightSlateGrey LightSteelBlue LightYellow Lime LimeGreen Linen Magenta Maroon MediumAquaMarine MediumBlue MediumOrchid MediumPurple MediumSeaGreen MediumSlateBlue MediumSpringGreen MediumTurquoise MediumVioletRed MidnightBlue MintCream MistyRose Moccasin NavajoWhite Navy OldLace Olive OliveDrab Orange OrangeRed Orchid PaleGoldenRod PaleGreen PaleTurquoise PaleVioletRed PapayaWhip PeachPuff Peru Pink Plum PowderBlue Purple RebeccaPurple Red RosyBrown RoyalBlue SaddleBrown Salmon SandyBrown SeaGreen SeaShell Sienna Silver SkyBlue SlateBlue SlateGray SlateGrey Snow SpringGreen SteelBlue Tan Teal Thistle Tomato Turquoise Violet Wheat White WhiteSmoke Yellow YellowGreen".split(" ");
if("hexs"==a)return"f0f8ff faebd7 00ffff 7fffd4 f0ffff f5f5dc ffe4c4 000000 ffebcd 0000ff 8a2be2 a52a2a deb887 5f9ea0 7fff00 d2691e ff7f50 6495ed fff8dc dc143c 00ffff 00008b 008b8b b8860b a9a9a9 a9a9a9 006400 bdb76b 8b008b 556b2f ff8c00 9932cc 8b0000 e9967a 8fbc8f 483d8b 2f4f4f 2f4f4f 00ced1 9400d3 ff1493 00bfff 696969 696969 1e90ff b22222 fffaf0 228b22 ff00ff dcdcdc f8f8ff ffd700 daa520 808080 808080 008000 adff2f f0fff0 ff69b4 cd5c5c 4b0082 fffff0 f0e68c e6e6fa fff0f5 7cfc00 fffacd add8e6 f08080 e0ffff fafad2 d3d3d3 d3d3d3 90ee90 ffb6c1 ffa07a 20b2aa 87cefa 778899 778899 b0c4de ffffe0 00ff00 32cd32 faf0e6 ff00ff 800000 66cdaa 0000cd ba55d3 9370db 3cb371 7b68ee 00fa9a 48d1cc c71585 191970 f5fffa ffe4e1 ffe4b5 ffdead 000080 fdf5e6 808000 6b8e23 ffa500 ff4500 da70d6 eee8aa 98fb98 afeeee db7093 ffefd5 ffdab9 cd853f ffc0cb dda0dd b0e0e6 800080 663399 ff0000 bc8f8f 4169e1 8b4513 fa8072 f4a460 2e8b57 fff5ee a0522d c0c0c0 87ceeb 6a5acd 708090 708090 fffafa 00ff7f 4682b4 d2b48c 008080 d8bfd8 ff6347 40e0d0 ee82ee f5deb3 ffffff f5f5f5 ffff00 9acd32".split(" ")}
function a(a){for(;360<=a;)a-=360;if(60>a)return"R"+a/.6;if(120>a)return"Y"+(a-60)/.6;if(180>a)return"G"+(a-120)/.6;if(240>a)return"C"+(a-180)/.6;if(300>a)return"B"+(a-240)/.6;if(360>a)return"M"+(a-300)/.6}function f(a){var b,c,f;a=d.w3trim(a).toUpperCase();a=a.replace("(","");a=a.replace(")","");a=a.replace("NCS","NCS ");a=a.replace(/  /g," ");-1==a.indexOf("NCS")&&(a="NCS "+a);a=a.match(/^(?:NCS|NCS\sS)\s(\d{2})(\d{2})-(N|[A-Z])(\d{2})?([A-Z])?$/);if(null===a)return!1;var e=parseInt(a[1],10);var g=
parseInt(a[2],10);var n=a[3];if("N"!=n&&"Y"!=n&&"R"!=n&&"B"!=n&&"G"!=n)return!1;a=parseInt(a[4],10)||0;"N"!==n?(e=1.05*e-5.25,"Y"===n&&60>=a?b=1:"Y"===n&&60<a||"R"===n&&80>=a?b=(Math.sqrt(14884-Math.pow("Y"===n?a-60:a+40,2))-22)/100:"R"===n&&80<a||"B"===n?b=0:"G"===n&&(b=(Math.sqrt(33800-Math.pow(a-170,2))-70)/100),"Y"===n&&80>=a?c=0:"Y"===n&&80<a||"R"===n&&60>=a?c=(104-Math.sqrt(11236-Math.pow("Y"===n?a-80+20.5:a+20+20.5,2)))/100:"R"===n&&60<a||"B"===n&&80>=a?c=(Math.sqrt(1E4-Math.pow("R"===n?a-
60-60:a+40-60,2))-10)/100:"B"===n&&80<a||"G"===n&&40>=a?c=(122-Math.sqrt(19881-Math.pow("B"===n?a-80-131:a+20-131,2)))/100:"G"===n&&40<a&&(c=0),"Y"===n?f=(85-.85*a)/100:"R"===n&&60>=a?f=0:"R"===n&&60<a?f=(67.5-Math.sqrt(5776-Math.pow(a-60+35,2)))/100:"B"===n&&60>=a?f=(6.5+Math.sqrt(7044.5-Math.pow(1*a-68.5,2)))/100:"B"===n&&60<a||"G"===n&&60>=a?f=.9:"G"===n&&60<a&&(f=(90-.125*(a-60))/100),n=(b+f+c)/3,b=(n-b)*(100-g)/100+b,f=(n-f)*(100-g)/100+f,c=(n-c)*(100-g)/100+c,n=1/(b>f&&b>c?b:f>b&&f>c?f:c>b&&
c>f?c:(b+f+c)/3),g=parseInt(b*n*(100-e)/100*255,10),f=parseInt(f*n*(100-e)/100*255,10),e=parseInt(c*n*(100-e)/100*255,10),255<g&&(g=255),255<f&&(f=255),255<e&&(e=255),0>g&&(g=0),0>f&&(f=0),0>e&&(e=0)):(e=parseInt(255*(1-e/100),10),255<e&&(e=255),0>e&&(e=0),f=g=e);return{r:g,g:f,b:e}}d.toColorObject=function(a){var e=[],g;a=d.w3trim(a.toLowerCase());var l=a.substr(0,1).toUpperCase();var m=a.substr(1);var p=1;"R"!=l&&"Y"!=l&&"G"!=l&&"C"!=l&&"B"!=l&&"M"!=l&&"W"!=l||isNaN(m)||6==a.length&&-1==a.indexOf(",")||
(a="ncol("+a+")");3==a.length||6==a.length||isNaN(parseFloat(a))||(a="ncol("+a+")");0<a.indexOf(",")&&-1==a.indexOf("(")&&(a="ncol("+a+")");if("rgb"==a.substr(0,3)||"hsl"==a.substr(0,3)||"hwb"==a.substr(0,3)||"ncol"==a.substr(0,4)||"cmyk"==a.substr(0,4)){"ncol"==a.substr(0,4)?(4==a.split(",").length&&-1==a.indexOf("ncola")&&(a=a.replace("ncol","ncola")),l="ncol",a=a.substr(4)):"cmyk"==a.substr(0,4)?(l="cmyk",a=a.substr(4)):(l=a.substr(0,3),a=a.substr(3));m=3;var n=!1;"a"==a.substr(0,1).toLowerCase()?
(m=4,n=!0,a=a.substr(1)):"cmyk"==l&&(m=4,5==a.split(",").length&&(m=5,n=!0));a=a.replace("(","");a=a.replace(")","");e=a.split(",");if("rgb"==l){if(e.length!=m)return d.w3color.emptyObject;for(g=0;g<m;g++){if(""==e[g]||" "==e[g])e[g]="0";-1<e[g].indexOf("%")&&(e[g]=e[g].replace("%",""),e[g]=Number(e[g]/100),3>g&&(e[g]=Math.round(255*e[g])));if(isNaN(e[g]))return d.w3color.emptyObject;255<parseInt(e[g])&&(e[g]=255);3>g&&(e[g]=parseInt(e[g]));3==g&&1<Number(e[g])&&(e[g]=1)}var q={r:e[0],g:e[1],b:e[2]};
1==n&&(p=Number(e[3]))}if("hsl"==l||"hwb"==l||"ncol"==l){for(;e.length<m;)e.push("0");("hsl"==l||"hwb"==l)&&360<=parseInt(e[0])&&(e[0]=0);for(g=1;g<m;g++){if(-1<e[g].indexOf("%")){e[g]=e[g].replace("%","");e[g]=Number(e[g]);if(isNaN(e[g]))return d.w3color.emptyObject;e[g]/=100}else e[g]=Number(e[g]);1<Number(e[g])&&(e[g]=1);0>Number(e[g])&&(e[g]=0)}if("hsl"==l){q=d.hslToRgb(e[0],e[1],e[2]);var v=Number(e[0]);var t=Number(e[1])}"hwb"==l&&(q=d.hwbToRgb(e[0],e[1],e[2]));if("ncol"==l)a:{var r=e[0];a=
e[1];q=e[2];var u=r;if(isNaN(parseFloat(r.substr(0,1)))){g=r.substr(0,1).toUpperCase();r=r.substr(1);""==r&&(r=0);r=Number(r);if(isNaN(r)){q=!1;break a}"R"==g&&(u=.6*r);"Y"==g&&(u=60+.6*r);"G"==g&&(u=120+.6*r);"C"==g&&(u=180+.6*r);"B"==g&&(u=240+.6*r);"M"==g&&(u=300+.6*r);"W"==g&&(u=0,a=1-r/100,q=r/100)}q=d.hwbToRgb(u,a,q)}1==n&&(p=Number(e[3]))}if("cmyk"==l){for(;e.length<m;)e.push("0");for(g=0;g<m;g++){if(-1<e[g].indexOf("%")){e[g]=e[g].replace("%","");e[g]=Number(e[g]);if(isNaN(e[g]))return d.w3color.emptyObject;
e[g]/=100}else e[g]=Number(e[g]);1<Number(e[g])&&(e[g]=1);0>Number(e[g])&&(e[g]=0)}q=d.cmykToRgb(e[0],e[1],e[2],e[3]);1==n&&(p=Number(e[4]))}}else if("ncs"==a.substr(0,3))q=f(a);else{l=!1;m=b("names");for(g=0;g<m.length;g++)if(a.toLowerCase()==m[g].toLowerCase()){m=b("hexs");l=!0;q={r:parseInt(m[g].substr(0,2),16),g:parseInt(m[g].substr(2,2),16),b:parseInt(m[g].substr(4,2),16)};break}if(0==l){a=a.replace("#","");3==a.length&&(a=a.substr(0,1)+a.substr(0,1)+a.substr(1,1)+a.substr(1,1)+a.substr(2,1)+
a.substr(2,1));for(g=0;g<a.length;g++)if(!d.isHex(a.substr(g,1)))return d.w3color.emptyObject;e[0]=parseInt(a.substr(0,2),16);e[1]=parseInt(a.substr(2,2),16);e[2]=parseInt(a.substr(4,2),16);for(g=0;3>g;g++)if(isNaN(e[g]))return d.w3color.emptyObject;q={r:e[0],g:e[1],b:e[2]}}}return c(q,p,v,t)};d.colorObject=c;d.getColorArr=b;d.w3SetColorsByAttribute=function(){var a,b;var c=document.getElementsByTagName("*");for(a=0;a<c.length;a++)if(b=c[a].getAttribute("data-w3-color"))c[a].style.backgroundColor=
(new d.w3color(b)).toRgbString()}})(e.ColorManager||(e.ColorManager={}))})(TypeScript||(TypeScript={}));(function(e){(function(d){var c=function(){return function(){}}();d.IW3color=c})(e.ColorManager||(e.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(e){(function(d){function c(a,c,d){a/=60;c=.5>=d?d*(c+1):d+c-d*c;var f=2*d-c;d=255*b(f,c,a+2);var e=255*b(f,c,a);a=255*b(f,c,a-2);return{r:d,g:e,b:a}}function b(a,b,c){0>c&&(c+=6);6<=c&&(c-=6);return 1>c?(b-a)*c+a:3>c?b:4>c?(b-a)*(4-c)+a:a}d.hslToRgb=c;d.hueToRgb=b;d.hwbToRgb=function(a,b,d){var f=[];a=c(a,1,.5);f[0]=a.r/255;f[1]=a.g/255;f[2]=a.b/255;a=b+d;1<a&&(b=Number((b/a).toFixed(2)),d=Number((d/a).toFixed(2)));for(a=0;3>a;a++)f[a]*=1-b-d,f[a]+=b,f[a]=Number(255*f[a]);return{r:f[0],
g:f[1],b:f[2]}};d.cmykToRgb=function(a,b,c,d){return{r:255-255*Math.min(1,a*(1-d)+d),g:255-255*Math.min(1,b*(1-d)+d),b:255-255*Math.min(1,c*(1-d)+d)}};d.rgbToHsl=function(a,b,c){var f,d;var e=[];e[0]=a/255;e[1]=b/255;e[2]=c/255;a=e[0];b=e[0];for(c=f=0;c<e.length-1;c++)e[c+1]<=a&&(a=e[c+1]),e[c+1]>=b&&(b=e[c+1],f=c+1);0==f&&(d=(e[1]-e[2])/(b-a));1==f&&(d=2+(e[2]-e[0])/(b-a));2==f&&(d=4+(e[0]-e[1])/(b-a));isNaN(d)&&(d=0);d*=60;0>d&&(d+=360);e=(a+b)/2;return{h:d,s:a==b?0:.5>e?(b-a)/(b+a):(b-a)/(2-b-
a),l:e}};d.rgbToHwb=function(a,b,c){a/=255;b/=255;c/=255;var f=Math.max(a,b,c),d=Math.min(a,b,c),e=f-d;return{h:0==e?0:a==f?(b-c)/e%6*360:b==f?((c-a)/e+2)%6*360:((a-b)/e+4)%6*360,w:d,b:1-f}};d.rgbToCmyk=function(a,b,c){a/=255;b/=255;c/=255;var f=1-Math.max(a,b,c);1==f?c=b=a=0:(a=(1-a-f)/(1-f),b=(1-b-f)/(1-f),c=(1-c-f)/(1-f));return{c:a,m:b,y:c,k:f}}})(e.ColorManager||(e.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(e){(function(d){d.toHex=function(c){for(c=c.toString(16);2>c.length;)c="0"+c;return c};d.cl=function(c){e.logging.log(c,e.ConsoleColors.DarkYellow)};d.w3trim=function(c){return c.replace(/^\s+|\s+$/g,"")};d.isHex=function(c){return-1<"0123456789ABCDEFabcdef".indexOf(c)}})(e.ColorManager||(e.ColorManager={}))})(TypeScript||(TypeScript={}));
(function(e){(function(d){var c=function(){function b(a,c){void 0===a&&(a=null);void 0===c&&(c=null);isNullOrUndefined(a)?this.attachValues(b.emptyObject):"string"==typeof a?this.attachValues(d.toColorObject(a)):this.attachValues(a);isNullOrUndefined(c)||(c.style.backgroundColor=this.toRgbString())}Object.defineProperty(b,"emptyObject",{get:function(){return{red:0,green:0,blue:0,hue:0,sat:0,lightness:0,whiteness:0,blackness:0,cyan:0,magenta:0,yellow:0,black:0,ncol:"R",opacity:1,valid:!1}},enumerable:!0,
configurable:!0});b.prototype.toRgbString=function(){return"rgb("+this.red+", "+this.green+", "+this.blue+")"};b.prototype.toRgbaString=function(){return"rgba("+this.red+", "+this.green+", "+this.blue+", "+this.opacity+")"};b.prototype.toHwbString=function(){return"hwb("+this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%)"};b.prototype.toHwbStringDecimal=function(){return"hwb("+this.hue+", "+this.whiteness+", "+this.blackness+")"};b.prototype.toHwbaString=function(){return"hwba("+
this.hue+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity+")"};b.prototype.toHslString=function(){return"hsl("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%)"};b.prototype.toHslStringDecimal=function(){return"hsl("+this.hue+", "+this.sat+", "+this.lightness+")"};b.prototype.toHslaString=function(){return"hsla("+this.hue+", "+Math.round(100*this.sat)+"%, "+Math.round(100*this.lightness)+"%, "+this.opacity+")"};b.prototype.toCmykString=
function(){return"cmyk("+Math.round(100*this.cyan)+"%, "+Math.round(100*this.magenta)+"%, "+Math.round(100*this.yellow)+"%, "+Math.round(100*this.black)+"%)"};b.prototype.toCmykStringDecimal=function(){return"cmyk("+this.cyan+", "+this.magenta+", "+this.yellow+", "+this.black+")"};b.prototype.toNcolString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%"};b.prototype.toNcolStringDecimal=function(){return this.ncol+", "+this.whiteness+", "+this.blackness};
b.prototype.toNcolaString=function(){return this.ncol+", "+Math.round(100*this.whiteness)+"%, "+Math.round(100*this.blackness)+"%, "+this.opacity};b.prototype.toName=function(){for(var a,b,c,e=d.getColorArr("hexs"),k=0;k<e.length;k++)if(a=parseInt(e[k].substr(0,2),16),b=parseInt(e[k].substr(2,2),16),c=parseInt(e[k].substr(4,2),16),this.red==a&&this.green==b&&this.blue==c)return d.getColorArr("names")[k];return""};b.prototype.toHexString=function(){var a=d.toHex(this.red),b=d.toHex(this.green),c=d.toHex(this.blue);
return"#"+a+b+c};b.prototype.toRgb=function(){return{r:this.red,g:this.green,b:this.blue,a:this.opacity}};b.prototype.toHsl=function(){return{h:this.hue,s:this.sat,l:this.lightness,a:this.opacity}};b.prototype.toHwb=function(){return{h:this.hue,w:this.whiteness,b:this.blackness,a:this.opacity}};b.prototype.toCmyk=function(){return{c:this.cyan,m:this.magenta,y:this.yellow,k:this.black,a:this.opacity}};b.prototype.toNcol=function(){return{ncol:this.ncol,w:this.whiteness,b:this.blackness,a:this.opacity}};
b.prototype.isDark=function(a){return(299*this.red+587*this.green+114*this.blue)/1E3<(a||128)};b.prototype.saturate=function(a){this.sat+=a/100||.1;1<this.sat&&(this.sat=1);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.desaturate=function(a){this.sat-=a/100||.1;0>this.sat&&(this.sat=0);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.lighter=
function(a){this.lightness+=a/100||.1;1<this.lightness&&(this.lightness=1);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.darker=function(a){this.lightness-=a/100||.1;0>this.lightness&&(this.lightness=0);a=d.hslToRgb(this.hue,this.sat,this.lightness);a=d.colorObject(a,this.opacity,this.hue,this.sat);this.attachValues(a)};b.prototype.attachValues=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue;this.hue=
a.hue;this.sat=a.sat;this.lightness=a.lightness;this.whiteness=a.whiteness;this.blackness=a.blackness;this.cyan=a.cyan;this.magenta=a.magenta;this.yellow=a.yellow;this.black=a.black;this.ncol=a.ncol;this.opacity=a.opacity;this.valid=a.valid};return b}();d.w3color=c})(e.ColorManager||(e.ColorManager={}))})(TypeScript||(TypeScript={}));var Base64;
(function(e){function d(b){var a=[],c=0;for(b=b.replace(/[^A-Za-z0-9+/=]/g,"");c<b.length;){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(c++));d=d<<2|e>>4;e=(e&15)<<
4|k>>2;var m=(k&3)<<6|l;a.push(d);64!=k&&a.push(e);64!=l&&a.push(m)}return a}var c=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/g;e.isValidBase64String=function(b){return b&&0==b.length%4?c.test(b):!1};e.encode=function(b){var a=[],c=0;for(b=e.utf8_encode(b);c<b.length;){var d=b.charCodeAt(c++);var h=b.charCodeAt(c++);var k=b.charCodeAt(c++);var l=d>>2;d=(d&3)<<4|h>>4;var m=(h&15)<<2|k>>6;var p=k&63;isNaN(h)?m=p=64:isNaN(k)&&(p=64);a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l));
a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(p))}return a.join("")};e.decode=function(b){var a="",c=0;for(b=d(b);c<b.length;c++)a+=String.fromCharCode(b[c]);return a=e.utf8_decode(a)};e.decode_rawBuffer=d;e.bytes_decode=function(b){var a=[],c=new Uint8Array(d(b));b=new DataView(c.buffer);c=c.length/
8;for(var e=0;e<c;e++)a.push(b.getFloat64(8*e));return a};e.utf8_encode=function(b){var a=[];b=b.replace(/rn/g,"n");for(var c=0;c<b.length;c++){var d=b.charCodeAt(c);128>d?a.push(String.fromCharCode(d)):(127<d&&2048>d?a.push(String.fromCharCode(d>>6|192)):(a.push(String.fromCharCode(d>>12|224)),a.push(String.fromCharCode(d>>6&63|128))),a.push(String.fromCharCode(d&63|128)))}return a.join("")};e.utf8_decode=function(b){for(var a=[],c=0,d,e,k;c<b.length;)d=b.charCodeAt(c),128>d?(a.push(String.fromCharCode(d)),
c++):191<d&&224>d?(e=b.charCodeAt(c+1),a.push(String.fromCharCode((d&31)<<6|e&63)),c+=2):(e=b.charCodeAt(c+1),k=b.charCodeAt(c+2),a.push(String.fromCharCode((d&15)<<12|(e&63)<<6|k&63)),c+=3);return a.join("")}})(Base64||(Base64={}));var LZW;
(function(e){e.encode=function(d){var c={};d=(d+"").split("");for(var b=[],a,f=d[0],e=256,h=1;h<d.length;h++)a=d[h],null!=c[f+a]?f+=a:(b.push(1<f.length?c[f]:f.charCodeAt(0)),c[f+a]=e,e++,f=a);b.push(1<f.length?c[f]:f.charCodeAt(0));for(h=0;h<b.length;h++)b[h]=String.fromCharCode(b[h]);return b.join("")};e.decode=function(d){var c={};d=(d+"").split("");for(var b=d[0],a=b,e=[b],g=256,h,k=1;k<d.length;k++)h=d[k].charCodeAt(0),h=256>h?d[k]:c[h]?c[h]:a+b,e.push(h),b=h.charAt(0),c[g]=a+b,g++,a=h;return e.join("")}})(LZW||
(LZW={}));var Levenshtein;
(function(e){function d(b,a,d){void 0===d&&(d=c);b=Strings.ToCharArray(b,!0);a=Strings.ToCharArray(a,!0);if(0==b.length&&0==a.length)return[[0]];if(0==b.length)return[[$ts(a).Sum(function(a){return d.insert(a)})]];if(0==a.length)return[[$ts(b).Sum(function(a){return d.delete(a)})]];var e=b.length+1,f=a.length+1,k=new Matrix(e,f,0);k.column(0,Enumerable.Range(0,e-1));k.row(0,Enumerable.Range(0,f-1));for(var l,m,p,n=1;n<e;n++)for(var q=1;q<f;q++)l=k.M(q-1,n)+d.delete(b[q-1]),m=k.M(q,n-1)+d.insert(a[n-
1]),p=k.M(q-1,n-1)+d.substitute(b[q-1],a[n-1]),k.M(q,n,Enumerable.Min(l,m,p));return k.ToArray(!1)}var c={insert:function(b){return 1},delete:function(b){return 1},substitute:function(b,a){return b==a?0:1}};e.DistanceMatrix=d;e.ComputeDistance=function(b,a,e){void 0===e&&(e=c);b=d(b,a,e);return b[b.length-1][b[0].length-1]}})(Levenshtein||(Levenshtein={}));
var StringBuilder=function(){function e(d,c){void 0===d&&(d=null);void 0===c&&(c="\n");this.buffer=d?"string"==typeof d?""+d:""+d.buffer:"";this.newLine=c}Object.defineProperty(e.prototype,"Length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0});e.prototype.Append=function(d){this.buffer+=d;return this};e.prototype.AppendLine=function(d){void 0===d&&(d="");return this.Append(d+this.newLine)};e.prototype.toString=function(){return this.buffer+""};return e}();
(function(e){var d=function(){function c(){}Object.defineProperty(c,"hasWorkerFeature",{get:function(){return"undefined"!==typeof Worker?!0:!1},enumerable:!0,configurable:!0});c.RunWorker=function(b,a,d){void 0===d&&(d=null);TypeScript.URLPatterns.isAPossibleUrlPattern(b)?this.fetchWorker(b,d,function(d){return c.registerWorker(b,d,a)}):this.registerWorker(md5(b),this.buildWorker(b,d),a)};c.registerWorker=function(b,a,d){c.$workers[b]=new Worker(a);c.$workers[b].onmessage=d};c.buildWorker=function(b,
a){if(!isNullOrUndefined(a)){var c;for(c in a){var d=a[c];var e="{$"+c+"}";b=b.replace(e,d)}}try{var k=new Blob([b],{type:"application/javascript"})}catch(l){a=window,a.BlobBuilder=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder,k=a.BlobBuilder(),k.append(b),k=k.getBlob()}return URL.createObjectURL(k)};c.fetchWorker=function(b,a,c){var d=this;$ts.getText(b,function(b){b=d.buildWorker(b,a);TypeScript.logging.log("Build worker blob url: "+b,TypeScript.ConsoleColors.Gray);c(b)})};c.Stop=function(b){c.$workers[b].terminate();
delete c.$workers[b]};c.$workers={};return c}();e.BackgroundWorker=d})(Internal||(Internal={}));var Router;
(function(e){function d(a,b){b(f[a])}function c(a,b){void 0===b&&(b="/");var c=$ts.typeof(a);return{module:b,appName:a.appName,className:c.class,status:a.appStatus,hookUnload:a.appHookMsg}}function b(b){var c=TypeScript.URL.WindowLocation().hash;if(c=a.Item(c))"/"==c?(window.location.hash="",window.location.reload(!0)):$ts("#"+b).innerHTML=HttpHelpers.GET(c)}var a,f={},g=!0;e.appName=DOM.InputValueGetter.metaValue("app");e.isCaseSensitive=function(){return g};e.currentAppPage=function(){for(var a in f)for(var b=
0,c=f[a].Values.ToArray();b<c.length;b++){var d=c[b];if("Running"==d.appStatus)return d}return null};e.CaseInsensitive=function(a){void 0===a&&(a=!0);g=!a};e.AddAppHandler=function(a,b){void 0===b&&(b="/");b in f||(f[b]=new Dictionary({}));d(b,function(b){return b.Add(a.appName,a)})};var h={"/":"general","index.php":"php server","index.perl":"perl server","index.do":"","index.jsp":"java server","index.vbs":"VB server script","index.vb":"VB server","index.asp":"VB6 server","index.aspx":"VB.NET server"};
e.getAppSummary=c;e.RunApp=function(a){void 0===a&&(a="/");TypeScript.logging.log(TypeScript.URL.WindowLocation());if(a in f)d(a,function(a){return a.Select(function(a){return a.value.Init()})});else if("index"==a||a in h){a=!1;for(var b=0,e=Object.keys(h);b<e.length;b++){var g=e[b];if(g in f){d(g,function(a){return a.Select(function(a){return a.value.Init()})});a=!0;break}}if(!a)throw"Default module is not found!";}else throw'Module "'+a+'" is not exists in your web app.';if(TypeScript.logging.outputEverything){var k=
[];Object.keys(f).forEach(function(a){d(a,function(b){b.ForEach(function(b){return k.push(c(b.value,a))})})});console.table(k)}};e.queryKey=function(a){return function(b){return getAllUrlParams(b).Item(a)}};e.moduleName=function(){return function(a){return(new TypeScript.URL(a)).fileName}};e.register=function(c,d,f){void 0===c&&(c="app");void 0===d&&(d=null);void 0===f&&(f=!0);a||(a=new Dictionary({"/":"/"}));var g=d?"string"==typeof d?e.queryKey(d):d:function(a){return(new TypeScript.URL(a)).fileName};
d=$ts(".router");d.attr("router-link",function(a){return a.href});d.attr("href","javascript:void(0);");d.onClick(function(a,b){e.goto(a.getAttribute("router-link"),c,g)});d.attr("router-link").ForEach(function(b){a.Add(g(b),b)});b(c)};e.IsTopWindowStack=function(){return parent&&parent.location.pathname==window.location.pathname};e.goto=function(a,b,c,d){e.IsTopWindowStack()?($ts("#"+b).innerHTML=HttpHelpers.GET(a),e.register(b,c,!1),window.location.hash=c(a)):parent.Router.goto(a,b,c,parent)}})(Router||
(Router={}));
var Bootstrap=function(){function e(){this.status="Sleep";this.hookUnload=null}Object.defineProperty(e.prototype,"currentAppPage",{get:function(){return getAllUrlParams().Item("app")||Router.appName||"/"},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"appStatus",{get:function(){return this.status},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"appHookMsg",{get:function(){return this.hookUnload},enumerable:!0,configurable:!0});e.prototype.isCurrentAppPath=function(){var d=
$ts.location.path;TypeScript.logging.outputEverything&&console.log("Current url path is '"+d+"'");return d==this.appName};e.prototype.isCurrentApp=function(){var d=this.currentAppPage;if("/"===this.appName.charAt(0))return this.isCurrentAppPath();if(d=Router.isCaseSensitive()?d==this.appName:d.toLowerCase()==this.appName.toLowerCase())TypeScript.logging.outputEverything&&console.log("%c["+$ts.typeof(this).class+"] App(name:="+this.appName+") Init...","color:blue;");else return!1;return d};e.prototype.Init=
function(){var d=this,c=this;this.isCurrentApp()&&($ts(function(){return d.OnDocumentReady()}),window.onload=c.OnWindowLoad,window.onbeforeunload=c.OnWindowUnload,window.onhashchange=function(){var b=window.location.hash.substr(1);c.OnHashChanged(b)},Internal.EventHandles.hookEventHandles(this),this.init(),this.status="Running")};e.prototype.OnDocumentReady=function(){};e.prototype.OnWindowLoad=function(){};e.prototype.OnWindowUnload=function(){if(!Strings.Empty(this.hookUnload,!0))return this.hookUnload};
e.prototype.unhook=function(){this.hookUnload=null};e.prototype.OnHashChanged=function(d){};e.prototype.toString=function(){return"["+this.status+"] "+this.appName};return e}();
(function(e){(function(d){function c(a){void 0===a&&(a="id");var b=document.querySelectorAll("*["+a+"]");a=[];var c=0;for(b=$ts(b).ToArray(!1);c<b.length;c++)a.push(b[c].id);return a}function b(a,b,c){for(var d=function(d){if(-1<b.indexOf(d)){var f=e(a[d]);if(0==f.length||2==f.length)$ts("#"+d).onclick=function(b,c){return a[d](b,c)},TypeScript.logging.log("["+c.class+"] hook onclick for #"+d+"...",TypeScript.ConsoleColors.Green)}},f=0,g=c.methods;f<g.length;f++)d(g[f])}function a(a,b,c){b=$from(b).Select(function(a){return""+
a+"_onchange"}).ToArray();var d=function(c){if(-1==b.indexOf(c))return"continue";var d=e(a[c]),f=c.replace("_onchange",""),g=document.getElementById(f);f=g.tagName.toLowerCase();1==d.length&&"value"==d[0]?"input"==f||"textarea"==f?(d=g.getAttribute("type"),isNullOrUndefined(d)||"file"!=d.toLowerCase()?g.onchange=function(){var b=DOM.InputValueGetter.unifyGetValue(g);return a[c](b)}:g.onchange=function(){var b=$input(g).files;return a[c](b)}):"select"==f?g.onchange=function(){var b=DOM.InputValueGetter.unifyGetValue(g);
return a[c](b)}:TypeScript.logging.log("invalid tag name: "+g.tagName+"!","red"):0==d.length&&($input(g).onchange=function(){return a[c]()})},f=0;for(c=c.methods;f<c.length;f++)d(c[f])}function e(a){a=a.toString().replace(g,"");a=a.slice(a.indexOf("(")+1,a.indexOf(")")).match(h);return null===a?[]:a}d.findAllElement=c;d.hookEventHandles=function(d){var e=c("id"),f=TypeScript.Reflection.$typeof(d);b(d,e,f);a(d,e,f)};var g=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,h=/([^\s,]+)/g;d.parseFunctionArgumentNames=
e})(e.EventHandles||(e.EventHandles={}))})(Internal||(Internal={}));var Framework;
(function(e){(function(d){function c(a,b){void 0===b&&(b=-1);var c=$ts.typeof(a);if(c.isEnumerator)c=a.ToArray();else if(c.isArray)c=a.slice();else if(0>=b)c=[a];else{c=[];for(var d=0;d<b;d++)c.push(a)}if(1<=b)if(b<c.length)c=c.slice(0,b);else if(b>c.length)for(d=c.length;d<b;d++)c.push(null);return c}function b(a,c){void 0===c&&(c=null);if(null==a||"object"!=typeof a||a.constructor!=Object&&a.constructor!=Array)return a;if(a.constructor==Date||a.constructor==RegExp||a.constructor==Function||a.constructor==
String||a.constructor==Number||a.constructor==Boolean)return new a.constructor(a);c=c||new a.constructor;for(var d in a)c[d]="undefined"==typeof c[d]?b(a[d],null):c[d];return c}d.EnsureCollection=function(a,b){void 0===b&&(b=-1);return new IEnumerator(c(a,b))};d.EnsureArray=c;d.extend=b})(e.Extensions||(e.Extensions={}))})(Framework||(Framework={}));(function(e){e.gc=function(){return e.garbageCollect.handler()}})(TypeScript||(TypeScript={}));
(function(e){(function(d){d.handler=function(){if("function"===typeof window.require){var c=window.require;try{c("v8").setFlagsFromString("--expose_gc");if(null!=window.global){var b=window.global;if("function"==typeof b.gc)return b.gc}var a=c("vm");if(null!=a&&"function"==typeof a.runInNewContext){var d=a.runInNewContext("gc");return function(){d()}}}catch(g){}}if("undefined"!==typeof window){if(window.CollectGarbage)return window.CollectGarbage;if(window.gc)return window.gc;if(window.opera&&window.opera.collect)return window.opera.collect}return"undefined"!==
typeof window.global&&(c=window.global,c.gc)?c.gc:function(){e.logging.outputEverything&&console.log("There is no gc handler could be found currently....")}}()})(e.garbageCollect||(e.garbageCollect={}))})(TypeScript||(TypeScript={}));
(function(e){var d=function(){function c(){}c.nameFilter=function(b){var a=this;return $from(Object.keys(b)).Where(function(b){return-1==a.ArgumentNames.indexOf(b)}).ToArray()};c.Default=function(){return{caseInSensitive:!1,nativeModel:!0,defaultValue:"",context:window}};c.ArgumentNames=Object.keys(c.Default());return c}();e.Arguments=d})(Internal||(Internal={}));
(function(e){(function(d){(function(c){c.isEnumeratorSignature=function(b){for(var a=!1,c=!1,d=0,e=b.property;d<e.length;d++){var k=e[d];"i"==k&&(a=!0);"sequence"==k&&(c=!0)}if(!a||!c)return!1;c=a=!1;d=0;for(b=b.methods;d<b.length;d++)e=b[d],"ElementAt"==e&&(a=!0),"ToArray"==e&&(c=!0);return a&&c?!0:!1}})(d.Internal||(d.Internal={}))})(e.Reflection||(e.Reflection={}))})(TypeScript||(TypeScript={}));
(function(e){var d=function(){function c(){}c.prototype.toString=function(){return this.caller+" [as "+this.memberName+"]("+this.file+":"+this.line+":"+this.column+")"};c.Parse=function(b){var a=new c,d=c.getFileName(b);b=b.replace(d,"").trim().substr(3);d=d.substr(1,d.length-2);if(-1<b.indexOf("/")||-1<b.indexOf(":"))b="<HTML\\Document>";var e=$ts(d.match(/([:]\d+){2}$/m)[0].split(":")),h=e.Select(function(a){return a.length}).Sum()+2;e=$from(e).Where(function(a){return 0<a.length}).Select(function(a){return Strings.Val(a)}).ToArray();
a.file=d.substr(0,d.length-h);(d=(d=b.match(/\[.+\]/))&&0!=d.length?d[0]:null)?(b=b.substr(0,b.length-d.length).trim(),a.memberName=d.substr(3,d.length-4).trim()):(d=b.split("."),a.memberName=d[d.length-1]);a.caller=b;a.line=e[0];a.column=e[1];return a};c.getFileName=function(b){var a=b.match(/\(.+\)/);return a&&0!=a.length?a[0]:"("+b.substr(6).trim()+")"};return c}();e.StackFrame=d})(Internal||(Internal={}));
(function(e){var d=function(){function b(){this.lastCheck=this.start=(new Date).getTime()}b.prototype.Tick=function(){var a=(new Date).getTime(),b=new c;b.start=this.start;b.time=a;b.sinceFromStart=a-this.start;b.sinceLastCheck=a-this.lastCheck;this.lastCheck=a;return b};return b}();e.Benchmark=d;var c=function(){function b(){}Object.defineProperty(b.prototype,"elapsedMilisecond",{get:function(){return(new Date).getTime()-this.time},enumerable:!0,configurable:!0});return b}();e.CheckPoint=c})(TypeScript||
(TypeScript={}));var Cookies;(function(e){function d(c){c=(c=RegExp(""+c+"[^;]+").exec(document.cookie))?c.toString().replace(/^[^=]+./,""):"";return decodeURIComponent(c)}e.setCookie=function(c,b,a){throw"not implements";};e.getCookie=d;e.delCookie=function(c){var b=d(c),a=new Date;a.setTime(a.getTime()-1);null!=b&&(a=a.toGMTString(),document.cookie=c+"="+b+";expires="+a)}})(Cookies||(Cookies={}));
(function(e){(function(d){var c=function(){function b(a,b,c){void 0===c&&(c=1);this.dbName=a;this.using=b;this.version=c;this.processDbRequest(indexedDB.open(a,c))}b.prototype.processDbRequest=function(a){var b=this;a.onerror=function(a){console.dir(a)};a.onsuccess=function(a){b.db=a.target.result};a.onupgradeneeded=function(a){b.db=a.target.result;b.using(b.db)}};return b}();d.Open=c})(e.LocalDb||(e.LocalDb={}))})(TypeScript||(TypeScript={}));var CanvasHelper;
(function(e){function d(a){return a.fillText&&a.measureText?!0:!1}var c;e.getTextWidth=function(a,b){var d=(c||(c=$ts("<canvas>"))).getContext("2d");d.font=b;return d.measureText(a).width};e.imageOk=function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0};e.createCanvas=function(a,b,c,e){void 0===e&&(e="block");a=$ts("<canvas>",{width:a[0],height:a[1],id:b,title:c,style:"display: "+e+";"});if(!a.getContext)return null;b=a.getContext("2d");return d(b)?a:null};e.supportsText=
d;var b=function(){function a(){this.sizes=[]}a.prototype.toString=function(){return a.css(this)};a.css=function(a){return a.point?a.point+"pt":a.percent?a.percent+"%":a.em?a.em+"em":a.pixel.toString()};return a}();e.fontSize=b;var a=function(){function a(){}a.prototype.apply=function(b){a.applyCSS(b,this)};a.applyCSS=function(a,c){a.style.fontFamily=c.fontName;a.style.fontSize=b.css(c.size)};return a}();e.CSSFont=a})(CanvasHelper||(CanvasHelper={}));
(function(e){(function(d){function c(a){return a instanceof HTMLElement||a instanceof SVGElement}function b(a){if(c(a))return a;throw Error("an HTMLElement or SVGElement is required; got "+a);}function a(a){return a&&0==a.lastIndexOf("http",0)&&-1==a.lastIndexOf(window.location.host)}function e(b,c,e){var f=b.getAttributeNS(d.xlink,"href");if(f&&("string"!=typeof f&&(f=f.value),a(f))){TypeScript.logging.outputWarning&&console.warn("Cannot render embedded images linking to external hosts: "+f);return}var g=
$ts("<canvas>"),h=g.getContext("2d"),k=new Image;k.crossOrigin="anonymous";(f=f||b.getAttribute("href"))?(k.src=f,k.onload=function(){g.width=k.width;g.height=k.height;h.drawImage(k,0,0);b.setAttributeNS(d.xlink,"href",g.toDataURL("image/png"));c--;e(c)},k.onerror=function(){console.error("Could not load "+f);c--;e(c)}):(c--,e(c));return c}d.xlink="http://www.w3.org/1999/xlink";d.isElement=c;d.requireDomNode=b;d.isExternal=a;d.inlineImages=function(a,c){b(a);a=a.querySelectorAll("image");var d=a.length,
f=function(a){0===a&&c()};f(d);for(var g=0;g<a.length;g++)d=e(a[g],d,f)};d.getDimension=function(a,b,c){a=a.viewBox&&a.viewBox.baseVal&&a.viewBox.baseVal[c]||null!==b.getAttribute(c)&&!b.getAttribute(c).match(/%$/)&&parseInt(b.getAttribute(c))||a.getBoundingClientRect()[c]||parseInt(b.style[c])||parseInt(window.getComputedStyle(a).getPropertyValue(c));if("undefined"===typeof a||null===a)return 0;a=parseFloat(a);return isNaN(a)?0:a};d.reEncode=function(a){a=encodeURIComponent(a);a=a.replace(/%([0-9A-F]{2})/g,
function(a,b){a=String.fromCharCode("0x"+b);return"%"===a?"%25":a});return decodeURIComponent(a)}})(e.saveSvgAsPng||(e.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(e){(function(d){d.xmlns="http://www.w3.org/2000/xmlns/";d.doctype='<?xml version="1.0" standalone="no"?>\n            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var c=function(){function b(){}b.prepareSvg=function(a,c,e){void 0===c&&(c=new d.Options);d.requireDomNode(a);c.scale=c.scale||1;c.responsive=c.responsive||!1;d.inlineImages(a,function(){b.doInlineImages(a,c,e)})};b.doInlineImages=function(a,b,c){var e=
$ts("<div>"),f=a.cloneNode(!0);if("svg"==a.tagName){var g=b.width||d.getDimension(a,f,"width");var m=b.height||d.getDimension(a,f,"height")}else if(a.getBBox){var p=a.getBBox();g=p.x+p.width;m=p.y+p.height;f.setAttribute("transform",f.getAttribute("transform").replace(/translate\(.*?\)/,""));p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(f);f=p}else{console.error("Attempted to render non-SVG element",a);return}f.setAttribute("version","1.1");f.getAttribute("xmlns")||
f.setAttributeNS(d.xmlns,"xmlns","http://www.w3.org/2000/svg");f.getAttribute("xmlns:xlink")||f.setAttributeNS(d.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");b.responsive?(f.removeAttribute("width"),f.removeAttribute("height"),f.setAttribute("preserveAspectRatio","xMinYMin meet")):(f.setAttribute("width",(g*b.scale).toString()),f.setAttribute("height",(m*b.scale).toString()));f.setAttribute("viewBox",[b.left||0,b.top||0,g,m].join(" "));p=f.querySelectorAll("foreignObject > *");for(var n=0;n<
p.length;n++)p[n].getAttribute("xmlns")||p[n].setAttributeNS(d.xmlns,"xmlns","http://www.w3.org/1999/xhtml");e.appendChild(f);d.styles.doStyles(a,b,function(a){a=$ts("<style>",{type:"text/css"}).display("<![CDATA[\n"+a+"\n]]\x3e");a=$ts("<defs>").display(a);f.insertBefore(a,f.firstChild);c&&(a=e.innerHTML,a=a.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),c(a,g,m))})};b.svgAsDataUri=function(a,b,c){void 0===c&&(c=null);this.prepareSvg(a,b,function(a){a="data:image/svg+xml;base64,"+
window.btoa(d.reEncode(d.doctype+a));c&&c(a)})};b.convertToPng=function(a,b,c,d){b=$ts("<canvas>",{width:b,height:c});c=b.getContext("2d");d.canvg?d.canvg(b,a):c.drawImage(a,0,0);d.backgroundColor&&(c.globalCompositeOperation="destination-over",c.fillStyle=d.backgroundColor,c.fillRect(0,0,b.width,b.height));try{var e=b.toDataURL(d.encoderType,d.encoderOptions)}catch(l){if("SecurityError"==l.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw l;}return e};
b.svgAsPngUri=function(a,c,e){void 0===c&&(c=new d.Options);d.requireDomNode(a);c.encoderType=c.encoderType||"image/png";c.encoderOptions=c.encoderOptions||.8;var f=function(a,d,f){e(b.convertToPng(a,d,f,c))};c.canvg?this.prepareSvg(a,c,f):this.svgAsDataUri(a,c,function(a){var b=new Image;b.onload=function(){f(b,b.width,b.height)};b.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(a.slice(26)),"\n","Open the following link to see browser's diagnosis\n",
a)};b.src=a})};b.saveSvg=function(a,b,c){d.requireDomNode(a);c=c||{};this.svgAsDataUri(a,c,function(a){return DOM.download(b,a)})};b.saveSvgAsPng=function(a,b,c){void 0===c&&(c=d.Options.Default());"string"==typeof a&&(a=$ts(a));d.requireDomNode(a);this.svgAsPngUri(a,c,function(a){return DOM.download(b,a)})};return b}();d.Encoder=c})(e.saveSvgAsPng||(e.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(e){(function(d){var c=function(){function a(){}a.Default=function(){return{encoderType:"image/png",encoderOptions:.8,scale:1,responsive:!1,left:0,top:0}};return a}();d.Options=c;c=function(){function a(){}a.doStyles=function(a,b,c){for(var d="",e=[],f=document.styleSheets,g=0;g<f.length;g++){try{var h=f[g].cssRules}catch(q){TypeScript.logging.outputWarning&&console.warn("Stylesheet could not be loaded: "+f[g].href);continue}null!=h&&(d+=this.processCssRules(a,h,b,f[g].href,e))}this.processFontQueue(e,
d,c)};a.processCssRules=function(b,c,d,e,l){for(var f="",g=0,h;g<c.length;g++,h=null){var k=c[g];if("undefined"!=typeof k.style){try{var v=k.selectorText}catch(r){TypeScript.logging.outputWarning&&console.warn('The following CSS rule has an invalid selector: "'+k+'"',r)}try{v&&(h=b.querySelector(v)||b.parentNode.querySelector(v))}catch(r){TypeScript.logging.outputWarning&&console.warn('Invalid CSS selector "'+v+'"',r)}if(h)h=d.selectorRemap?d.selectorRemap(k.selectorText):k.selectorText,k=d.modifyStyle?
d.modifyStyle(k.style.cssText):k.style.cssText,f+=h+" { "+k+" }\n";else if(k.cssText.match(/^@font-face/)){h=/url\(["']?(.+?)["']?\)/;var t=k.cssText.match(h);t=t&&t[1]||"";t.match(/^data:/)&&(t="");"about:blank"===t&&(t="");t?(t.startsWith("../")?t=e+"/../"+t:t.startsWith("./")&&(t=e+"/."+t),l.push({text:k.cssText,fontUrlRegexp:h,format:a.getFontMimeTypeFromUrl(t),url:t})):f+=k.cssText+"\n"}}}return f};a.processFontQueue=function(a,b,c){function d(d){function f(f){TypeScript.logging.outputWarning&&
(console.warn("Failed to load font from: "+d.url),console.warn(f));b+=d.text+"\n";e.processFontQueue(a,b,c)}function g(d,f){b+=d.text.replace(d.fontUrlRegexp,'url("data:'+d.format+";base64,"+f+'")')+"\n";setTimeout(function(){e.processFontQueue(a,b,c)},0)}var h=new XMLHttpRequest;h.addEventListener("load",function(){var a=DataExtensions.arrayBufferToBase64(h.response);g(d,a)});h.addEventListener("error",f);h.addEventListener("abort",f);h.open("GET",d.url);h.responseType="arraybuffer";h.send()}var e=
this;if(0<a.length){var f=a.pop();d(f)}else c(b)};a.getFontMimeTypeFromUrl=function(a){for(var c=Object.keys(b),d=0;d<c.length;++d){var e=c[d];if(0<a.indexOf("."+e))return b[e]}this.warnFontNotSupport(a);return"application/octet-stream"};a.warnFontNotSupport=function(a){console.warn("Unknown font format for "+a+"; Fonts may not be working correctly")};return a}();d.styles=c;var b={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",
sfnt:"application/font-sfnt",svg:"image/svg+xml"};(function(){return function(){}})()})(e.saveSvgAsPng||(e.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));var HttpHelpers;
(function(e){var d=function(){function c(b,a,c){void 0===a&&(a=!1);void 0===c&&(c=!0);this.i=0;this.echo=this.onErrorResumeNext=!1;this.jsURL="string"==typeof b?[b]:b;this.errors=[];this.onErrorResumeNext=a;this.echo=c}c.prototype.nextScript=function(){return this.jsURL[this.i++]};c.prototype.doLoad=function(b){var a=this;void 0===b&&(b=DoNothing);var c=this.nextScript();Strings.Empty(c,!0)?b():e.GetAsyn(c,function(d,e){return a.doExec(c,d,e,b)})};c.prototype.doExec=function(b,a,c,d){switch(c){case 200:try{eval.apply(window,
[a])}catch(h){if(this.onErrorResumeNext)TypeScript.logging.outputWarning&&(console.warn(b),console.warn(h)),this.errors.push(b);else throw h;}finally{this.echo&&console.log("script loaded: ",b)}break;default:this.echo&&console.error("ERROR: script not loaded: ",b),this.errors.push(b)}this.doLoad(d)};c.doEval=function(b,a,c){void 0===c&&(c=window);Base64.isValidBase64String(b)&&(b=Base64.decode(b));eval.apply(c,[b]);a&&a()};c.getFullPath=function(b){var a=$ts.location.path;if("/"==b.charAt(0))return b;
console.log(a)};return c}();e.Imports=d})(HttpHelpers||(HttpHelpers={}));
(function(e){e.contentTypes={form:"multipart/form-data",json:"application/json",text:"text/plain",www:"application/x-www-form-urlencoded"};e.measureContentType=function(c){return c instanceof FormData?e.contentTypes.form:"string"==typeof c?e.contentTypes.text:e.contentTypes.json};e.GET=function(c){var b=new XMLHttpRequest;b.open("GET",c,!1);b.send(null);return 200===b.status?b.responseText:null};e.GetAsyn=function(c,b){var a=new XMLHttpRequest;a.open("GET",c,!0);a.onreadystatechange=function(){var c=
this.getResponseHeader("content-type");isNullOrUndefined(c)&&(c=this.getResponseHeader("Content-Type"));4==a.readyState&&b(a.response||a.responseText,a.status,c)};a.send(null)};e.POST=function(c,b,a){var d=new XMLHttpRequest,g=b.data;b.type==e.contentTypes.json&&"string"!=typeof g&&(g=JSON.stringify(g));d.open("POST",c,!0);b.sendContentType&&d.setRequestHeader("Content-Type",b.type);d.onreadystatechange=function(){4==d.readyState&&a(d.responseText,d.status)};d.send(g)};e.UploadFile=function(c,b,a,
d){void 0===a&&(a=null);var f=new FormData;b instanceof File?(f.append("filename",b.name),a=a||b.name):f.append("filename",a);f.append("File",b,a);e.POST(c,{type:e.contentTypes.form,data:f},d)};e.serialize=function(c,b){void 0===b&&(b=!1);var a=[];"function"==typeof c&&(c=c());for(var d=0,e=Object.keys(c);d<e.length;d++){var h=e[d];var k=c[h];if(isNullOrUndefined(k))if(b&&TypeScript.logging.outputEverything)console.warn(h+" value is nothing!"),k="null";else continue;a.push(h+"="+encodeURIComponent(k))}return a.join("&")};
var d=function(){function c(){this.sendContentType=!0}c.prototype.toString=function(){return this.type};return c}();e.PostData=d})(HttpHelpers||(HttpHelpers={}));
(function(e){e.contentType="text/csv";var d=function(c){function b(a){return c.call(this,a)||this}__extends(b,c);Object.defineProperty(b.prototype,"headers",{get:function(){return new IEnumerator(this.sequence[0])},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"contents",{get:function(){return this.Skip(1)},enumerable:!0,configurable:!0});b.prototype.Column=function(a){var b=this.sequence[0].indexOf(a);return-1==b?new IEnumerator([]):this.Select(function(a){return a.ElementAt(b)})};
b.prototype.AppendLine=function(a){this.sequence.push(a);return this};b.prototype.AppendRows=function(a){var b=this;Array.isArray(a)?a.forEach(function(a){return b.sequence.push(a)}):a.ForEach(function(a){return b.sequence.push(a)});return this};b.prototype.buildDoc=function(a){void 0===a&&(a=!1);return a?this.Select(function(a){return a.JoinBy("\t")}).JoinBy("\n"):this.Select(function(a){return a.rowLine}).JoinBy("\n")};b.prototype.Objects=function(a,c){void 0===a&&(a={});void 0===c&&(c=function(){return{}});
var d=b.ensureMapsAll(a,this.headers.ToArray());return this.Skip(1).Select(function(a){var b=c();a.ForEach(function(a,c){b[d(c)]=a});return b})};b.ensureMapsAll=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d in a||(a[d]=d)}return function(c){return a[b[c]]}};b.prototype.save=function(a,b,c){void 0===b&&(b="upload.csv");void 0===c&&(c=function(a){console.log(a)});var d=this.buildDoc();HttpHelpers.UploadFile(a,d,b,c)};b.Load=function(a,c,d){var e=this;void 0===c&&(c=null);void 0===d&&(d=this.defaultContent);
if(null==c||void 0==c){a=d(HttpHelpers.GET(a));var f=this.isTsv(a);return b.Parse(a.content,f)}HttpHelpers.GetAsyn(a,function(a,f,g){if(200==f)a=d(a,g),f=e.isTsv(a),a=b.Parse(a.content,f),console.log(a.headers),c(a);else throw"Error while load csv data source, http "+f+": "+a;});return null};b.isTsv=function(a){a=a.type.trim();return"tsv"==a||"#tsv"==a};b.defaultContent=function(a){return{type:"csv",content:a}};b.Parse=function(a,c){void 0===c&&(c=!1);var d=c?e.row.ParseTsv:e.row.Parse;a=$from(a.split(/\n/)).Select(function(a){return a.replace("\r",
"").replace("\n","")});TypeScript.logging.log("Document data is a "+(c?"tsv":"csv")+" file.",TypeScript.ConsoleColors.Blue);$ts.mode==Modes.debug&&(console.log("Peeks of your input table data:"),console.table(this.head(a,d)));c=Strings.Empty(a.Last)?a.Take(a.Count-1).Select(d):a.Select(d);return new b(c)};b.head=function(a,b){return a.Take(6).Select(b).Select(function(a){return a.ToArray(!1)}).ToArray()};return b}(IEnumerator);e.dataframe=d})(csv||(csv={}));
(function(e){(function(d){function c(a,c){void 0===c&&(c=b);var d=a.headers.Select(function(a){return"<th>"+a+"</th>"}).JoinBy("\n");a=a.contents.Select(function(a){return a.Select(function(a){return"<td>"+a+"</td>"}).JoinBy("")}).Select(function(a){return"<tr>"+a+"</tr>"}).JoinBy("\n");return'\n            <table class="'+c+'">\n                <thead>\n                    <tr>'+d+"</tr>\n                </thead>\n                <tbody>\n                    "+a+"\n                </tbody>\n            </table>"}
var b=["table","table-hover"];d.toHTMLTable=c;d.createHTMLTable=function(a,d){void 0===d&&(d=b);return c(e.toDataFrame(a),d)}})(e.HTML||(e.HTML={}))})(csv||(csv={}));
(function(e){var d=function(c){function b(a){return c.call(this,a)||this}__extends(b,c);Object.defineProperty(b.prototype,"columns",{get:function(){return this.sequence.slice()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rowLine",{get:function(){return $from(this.columns).Select(b.autoEscape).JoinBy(",")},enumerable:!0,configurable:!0});b.prototype.indexOf=function(a,b){void 0===b&&(b=null);return isNullOrUndefined(b)?this.sequence.indexOf(a):this.sequence.indexOf(a,b)};b.prototype.ProjectObject=
function(a){var b={},c=this.columns;Array.isArray(a)?a.forEach(function(a,d){b[a]=c[d]}):a.ForEach(function(a,d){b[a]=c[d]});return b};b.autoEscape=function(a){return-1<a.indexOf(",")?'"'+a+'"':a};b.Parse=function(a){return new b(e.CharsParser(a))};b.ParseTsv=function(a){return new b(e.CharsParser(a,"\t"))};return b}(IEnumerator);e.row=d})(csv||(csv={}));
(function(e){e.CharsParser=function(d,c,b){void 0===c&&(c=",");void 0===b&&(b='"');var a=[],e=[],g=!1,h=$from(Strings.ToCharArray(d)).ToPointer(),k=new RegExp("["+b+"]{2}","g"),l=function(){return e.join("").replace(k,b)};for(d=function(d){var f=e;var k=void 0;void 0===k&&(k="\\");f=isNullOrEmpty(f)?!1:f[f.length-1]==k;f?e[e.length-1]=d:(f=h.Current,k=0<e.length&&e[e.length-1]!=b,0==e.length&&f==c?(a.push(""),e=[],h.MoveNext(),g=!1):(f==c||h.EndRead)&&k?(a.push(l()),e=[],h.MoveNext(),g=!1):e.push(d))};!h.EndRead;){var m=
h.Next;g?m==b?d(m):e.push(m):0==e.length&&m==b?g=!0:m==c?(a.push(l()),e=[]):e.push(m)}0<e.length&&a.push(l());return a}})(csv||(csv={}));
