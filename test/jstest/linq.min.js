var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,b,f){d!=Array.prototype&&d!=Object.prototype&&(d[b]=f.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(d,b,f,a){if(b){f=$jscomp.global;d=d.split(".");for(a=0;a<d.length-1;a++){var e=d[a];e in f||(f[e]={});f=f[e]}d=d[d.length-1];a=f[d];b=b(a);b!=a&&null!=b&&$jscomp.defineProperty(f,d,{configurable:!0,writable:!0,value:b})}};$jscomp.underscoreProtoCanBeSet=function(){var d={a:!0},b={};try{return b.__proto__=d,b.a}catch(f){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(d,b){d.__proto__=b;if(d.__proto__!==b)throw new TypeError(d+" is not extensible");return d}:null;$jscomp.polyfill("Object.setPrototypeOf",function(d){return d||$jscomp.setPrototypeOf},"es6","es5");$jscomp.findInternal=function(d,b,f){d instanceof String&&(d=String(d));for(var a=d.length,e=0;e<a;e++){var c=d[e];if(b.call(f,c,e,d))return{i:e,v:c}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(b,f){return $jscomp.findInternal(this,b,f).v}},"es6","es3");$jscomp.arrayIteratorImpl=function(d){var b=0;return function(){return b<d.length?{done:!1,value:d[b++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var d=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+d++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.iteratorFromArray=function(d,b){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var f=0,a={next:function(){if(f<d.length){var e=f++;return{value:b(e,d[e]),done:!1}}a.next=function(){return{done:!0,value:void 0}};return a.next()}};a[Symbol.iterator]=function(){return a};return a};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
var __extends=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,f){b.__proto__=f}||function(b,f){for(var a in f)f.hasOwnProperty(a)&&(b[a]=f[a])};return function(b,f){function a(){this.constructor=b}d(b,f);b.prototype=null===f?Object.create(f):(a.prototype=f.prototype,new a)}}(),data;
(function(d){(function(b){var f=function(){function a(){}a.prototype.toString=function(){return JSON.stringify(this)};return a}();b.match=f;b.placeholder=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g);b.parseFormat=function(a,e){for(var c,f,d=c=0,k,l=[],m=[];k=b.placeholder.exec(a);)f=b.placeholder.lastIndex-k[0].length,m[m.length]=a.substring(c,f),c=b.placeholder.lastIndex,l[l.length]={match:k[0],left:k[3]?!0:!1,sign:k[4]||"",pad:k[5]||" ",min:k[6]||0,precision:k[8],code:k[9]||
"%",negative:0>parseInt(e[d])?!0:!1,argument:String(e[d])},k[9]&&(d+=1);m[m.length]=a.substring(c);return{matches:l,convCount:d,strings:m}};b.doFormat=function(a){for(var e=[],c=1;c<arguments.length;c++)e[c-1]=arguments[c];if("undefined"==typeof arguments||1>arguments.length||"string"!=typeof arguments[0]||"undefined"==typeof RegExp)return null;c=b.parseFormat(a,e);var f=c.convCount;if(0==c.matches.length)return a;if(e.length<f)throw"Mismatch format argument numbers ("+e.length+" !== "+f+")!";return b.doSubstitute(c.matches,
c.strings)};b.doSubstitute=function(a,e){var c,f="";for(c=0;c<a.length;c++){if("%"==a[c].code)var d="%";else"b"==a[c].code?(a[c].argument=String(Math.abs(parseInt(a[c].argument)).toString(2)),d=b.convert(a[c],!0)):"c"==a[c].code?(d=Math.abs(parseInt(a[c].argument)),a[c].argument=String(String.fromCharCode(parseInt(String(d)))),d=b.convert(a[c],!0)):"d"==a[c].code?(a[c].argument=String(Math.abs(parseInt(a[c].argument))),d=b.convert(a[c])):"f"==a[c].code?(d=a[c].precision?parseFloat(a[c].precision):
6,a[c].argument=String(Math.abs(parseFloat(a[c].argument)).toFixed(d)),d=b.convert(a[c])):"o"==a[c].code?(a[c].argument=String(Math.abs(parseInt(a[c].argument)).toString(8)),d=b.convert(a[c])):"s"==a[c].code?(d=a[c].precision?parseFloat(a[c].precision):a[c].argument.length,a[c].argument=a[c].argument.substring(0,d),d=b.convert(a[c],!0)):"x"==a[c].code?(a[c].argument=String(Math.abs(parseInt(a[c].argument)).toString(16)),d=b.convert(a[c])):"X"==a[c].code?(a[c].argument=String(Math.abs(parseInt(a[c].argument)).toString(16)),
d=b.convert(a[c]).toUpperCase()):d=a[c].match;f+=e[c];f+=d}return f+e[c]};b.convert=function(a,e){void 0===e&&(e=!1);a.sign=e?"":a.negative?"-":a.sign;var c=parseFloat(a.min)-a.argument.length+1-a.sign.length;c=Array(0>c?0:c).join(a.pad);return a.left?"0"==a.pad||e?a.sign+a.argument+c.replace(/0/g," "):a.sign+a.argument+c:"0"==a.pad||e?a.sign+c+a.argument:c+a.sign+a.argument}})(d.sprintf||(d.sprintf={}))})(data||(data={}));
var LINQIterator=function(){function d(b){this.i=0;this.sequence=b}d.prototype[Symbol.iterator]=function(){return this};Object.defineProperty(d.prototype,"Count",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});d.prototype.reset=function(){this.i=0;return this};d.prototype.next=function(){return this.i<this.sequence.length?{value:this.sequence[this.i++],done:!1}:{value:void 0,done:!0}};return d}(),Enumerable;
(function(d){function b(a){return From(a).Select(function(a){return Object.keys(a)}).Unlist().Distinct().ToArray()}d.Range=function(a,e,c){void 0===c&&(c=1);return(new data.NumericRange(a,e)).PopulateNumbers(c)};d.Min=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];e=99999999999;for(var c=0;c<a.length;c++){var f=a[c];f<e&&(e=f)}return e};d.Select=function(a,e){var c=[];a.forEach(function(a,f){c.push(e(a,f))});return new IEnumerator(c)};d.OrderBy=function(a,e){a=a.slice();a.sort(function(a,
f){return e(a)-e(f)});return new IEnumerator(a)};d.OrderByDescending=function(a,e){return d.OrderBy(a,function(a){return-e(a)})};d.Take=function(a,e){var c=a.length;if(c<=e)var f=a;else{f=[];for(var b=0;b<e&&!(b>=c);b++)f.push(a[b])}return new IEnumerator(f)};d.Skip=function(a,e){var c=[];if(e>=a.length)return new IEnumerator([]);for(;e<a.length;e++)c.push(a[e]);return new IEnumerator(c)};d.TakeWhile=function(a,e){for(var c=[],f=0;f<a.length;f++)if(e(a[f]))c.push(a[f]);else break;return new IEnumerator(c)};
d.Where=function(a,e){var c=[];a.forEach(function(a){1==e(a)&&c.push(a)});return new IEnumerator(c)};d.SkipWhile=function(a,e){for(var c=0;c<a.length;c++)if(1!=e(a[c]))return d.Skip(a,c);return new IEnumerator([])};d.All=function(a,e){for(var c=0;c<a.length;c++)if(!e(a[c]))return!1;return!0};d.Any=function(a,e){for(var c=0;c<a.length;c++)if(1==e(a[c]))return!0;return!1};d.GroupBy=function(a,e,c){var f=new algorithm.BTree.binaryTree(c);a.forEach(function(a){var c=e(a),b=f.find(c);b?b.push(a):f.add(c,
[a])});console.log(f);return f.AsEnumerable().Select(function(a){return new Group(a.key,a.value)})};d.AllKeys=b;var f=function(){function a(a,c){this.xset=a;this.yset=c;this.keysT=b(a);this.keysU=b(c)}a.prototype.JoinProject=function(a,c){var e={};this.keysT.forEach(function(c){return e[c]=a[c]});this.keysU.forEach(function(a){return e[a]=c[a]});return e};a.prototype.Union=function(a,c,f,b){void 0===b&&(b=this.JoinProject);var e=this.buildUtree(c,f),d=[],g=new algorithm.BTree.binaryTree(f);this.xset.forEach(function(c){var f=
a(c),h=e.find(f);h?(h.forEach(function(a){return d.push(b(c,a))}),g.find(f)||g.add(f)):d.push(b(c,{}))});this.yset.forEach(function(a){var e=c(a);g.find(e)||d.push(b({},a))});return new IEnumerator(d)};a.prototype.buildUtree=function(a,c){var e=new algorithm.BTree.binaryTree(c);this.yset.forEach(function(c){var f=a(c),b=e.find(f);b?b.push(c):e.add(f,[c])});return e};a.prototype.LeftJoin=function(a,c,f,b){void 0===b&&(b=this.JoinProject);var e=this.buildUtree(c,f),d=[];this.xset.forEach(function(c){var f=
a(c);(f=e.find(f))?f.forEach(function(a){return d.push(b(c,a))}):d.push(b(c,{}))});return new IEnumerator(d)};return a}();d.JoinHelper=f})(Enumerable||(Enumerable={}));
var IEnumerator=function(d){function b(f){return d.call(this,b.getArray(f))||this}__extends(b,d);Object.defineProperty(b.prototype,"ElementType",{get:function(){return TypeInfo.typeof(this.First)},enumerable:!0,configurable:!0});b.prototype.ElementAt=function(f){void 0===f&&(f=null);if(!f)f=0;else if("string"==typeof f)throw"Item index='"+f+"' must be an integer!";return this.sequence[f]};b.getArray=function(f){return f?Array.isArray(f)?f.slice():f.sequence.slice():[]};b.prototype.indexOf=function(f){return this.sequence.indexOf(f)};
Object.defineProperty(b.prototype,"First",{get:function(){return this.sequence[0]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Last",{get:function(){return this.sequence[this.Count-1]},enumerable:!0,configurable:!0});b.prototype.FirstOrDefault=function(f){void 0===f&&(f=null);return 0==this.Count?f:this.sequence[0]};b.prototype.Union=function(f,a,e,c,b){void 0===b&&(b=null);Array.isArray(f)||(f=f.ToArray());return(new Enumerable.JoinHelper(this.sequence,f)).Union(a,e,c,b)};
b.prototype.Join=function(f,a,e,c,b){void 0===b&&(b=null);Array.isArray(f)||(f=f.ToArray());return(new Enumerable.JoinHelper(this.sequence,f)).LeftJoin(a,e,c,b)};b.prototype.Select=function(f){return Enumerable.Select(this.sequence,f)};b.prototype.GroupBy=function(f,a){if(isNullOrUndefined(a))switch(typeof f(this.First)){case "string":a=Strings.CompareTo;break;case "number":a=function(a,c){return a-c};break;case "boolean":a=function(a,c){return a==c?0:1==a?1:-1};break;default:throw"No element comparer was specific!";
}return Enumerable.GroupBy(this.sequence,f,a)};b.prototype.Where=function(f){return Enumerable.Where(this.sequence,f)};b.prototype.Min=function(f){void 0===f&&(f=function(a){return DataExtensions.as_numeric(a)});return Enumerable.OrderBy(this.sequence,f).First};b.prototype.Max=function(f){void 0===f&&(f=function(a){return DataExtensions.as_numeric(a)});return Enumerable.OrderByDescending(this.sequence,f).First};b.prototype.Average=function(f){void 0===f&&(f=null);return 0==this.Count?0:this.Sum(f)/
this.sequence.length};b.prototype.Sum=function(f){void 0===f&&(f=null);var a=0;f||(f=function(a){return Number(a)});for(var e=0;e<this.sequence.length;e++)a+=f(this.sequence[e]);return a};b.prototype.OrderBy=function(f){return Enumerable.OrderBy(this.sequence,f)};b.prototype.OrderByDescending=function(f){return Enumerable.OrderByDescending(this.sequence,f)};b.prototype.Take=function(f){return Enumerable.Take(this.sequence,f)};b.prototype.Skip=function(f){return Enumerable.Skip(this.sequence,f)};b.prototype.Reverse=
function(){var f=this.ToArray().reverse();return new b(f)};b.prototype.TakeWhile=function(f){return Enumerable.TakeWhile(this.sequence,f)};b.prototype.SkipWhile=function(f){return Enumerable.SkipWhile(this.sequence,f)};b.prototype.All=function(f){return Enumerable.All(this.sequence,f)};b.prototype.Any=function(f){void 0===f&&(f=null);return f?Enumerable.Any(this.sequence,f):this.sequence&&0!=this.sequence.length?!0:!1};b.prototype.Distinct=function(f){void 0===f&&(f=function(a){return a.toString()});
return this.GroupBy(f,Strings.CompareTo).Select(function(a){return a.First})};b.prototype.ChunkWith=function(f,a){void 0===a&&(a=!1);var e=new List,c=[];this.sequence.forEach(function(b){f(b)?(e.Add(c),c=a?[b]:[]):c.push(b)});0<c.length&&e.Add(c);return e};b.prototype.ForEach=function(f){this.sequence.forEach(f)};b.prototype.JoinBy=function(f,a){void 0===a&&(a=function(a){return"string"===typeof a?a:a.toString()});return this.Select(function(e){return a(e)}).ToArray().join(f)};b.prototype.Unlist=
function(f){void 0===f&&(f=function(a){return a});var a=[];this.ForEach(function(e){f(e).forEach(function(c){return a.push(c)})});return new b(a)};b.prototype.ToArray=function(f){void 0===f&&(f=!0);return f?this.sequence.slice():this.sequence};b.prototype.ToList=function(){return new List(this.sequence)};b.prototype.ToDictionary=function(f,a){void 0===a&&(a=function(a){return a});var e={};this.sequence.forEach(function(c){var b=f(c);c=a(c);e[b]=c});return new Dictionary(e)};b.prototype.ToPointer=
function(){return new Pointer(this)};b.prototype.SlideWindows=function(f,a){void 0===a&&(a=1);return SlideWindow.Split(this,f,a)};return b}(LINQIterator),DOMEnumerator=function(d){function b(f){return d.call(this,b.ensureElements(f))||this}__extends(b,d);b.ensureElements=function(f){var a=TypeInfo.typeof(f);if("NodeList"==a.class){var e=[];f.forEach(function(a){return e.push(a)})}else if("HTMLCollection"==a.class)for(e=[],a=0;a<f.length;a++)e.push(f.item(a));else e=Framework.Extensions.EnsureArray(f);
f=0;for(a=e;f<a.length;f++)TypeExtensions.Extends(a[f]);return e};b.prototype.val=function(f){void 0===f&&(f=null);if(isNullOrUndefined(f))return this.Select(function(a){return b.getVal(a)});"string"==typeof f||"number"==typeof f?this.ForEach(function(a){return b.setVal(a,f)}):Array.isArray(f)?this.ForEach(function(a,e){return b.setVal(a,f[e])}):this.ForEach(function(a,e){return b.setVal(a,f.ElementAt(e))})};b.setVal=function(f,a){f instanceof HTMLInputElement?f.value=a:f.textContent=a};b.getVal=
function(f){return f instanceof HTMLInputElement?f.value:f.textContent};b.prototype.attr=function(f,a){void 0===a&&(a=null);if(a){if("function"==typeof a)return this.Select(function(e){var c=a(e);e.setAttribute(f,c);return c});var e=Framework.Extensions.EnsureArray(a,this.Count);return this.Select(function(a,b){b=e[b];a.setAttribute(f,b);return b})}return this.Select(function(a){return a.getAttribute(f)})};b.prototype.AddClass=function(f){this.ForEach(function(a){a.classList.contains(f)||a.classList.add(f)});
return this};b.prototype.AddEvent=function(f,a){this.ForEach(function(e){DOM.addEvent(e,f,function(c){a(e,c)})})};b.prototype.onChange=function(f){this.AddEvent("onchange",f)};b.prototype.onClick=function(f){this.ForEach(function(a){a.onclick=function(a){f(this,a);return!1}})};b.prototype.RemoveClass=function(f){this.ForEach(function(a){a.classList.contains(f)&&a.classList.remove(f)});return this};b.prototype.hide=function(){this.ForEach(function(f){return f.style.display="none"});return this};b.prototype.show=
function(){this.ForEach(function(f){return f.style.display="block"});return this};b.prototype.Delete=function(){this.ForEach(function(f){return f.parentNode.removeChild(f)})};return b}(IEnumerator),Internal;
(function(d){(function(b){function f(a,e){return a?window.hasOwnProperty.call(a,e):!1}var a={onclick:"onclick"},e=Object.keys(a);b.hasKey=f;b.EnsureNodeId=function(a){if(a)return"#"==a[0]?a:"#"+a;throw"The given node id value is nothing!";};var c=function(){function c(){}c.ensureArguments=function(a){if(isNullOrUndefined(a))return d.Arguments.Default();isNullOrUndefined(a.nativeModel)&&(a.nativeModel=!0);return a};c.select=function(a,c){void 0===c&&(c=window);a=a.replace(":","\\:");if(c instanceof
Window)c=c.document.querySelectorAll(a);else if(c instanceof HTMLElement)c=c.querySelectorAll(a);else throw"Unsupported context type: "+TypeInfo.getClass(c);return new DOMEnumerator(c)};c.prototype.doEval=function(a,e,f){var b=DOM.Query.parseQuery(a);e=c.ensureArguments(f);var d=e.context||window;if(b.type==DOM.QueryTypes.id)return f=d.document.getElementById(b.expression),isNullOrUndefined(f)?(TypeScript.logging.outputWarning&&console.warn("Unable to found a node which its ID='"+a+"'!"),null):e.nativeModel?
TypeExtensions.Extends(f):new HTMLTsElement(f);if(b.type==DOM.QueryTypes.NoQuery)return c.createNew(a,e,d);if(b.singleNode){if(b.type==DOM.QueryTypes.QueryMeta)return DOM.metaValue(b.expression,(f||{})["default"],d!=window);TypeScript.logging.outputEverything&&console.warn("Apply querySelector for expression: '"+b.expression+"', no typescript extension was made!");return d.document.querySelector(b.expression)}return c.select(b.expression,d)};c.createNew=function(a,f,b){void 0===b&&(b=window);a=DOM.ParseNodeDeclare(a);
var d=b.document.createElement(a.tag);a.attrs.forEach(function(a){0>e.indexOf(a.name)&&d.setAttribute(a.name,a.value)});f&&c.setAttributes(d,f);return f.nativeModel?TypeExtensions.Extends(d):new HTMLTsElement(d)};c.setAttributes=function(c,b){var g=function(a){if(!(-1<e.indexOf(a)))if("class"==a){var f=b[a];Array.isArray(f)?f.forEach(function(a){return c.classList.add(a)}):c.setAttribute(a,f)}else if("style"==a)if("string"==typeof b)c.setAttribute(a,b);else for(f in b)c.style[f]=b[f];else"visible"==
a?c.style.display=b[a]?"block":"none":c.setAttribute(a,b[a])};d.Arguments.nameFilter(b).forEach(function(a){return g(a)});if(f(b,a.onclick)){var h=b[a.onclick];"string"==typeof h?c.setAttribute(a.onclick,h):c.onclick=h}};return c}();b.stringEval=c})(d.Handlers||(d.Handlers={}))})(Internal||(Internal={}));
(function(d){(function(b){b.Shared={string:function(){return new b.stringEval},array:function(){return new f},NodeListOf:function(){return new a},HTMLCollection:function(){return new a}};var f=function(){function a(){}a.prototype.doEval=function(a,e,f){return From(a)};return a}();b.arrayEval=f;var a=function(){function a(){}a.prototype.doEval=function(a,e,f){return new DOMEnumerator(a)};return a}();b.DOMCollection=a})(d.Handlers||(d.Handlers={}))})(Internal||(Internal={}));var DataExtensions;
(function(d){function b(f){return null==f||void 0==f?null:"number"===typeof f?function(a){return a}:"boolean"===typeof f?function(a){return 1==a?1:-1}:"undefined"==typeof f?function(a){return 0}:"string"==typeof f?function(a){return Strings.Val(a)}:function(a){return 0}}d.arrayBufferToBase64=function(f){var a="";f=new Uint8Array(f);for(var e=f.byteLength,c=0;c<e;c++)a+=String.fromCharCode(f[c]);return window.btoa(a)};d.uriToBlob=function(f){var a=window.atob(f.split(",")[1]);f=f.split(",")[0].split(":")[1].split(";")[0];
for(var e=new ArrayBuffer(a.length),c=new Uint8Array(e),b=0;b<a.length;b++)c[b]=a.charCodeAt(b);return new Blob([e],{type:f})};d.parseQueryString=function(f,a){void 0===a&&(a=!1);f=f.split("#")[0].split("&");for(var e={},c=0;c<f.length;c++){var b=f[c].split("="),d=void 0,k=b[0].replace(/\[\d*\]/,function(a){d=a.slice(1,-1);return""});b="undefined"===typeof b[1]?"true":b[1];a&&(k=k.toLowerCase());e[k]?("string"===typeof e[k]&&(e[k]=[e[k]]),"undefined"===typeof d?e[k].push(b):e[k][d]=b):e[k]=b}return e};
d.as_numeric=function(f){return b(f)(f)};d.AsNumeric=b;d.Dim=function(b,a){void 0===a&&(a=null);for(var e=[],c=0;c<b;c++)e.push(a);return e}})(DataExtensions||(DataExtensions={}));
var MapTuple=function(){function d(b,f){void 0===b&&(b=null);void 0===f&&(f=null);this.key=b;this.value=f}d.prototype.valueOf=function(){return this.value};d.prototype.ToArray=function(){return[this.key,this.value]};d.prototype.toString=function(){return"["+this.key.toString()+", "+this.value.toString()+"]"};return d}(),NamedValue=function(){function d(b,f){void 0===b&&(b=null);void 0===f&&(f=null);this.name=b;this.value=f}Object.defineProperty(d.prototype,"TypeOfValue",{get:function(){return TypeInfo.typeof(this.value)},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsEmpty",{get:function(){return Strings.Empty(this.name)&&(!this.value||void 0==this.value)},enumerable:!0,configurable:!0});d.prototype.valueOf=function(){return this.value};d.prototype.ToArray=function(){return[this.name,this.value]};d.prototype.toString=function(){return this.name};return d}(),Strings;
(function(d){function b(a,e){if(!a)return!1;e=a.match("string"==typeof e?new RegExp(e):e);return isNullOrUndefined(e)?!1:e[0]==a}function f(a){return a&&void 0!=a?a.length:0}d.x0=48;d.x9=57;d.asterisk=42;d.cr=99;d.lf=13;d.a=97;d.z=122;d.A=65;d.Z=90;d.numericPattern=/[-]?\d+(\.\d+)?/g;d.isNumericPattern=function(a){return b(a,d.numericPattern)};d.Lanudry=function(a){var e=Math.floor(Math.log(a)/Math.log(1E3));return d.sprintf("%.2f "+["B","KB","MB","GB","TB"][e],a/Math.pow(1E3,Math.floor(e)))};d.escapeXml=
function(a){return a.replace(/[<>&'"]/g,function(a){switch(a){case "<":return"&lt;";case ">":return"&gt;";case "&":return"&amp;";case "'":return"&apos;";case '"':return"&quot;"}})};d.parseInt=function(a){if(d.Empty(a,!0))return 0;var e=[];for(var c=0;c<a.length;c++){var b=a.charAt(c);var f=b.charCodeAt(0);if(f>=d.x0&&f<=d.x9)e.push(b);else break}return 0==e.length?0:Number(e.join(""))};d.New=function(a,e){if(0==e)return"";if(1==e)return a;for(var c="",b=1;b<e;++b)c+=a;return c};d.round=function(a,
e){void 0===e&&(e=3);var c="number"==typeof a?a:parseFloat(a);e=Math.pow(10,e);return isNaN(c)?(TypeScript.logging.outputWarning&&console.warn("Invalid number value: '"+a+"'"),!1):Math.round(c*e)/e};d.isNumber=function(a){a=a.charCodeAt(0);return a>=d.x0&&a<=d.x9};d.isAlphabet=function(a){a=a.charCodeAt(0);return a>=d.a&&a<=d.z||a>=d.A&&a<=d.Z};d.Val=function(a){return null==a||""==a||void 0==a||"undefined"==a?0:"NA"==a||"NaN"==a?Number.NaN:"Inf"==a?Number.POSITIVE_INFINITY:"-Inf"==a?Number.NEGATIVE_INFINITY:
parseFloat(a)};d.lineTokens=function(a){return a?a.trim().split("\n"):[]};d.GetTagValue=function(a,e){void 0===e&&(e=" ");if(a){var c=e;e=a.indexOf(c);var b=f(c);-1<e?(c=a.substr(0,e),a=a.substr(e+b),a=new NamedValue(c,a)):a=new NamedValue(a,"");return a}return new NamedValue};d.PeekLines=function(a,e){for(var c=0,b=[],f=0;f<e;f++){var d=a.indexOf("\n",c);if(-1<d)b.push(a.substr(c,d-c)),c=d;else break}return b};d.getAllMatches=function(a,e){var c,b=[];"string"==typeof e&&(e=new RegExp(e));if(e.global)for(;c=
e.exec(a);)b.push(c);else(c=e.exec(a))&&b.push(c);return b};d.Trim=function(a,e){void 0===e&&(e=null);if(d.Empty(a,!1))return"";if(isNullOrUndefined(e))return a.trim();"string"==typeof e&&(e=From(d.ToCharArray(e)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(c){return From(d.ToCharArray(a)).SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).Reverse().SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).Reverse().JoinBy("")}(e)};d.LTrim=function(a,e){void 0===
e&&(e=" ");if(d.Empty(a,!1))return"";"string"==typeof e&&(e=From(d.ToCharArray(e)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));return function(c){return From(d.ToCharArray(a)).SkipWhile(function(a){return-1<c.indexOf(a.charCodeAt(0))}).JoinBy("")}(e)};d.RTrim=function(a,e){void 0===e&&(e=" ");if(d.Empty(a,!1))return"";"string"==typeof e&&(e=From(d.ToCharArray(e)).Select(function(a){return a.charCodeAt(0)}).ToArray(!1));for(var c=d.ToCharArray(a),b=0,f=c.length-1;0<f;f--)if(-1==e.indexOf(c[f].charCodeAt(0))){b=
f;break}return 0==b?"":a.substr(0,b+1)};d.Empty=function(a,e){void 0===e&&(e=!1);return a?void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!e||"undefined"!=a&&"null"!=a&&"NULL"!=a?!1:!0:!0};d.Blank=function(a,e){void 0===e&&(e=!1);return!a||b(a,/\s+/g)?!0:void 0==a||"undefined"==typeof a?!0:0==a.length?!0:!e||"\\s"!=a&&"\\t"!=a?!1:!0};d.IsPattern=b;d.Unique=function(a){var e={};return a.filter(function(a){return e.hasOwnProperty(a)?!1:e[a]=!0})};d.ToCharArray=function(a,e){void 0===e&&(e=!1);var c=
[],b=a.length;if(e)for(e=0;e<b;++e)c.push(a.charCodeAt(e));else for(e=0;e<b;++e)c.push(a.charAt(e));return c};d.Len=f;d.CompareTo=function(a,e){for(var c=d.Len(a),b=d.Len(e),f=Math.min(c,b),k=0;k<f;k++){var l=a.charCodeAt(k),m=e.charCodeAt(k);if(l>m)return 1;if(l<m)return-1}return c>b?1:c<b?-1:0};d.sprintf=data.sprintf.doFormat;d.WrappingLines=function(a,e,c){void 0===e&&(e=200);void 0===c&&(c=!1);var b="";a=d.lineTokens(a);for(var f,k=0;k<a.length;k++){var l=c?d.Trim(a[k]):a[k];if(l.length<e)b=b+
l+"\n";else for(f=0;;)if(b=b+l.substr(f,e)+"\n",f+=e,f+e>l.length){b=b+l.substr(f)+"\n";break}}return b}})(Strings||(Strings={}));
var TypeInfo=function(){function d(){}Object.defineProperty(d.prototype,"IsPrimitive",{get:function(){return!this.class},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsArray",{get:function(){return"array"==this.typeOf},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"IsEnumerator",{get:function(){return"object"==this.typeOf&&"IEnumerator"==this.class},enumerable:!0,configurable:!0});d.prototype.IsArrayOf=function(b){return this.IsArray&&this.class==b};d.getClass=
function(b){var f="object"==typeof b,a=Array.isArray(b),e=isNullOrUndefined(b);return d.getClassInternal(b,a,f,e)};d.getClassInternal=function(b,f,a,e){return f?(b=b[0],"object"==(f=typeof b)&&(f=b.constructor.name),f):a?e?(TypeScript.logging.outputWarning&&console.warn(TypeExtensions.objectIsNothing),"null"):b.constructor.name:""};d.typeof=function(b){var f=typeof b,a="object"==f,e=Array.isArray(b),c=isNullOrUndefined(b),g=new d,h=d.getClassInternal(b,e,a,c);g.typeOf=e?"array":f;g.class=h;c?(g.property=
[],g.methods=[]):(g.property=a?Object.keys(b):[],g.methods=d.GetObjectMethods(b));return g};d.GetObjectMethods=function(b){var f=[],a;for(a in b)"function"==typeof b[a]&&f.push(a);return f};d.prototype.toString=function(){return"object"==this.typeOf?"<"+this.typeOf+"> "+this.class:this.typeOf};d.EmptyObject=function(b,f){void 0===f&&(f=null);var a={};if("function"==typeof f){var e=f;Array.isArray(b)?b.forEach(function(c){return a[c]=e()}):b.ForEach(function(c){return a[c]=e()})}else Array.isArray(b)?
b.forEach(function(c){return a[c]=f}):b.ForEach(function(c){return a[c]=f});return a};d.CreateObject=function(b){var f={},a=d.typeof(b);if(a.IsArray&&"MapTuple"==a.class)b.forEach(function(a){return f[a.key]=a.value});else if(a.IsArray&&"NamedValue"==a.class)b.forEach(function(a){return f[a.name]=a.value});else if("IEnumerator"==a.class)if(a=b.ElementType,"MapTuple"==a.class)b.ForEach(function(a){f[a.key]=a.value});else if("NamedValue"==a.class)b.ForEach(function(a){f[a.name]=a.value});else throw console.error(a),
"Unsupport data type: "+a.class;else throw"Unsupport data type: "+JSON.stringify(a);return f};d.CreateMetaReader=function(b){return new TsLinq.MetaReader(d.CreateObject(b))};return d}(),MD5;
(function(d){d.safe_add=function(b,f){var a=(b&65535)+(f&65535);return(b>>16)+(f>>16)+(a>>16)<<16|a&65535};d.bit_rol=function(b,f){return b<<f|b>>>32-f};d.md5_cmn=function(b,f,a,e,c,g){return d.safe_add(d.bit_rol(d.safe_add(d.safe_add(f,b),d.safe_add(e,g)),c),a)};d.md5_ff=function(b,f,a,e,c,g,h){return d.md5_cmn(f&a|~f&e,b,f,c,g,h)};d.md5_gg=function(b,f,a,e,c,g,h){return d.md5_cmn(f&e|a&~e,b,f,c,g,h)};d.md5_hh=function(b,f,a,e,c,g,h){return d.md5_cmn(f^a^e,b,f,c,g,h)};d.md5_ii=function(b,f,a,e,c,
g,h){return d.md5_cmn(a^(f|~e),b,f,c,g,h)};d.binl_md5=function(b,f){var a=1732584193,e=-271733879,c=-1732584194,g=271733878;b[f>>5]|=128<<f%32;b[(f+64>>>9<<4)+14]=f;for(var h=0;h<b.length;h+=16){f=a;var k=e;var l=c;var m=g;a=d.md5_ff(a,e,c,g,b[h],7,-680876936);g=d.md5_ff(g,a,e,c,b[h+1],12,-389564586);c=d.md5_ff(c,g,a,e,b[h+2],17,606105819);e=d.md5_ff(e,c,g,a,b[h+3],22,-1044525330);a=d.md5_ff(a,e,c,g,b[h+4],7,-176418897);g=d.md5_ff(g,a,e,c,b[h+5],12,1200080426);c=d.md5_ff(c,g,a,e,b[h+6],17,-1473231341);
e=d.md5_ff(e,c,g,a,b[h+7],22,-45705983);a=d.md5_ff(a,e,c,g,b[h+8],7,1770035416);g=d.md5_ff(g,a,e,c,b[h+9],12,-1958414417);c=d.md5_ff(c,g,a,e,b[h+10],17,-42063);e=d.md5_ff(e,c,g,a,b[h+11],22,-1990404162);a=d.md5_ff(a,e,c,g,b[h+12],7,1804603682);g=d.md5_ff(g,a,e,c,b[h+13],12,-40341101);c=d.md5_ff(c,g,a,e,b[h+14],17,-1502002290);e=d.md5_ff(e,c,g,a,b[h+15],22,1236535329);a=d.md5_gg(a,e,c,g,b[h+1],5,-165796510);g=d.md5_gg(g,a,e,c,b[h+6],9,-1069501632);c=d.md5_gg(c,g,a,e,b[h+11],14,643717713);e=d.md5_gg(e,
c,g,a,b[h],20,-373897302);a=d.md5_gg(a,e,c,g,b[h+5],5,-701558691);g=d.md5_gg(g,a,e,c,b[h+10],9,38016083);c=d.md5_gg(c,g,a,e,b[h+15],14,-660478335);e=d.md5_gg(e,c,g,a,b[h+4],20,-405537848);a=d.md5_gg(a,e,c,g,b[h+9],5,568446438);g=d.md5_gg(g,a,e,c,b[h+14],9,-1019803690);c=d.md5_gg(c,g,a,e,b[h+3],14,-187363961);e=d.md5_gg(e,c,g,a,b[h+8],20,1163531501);a=d.md5_gg(a,e,c,g,b[h+13],5,-1444681467);g=d.md5_gg(g,a,e,c,b[h+2],9,-51403784);c=d.md5_gg(c,g,a,e,b[h+7],14,1735328473);e=d.md5_gg(e,c,g,a,b[h+12],20,
-1926607734);a=d.md5_hh(a,e,c,g,b[h+5],4,-378558);g=d.md5_hh(g,a,e,c,b[h+8],11,-2022574463);c=d.md5_hh(c,g,a,e,b[h+11],16,1839030562);e=d.md5_hh(e,c,g,a,b[h+14],23,-35309556);a=d.md5_hh(a,e,c,g,b[h+1],4,-1530992060);g=d.md5_hh(g,a,e,c,b[h+4],11,1272893353);c=d.md5_hh(c,g,a,e,b[h+7],16,-155497632);e=d.md5_hh(e,c,g,a,b[h+10],23,-1094730640);a=d.md5_hh(a,e,c,g,b[h+13],4,681279174);g=d.md5_hh(g,a,e,c,b[h],11,-358537222);c=d.md5_hh(c,g,a,e,b[h+3],16,-722521979);e=d.md5_hh(e,c,g,a,b[h+6],23,76029189);a=
d.md5_hh(a,e,c,g,b[h+9],4,-640364487);g=d.md5_hh(g,a,e,c,b[h+12],11,-421815835);c=d.md5_hh(c,g,a,e,b[h+15],16,530742520);e=d.md5_hh(e,c,g,a,b[h+2],23,-995338651);a=d.md5_ii(a,e,c,g,b[h],6,-198630844);g=d.md5_ii(g,a,e,c,b[h+7],10,1126891415);c=d.md5_ii(c,g,a,e,b[h+14],15,-1416354905);e=d.md5_ii(e,c,g,a,b[h+5],21,-57434055);a=d.md5_ii(a,e,c,g,b[h+12],6,1700485571);g=d.md5_ii(g,a,e,c,b[h+3],10,-1894986606);c=d.md5_ii(c,g,a,e,b[h+10],15,-1051523);e=d.md5_ii(e,c,g,a,b[h+1],21,-2054922799);a=d.md5_ii(a,
e,c,g,b[h+8],6,1873313359);g=d.md5_ii(g,a,e,c,b[h+15],10,-30611744);c=d.md5_ii(c,g,a,e,b[h+6],15,-1560198380);e=d.md5_ii(e,c,g,a,b[h+13],21,1309151649);a=d.md5_ii(a,e,c,g,b[h+4],6,-145523070);g=d.md5_ii(g,a,e,c,b[h+11],10,-1120210379);c=d.md5_ii(c,g,a,e,b[h+2],15,718787259);e=d.md5_ii(e,c,g,a,b[h+9],21,-343485551);a=d.safe_add(a,f);e=d.safe_add(e,k);c=d.safe_add(c,l);g=d.safe_add(g,m)}return[a,e,c,g]};d.binl2rstr=function(b){for(var f="",a=0;a<32*b.length;a+=8)f+=String.fromCharCode(b[a>>5]>>>a%32&
255);return f};d.rstr2binl=function(b){var f=[];f[(b.length>>2)-1]=void 0;for(var a=0;a<f.length;a+=1)f[a]=0;for(a=0;a<8*b.length;a+=8)f[a>>5]|=(b.charCodeAt(a/8)&255)<<a%32;return f};d.rstr_md5=function(b){return d.binl2rstr(d.binl_md5(d.rstr2binl(b),8*b.length))};d.rstr_hmac_md5=function(b,f){var a=d.rstr2binl(b),e=[],c=[];e[15]=c[15]=void 0;16<a.length&&(a=d.binl_md5(a,8*b.length));for(b=0;16>b;b+=1)e[b]=a[b]^909522486,c[b]=a[b]^1549556828;a=e.concat(d.rstr2binl(f));a=d.binl_md5(a,512+8*f.length);
a=c.concat(a);a=d.binl_md5(a,640);return d.binl2rstr(a)};d.rstr2hex=function(b){for(var f="",a,e=0;e<b.length;e+=1)a=b.charCodeAt(e),f+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15);return f};d.str2rstr_utf8=function(b){return unescape(encodeURIComponent(b))};d.raw_md5=function(b){return d.rstr_md5(d.str2rstr_utf8(b))};d.hex_md5=function(b){return d.rstr2hex(d.raw_md5(b))};d.raw_hmac_md5=function(b,f){return d.rstr_hmac_md5(d.str2rstr_utf8(b),d.str2rstr_utf8(f))};d.hex_hmac_md5=
function(b,f){return d.rstr2hex(d.raw_hmac_md5(b,f))};d.calculate=function(b,f,a){void 0===f&&(f=null);void 0===a&&(a=null);return f?a?d.raw_hmac_md5(f,b):d.hex_hmac_md5(f,b):a?d.raw_md5(b):d.hex_md5(b)}})(MD5||(MD5={}));var TsLinq;
(function(d){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);a.Dump=function(){var e=Error().stack.split("\n");e=From(e).Skip(2).Select(d.StackFrame.Parse);return new a(e)};a.GetCallerMember=function(){return a.Dump().ToArray()[2]};a.prototype.toString=function(){var a=new StringBuilder;this.ForEach(function(c){a.AppendLine("  at "+c.toString())});return a.toString()};return a}(IEnumerator);d.StackTrace=b})(TsLinq||(TsLinq={}));
var Dictionary=function(d){function b(f){void 0===f&&(f=null);var a=d.call(this,b.ObjectMaps(f))||this;isNullOrUndefined(f)?a.maps={}:Array.isArray(f)?a.maps=TypeInfo.CreateObject(f):"IEnumerator"==TypeInfo.typeof(f).class?a.maps=TypeInfo.CreateObject(f):a.maps=f;return a}__extends(b,d);Object.defineProperty(b.prototype,"Object",{get:function(){return Framework.Extensions.extend(this.maps)},enumerable:!0,configurable:!0});b.prototype.Item=function(b){void 0===b&&(b=null);b||(b=TsLinq.StackTrace.GetCallerMember().memberName);
return"string"==typeof b?this.maps[b]:this.sequence[b].value};Object.defineProperty(b.prototype,"Keys",{get:function(){return From(Object.keys(this.maps))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Values",{get:function(){return this.Select(function(b){return b.value})},enumerable:!0,configurable:!0});b.FromMaps=function(f){return new b(f)};b.FromNamedValues=function(f){return new b(TypeInfo.CreateObject(f))};b.MapSequence=function(b){return new IEnumerator(this.ObjectMaps(b))};
b.ObjectMaps=function(b){var a=TypeInfo.typeof(b);return isNullOrUndefined(b)?[]:Array.isArray(b)?b:"IEnumerator"==a.class?b.ToArray():From(Object.keys(b)).Select(function(a){return new MapTuple(a,b[a])}).ToArray()};b.prototype.ContainsKey=function(b){return b in this.maps};b.prototype.Add=function(f,a){this.maps[f]=a;this.sequence=b.ObjectMaps(this.maps);return this};b.prototype.Delete=function(f){f in this.maps&&(delete this.maps[f],this.sequence=b.ObjectMaps(this.maps));return this};return b}(IEnumerator),
TypeScript;
(function(d){var b;(function(a){a.hostNamePattern=/:\/\/(www[0-9]?\.)?(.[^/:]+)/i;a.uriPattern=/data[:]\S+[/]\S+;base64,[a-zA-Z0-9/=+]/ig;a.urlPattern=/((https?)|(ftp))[:]\/{2}\S+\.[a-z]+[^ >"]*/ig})(b=d.URLPatterns||(d.URLPatterns={}));var f=function(){function a(e){var c=Strings.GetTagValue(e,"://");this.protocol=c.name;c=Strings.GetTagValue(c.value,"/");this.origin=c.name;c=Strings.GetTagValue(c.value,"?");this.path=c.name;this.fileName=Strings.Empty(this.path)?"":TsLinq.PathHelper.basename(this.path);this.hash=
From(e.split("#")).Last;0>e.indexOf("#")&&(this.hash="");e=a.UrlQuery(c.value);this.queryArguments=Dictionary.MapSequence(e).Select(function(a){return new NamedValue(a.key,a.value)})}Object.defineProperty(a.prototype,"query",{get:function(){return this.queryArguments.ToArray(!1)},enumerable:!0,configurable:!0});a.prototype.getArgument=function(a,c,b){void 0===c&&(c=!0);void 0===b&&(b="");if(Strings.Empty(a,!1))return"";c||(a=a.toLowerCase());return this.queryArguments.Where(function(e){return c?e.name==
a:e.name.toLowerCase()==a}).FirstOrDefault({value:b}).value};a.UrlQuery=function(a){return a?DataExtensions.parseQueryString(a,!1):{}};a.JumpToHash=function(a){window.scrollTo(0,$ts(a).offsetTop)};a.SetHash=function(a){history.pushState?history.pushState(null,null,a):location.hash=a};a.WindowLocation=function(){return new a(window.location.href)};a.prototype.toString=function(){var a=From(this.query).Select(function(a){return a.name+"="+encodeURIComponent(a.value)}).JoinBy("&"),c=this.protocol+"://"+
this.origin+"/"+this.path;a&&(c=c+"?"+a);this.hash&&(c=c+"#"+this.hash);return c};a.Refresh=function(a){return a+"&refresh="+1E4*Math.random()};a.getHostName=function(a){a=a.match(b.hostNamePattern);return null!=a&&2<a.length&&"string"===typeof a[2]&&0<a[2].length?a[2]:null};a.ParseAllUrlStrings=function(a){var c=[],e=0;for(a=Strings.getAllMatches(a,b.urlPattern);e<a.length;e++)c.push(a[e][0]);return c};a.IsWellFormedUriString=function(a){var c=a.match(b.uriPattern);if(isNullOrUndefined(c))return!1;
c=c[0];return Strings.Empty(c,!0)?!1:0==a.indexOf(c)};return a}();d.URL=f})(TypeScript||(TypeScript={}));
(function(d){(function(b){b.basename=function(b){b=From(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?b[0]:(new IEnumerator(b)).Take(b.length-1).JoinBy(".")};b.extensionName=function(b){b=From(Strings.RTrim(b,"/").split("/")).Last.split(".");return 1==b.length?"":b[b.length-1]};b.fileName=function(b){return From(Strings.RTrim(b,"/").split("/")).Last}})(d.PathHelper||(d.PathHelper={}))})(TsLinq||(TsLinq={}));var Modes;
(function(d){d[d.debug=0]="debug";d[d.development=10]="development";d[d.production=200]="production"})(Modes||(Modes={}));var DOM;
(function(d){function b(a,e){var c=$ts("<a>");if("download"in c){c.download=a;c.style.display="none";document.body.appendChild(c);try{var b=DataExtensions.uriToBlob(e),f=URL.createObjectURL(b);c.href=f;c.onclick=function(){requestAnimationFrame(function(){URL.revokeObjectURL(f)})}}catch(m){TypeScript.logging.outputWarning&&console.warn("This browser does not support object URLs. Falling back to string URL."),c.href=e}c.click();document.body.removeChild(c)}else window.open(e,"_temp","menubar=no,toolbar=no,status=no")}
function f(c,e,b){void 0===e&&(e=null);void 0===b&&(b=null);var f=$ts("<thead>"),d=$ts("<tbody>");var g=Array.isArray(c)?a(e||$ts(Object.keys(c[0]))):a(e||$ts(Object.keys(c.First)));var h=function(a){var c=$ts("<tr>");g.forEach(function(e){return c.appendChild($ts("<td>").display(a[e.key]))});return c};Array.isArray(c)?c.forEach(function(a){return d.appendChild(h(a))}):c.ForEach(function(a){return d.appendChild(h(a))});g.forEach(function(a){return f.appendChild($ts("<th>").display(a.value))});return $ts("<table>",
b).asExtends.append(f).append(d).HTMLElement}function a(a){var c=TypeInfo.typeof(a);if(c.IsArrayOf("string"))return From(a).Select(function(a){return new MapTuple(a,a)}).ToArray();if(c.IsArrayOf(TypeExtensions.DictionaryMap))return a;if(c.IsEnumerator&&"string"==typeof a.First)return a.Select(function(a){return new MapTuple(a,a)}).ToArray();if(c.IsEnumerator&&TypeInfo.getClass(a.First)==TypeExtensions.DictionaryMap)return a.ToArray();throw"Invalid sequence type: "+c.class;}function e(a,b,f){if(document.addEventListener)if(a&&
a.nodeName||a===window)a.addEventListener(b,f,!1);else{if(a&&a.length)for(var c=0;c<a.length;c++)e(a[c],b,f)}else if(a&&a.nodeName||a===window)a.attachEvent("on"+b,function(){return f.call(a,window.event)});else if(a&&a.length)for(c=0;c<a.length;c++)e(a[c],b,f)}d.metaValue=function(a,e,b){void 0===e&&(e=null);void 0===b&&(b=!1);a='meta[name~="'+a+'"]';var c=document.querySelector(a);!c&&b&&(c=parent.window.document.querySelector(a));c?e=(b=c.getAttribute("content"))?b:e:TypeScript.logging.outputWarning&&
console.warn(a+" not found in current context!");return e};d.download=function(a,e){navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(DataExtensions.uriToBlob(e),a):b(a,e)};d.clientSize=function(){var a=window,e=document,b=e.documentElement;e=e.getElementsByTagName("body")[0];return[a.innerWidth||b.clientWidth||e.clientWidth,a.innerHeight||b.clientHeight||e.clientHeight]};d.getSelectedOptions=function(a){for(var c=[],e,b=0,f=a.options.length;b<f;b++)e=a.options[b],e.selected&&c.push(e);return c};
d.AddSelectOptions=function(a,e,b,f){void 0===f&&(f="");a=From(a).Select(function(a){return'<option value="'+a.value+'">'+a.key+"</option>"}).JoinBy("\n");b='\n            <select class="'+f+'" multiple name="'+b+'">\n                '+a+"\n            </select>";$ts("#"+e).innerHTML=b};d.CreateHTMLTableNode=f;d.AddHTMLTable=function(a,e,b,d){void 0===b&&(b=null);void 0===d&&(d=null);var c=e+"-table";d?d.id||(d.id=c):d={id:c};$ts(e).appendChild(f(a,b,d))};d.ready=function(a,e){void 0===e&&(e=["interactive",
"complete"]);if("function"===typeof a){TypeScript.logging.outputEverything&&(console.log("Add Document.ready event handler."),console.log("document.readyState = "+document.readyState));if(-1<e.indexOf(document.readyState))return a();document.addEventListener("DOMContentLoaded",a,!1)}};d.addEvent=e})(DOM||(DOM={}));
(function(d){var b=function(){function b(a,e){void 0===e&&(e=null);"number"!=typeof a||isNullOrUndefined(e)?(this.min=a.min,this.max=a.max):(this.min=a,this.max=e)}Object.defineProperty(b.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Length",{get:function(){return this.max-this.min},enumerable:!0,configurable:!0});b.Create=function(a){var e=Array.isArray(a)?$ts(a):a;a=e.Min();e=e.Max();return new b(a,e)};b.prototype.IsInside=
function(a){return a>=this.min&&a<=this.max};b.prototype.ScaleMapping=function(a,e){return(a-this.min)/this.Length*(e.max-e.min)+e.min};b.prototype.PopulateNumbers=function(a){void 0===a&&(a=this.Length/10);for(var e=[],c=this.min;c<this.max;c+=a)e.push(c);return e};b.prototype.toString=function(){return"["+this.min+", "+this.max+"]"};return b}();d.NumericRange=b})(data||(data={}));
(function(d){function b(c){c.post=function(c,b,f,d){b={type:HttpHelpers.measureContentType(b),data:b,sendContentType:(d||{}).sendContentType||!0};HttpHelpers.POST(a(c),b,function(a){f&&f(e(a))})};c.getText=function(c,b,e){void 0===e&&(e={nullForNotFound:!1});HttpHelpers.GetAsyn(a(c),function(a,c){200!=c?e.nullForNotFound?b(""):b(a):b(a)})};c.get=function(c,b){HttpHelpers.GetAsyn(a(c),function(a){b&&b(e(a))})};c.upload=function(c,b,f){HttpHelpers.UploadFile(a(c),b,null,function(a){f&&f(e(a))})};c.location=
f();c.parseURL=function(a){return new TypeScript.URL(a)};c.goto=function(a,c){void 0===c&&(c={currentFrame:!1,lambda:!1});if("#"==a.charAt(0))TypeScript.URL.JumpToHash(a);else{if(c.lambda)return function(){Goto(a,c.currentFrame)};Goto(a,c.currentFrame)}};return c}function f(){var a=TypeScript.URL.WindowLocation(),c=function(c,b,e){void 0===b&&(b=!0);void 0===e&&(e="");return a.getArgument(c,b,e)};c.path=a.path||"/";c.fileName=a.fileName;c.hash=function(a,c){void 0===a&&(a={trimprefix:!0,doJump:!1});
void 0===c&&(c=null);if(isNullOrUndefined(c))return c=window.location.hash,a="boolean"==typeof a?a:a.trimprefix,c&&a&&1<c.length?c.substr(1):isNullOrUndefined(c)?"":c;"boolean"==typeof a&&!0===a||a.doJump?window.location.hash=c:TypeScript.URL.SetHash(c)};return c}function a(a,c){void 0===c&&(c=!1);if("@"==a.charAt(0)){for(var b=[],e,f=1;f<a.length;f++){var d=e=a.charAt(f);d=-1<l.indexOf(d)?!0:Strings.isNumber(d)||Strings.isAlphabet(d);if(d)b.push(e);else break}e=b.join("");a=DOM.metaValue(e,e,!c)+
a.substr(b.length+1)}return a}function e(a){if("string"==typeof a)try{return JSON.parse(a)}catch(p){throw console.error("Invalid json text: "),console.error(a),p;}else return a}function c(a,c){a.imports=function(a,c,b,e){void 0===c&&(c=DoNothing);void 0===b&&(b=!1);void 0===e&&(e=!1);return(new HttpHelpers.Imports(a,b,e)).doLoad(c)};a.eval=function(a,c,b){void 0===c&&(c=!1);c&&(a=LZW.decode(a));HttpHelpers.Imports.doEval(a,b)};a.inject=function(a,c){a=$ts(a).contentWindow;TypeScript.logging.outputEverything&&
console.log(c);if(Array.isArray(c))for(var b=0;b<c.length;b++)a.eval(c[b].toString());else"string"==typeof c?a.eval(c):a.eval(c.toString())};a.text=function(a,b){void 0===b&&(b=!1);a=d.Handlers.EnsureNodeId(a);a=c.doEval(a,null,null);return b?a.innerHTML:a.innerText};a.loadJSON=function(a){return JSON.parse(this.text(a))};a.parseFileName=TsLinq.PathHelper.fileName;a.baseName=TsLinq.PathHelper.basename;a.extensionName=TsLinq.PathHelper.extensionName;a.withExtensionName=function(a,c){return $ts.extensionName(a).toLowerCase()==
c.toLowerCase()};a.doubleRange=data.NumericRange.Create;return a}function g(a){a.isNullOrEmpty=function(a){return IsNullOrEmpty(a)};a.from=From;a.csv={toObjects:function(a){return csv.dataframe.Parse(a).Objects()},toText:function(a){return csv.toDataFrame(a).buildDoc()}};a.evalHTML=DOM.CreateHTMLTableNode;a.appendTable=DOM.AddHTMLTable;return a}function h(a){a.select=function(a,c){void 0===c&&(c=window);return d.Handlers.stringEval.select(a,c)};a.select.getSelectedOptions=function(a,c){void 0===c&&
(c=window);a=$ts(a,{context:c});a=DOM.getSelectedOptions(a);return new DOMEnumerator(a)};a.select.getOption=function(a,c){void 0===c&&(c=window);a=$ts(a,{context:c});a=DOM.getSelectedOptions(a);return 0==a.length?null:a[0].value};return a}function k(a,c,b){var e=TypeInfo.typeof(c),f=e.typeOf;f=f in a?a[f]():null;if(e.IsArray)return f.doEval(c,e,b);if("function"==e.typeOf)DOM.ready(c);else{if(isNullOrUndefined(eval)){a=a[e.class];if(isNullOrUndefined(a))throw"Unsupported data type: "+e.toString();
return a().doEval(c,e,b)}return f.doEval(c,e,b)}}d.StringEval=new d.Handlers.stringEval;d.Static=function(){var a=d.Handlers.Shared,e=function(c,b){return k(a,c,b)},f=a.string();e.mode=Modes.production;e=c(e,f);e=g(e);e=b(e);return e=h(e)};var l=[":","_"];d.urlSolver=a;d.queryFunction=k})(Internal||(Internal={}));"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(d){return this.slice(0,d.length)==d});
function $imports(d,b,f,a){void 0===b&&(b=DoNothing);void 0===f&&(f=!1);void 0===a&&(a=!1);return(new HttpHelpers.Imports(d,f,a)).doLoad(b)}function $include(d){"string"==typeof d&&(d=[d]);$ts(function(){return d.forEach(function(b){var f=$ts("<script>",{type:"text/javascript",src:b});f.onload=function(){document.body.removeChild(f)};document.body.appendChild(f)})})}function md5(d,b,f){void 0===b&&(b=null);void 0===f&&(f=null);return MD5.calculate(d,b,f)}
function From(d){return new IEnumerator(d)}function CharEnumerator(d){return new IEnumerator(Strings.ToCharArray(d))}function IsNullOrEmpty(d){return null==d||void 0==d?!0:Array.isArray(d)&&0==d.length?!0:0==d.Count?!0:!1}function isNullOrUndefined(d){return null==d||void 0==d?!0:!1}function LoadJson(d){return JSON.parse(LoadText(d))}function LoadText(d){return document.getElementById(d).textContent}
function getAllUrlParams(d){void 0===d&&(d=window.location.href);return-1<d.indexOf("?")?(d=Strings.GetTagValue(d,"?").value,d=DataExtensions.parseQueryString(d),new Dictionary(d)):new Dictionary({})}function Goto(d,b){void 0===b&&(b=!1);var f=window;b||(f=window.top);f.location.href=Internal.urlSolver(d,b)}function base64_decode(d){d=Strings.lineTokens(d);d=From(d).Where(function(b){return b&&0<b.length}).Select(function(b){return b.trim()}).JoinBy("");return Base64.decode(d)}
function DoNothing(){return null}function saveSvgAsPng(d,b,f){void 0===f&&(f=CanvasHelper.saveSvgAsPng.Options.Default());return CanvasHelper.saveSvgAsPng.Encoder.saveSvgAsPng(d,b,f)}var sprintf=data.sprintf.doFormat,executeJavaScript="javascript:void(0);",$ts=Internal.Static();function $image(d,b){return Internal.StringEval.doEval(d,null,b)}function $input(d,b){return Internal.StringEval.doEval(d,null,b)}function $link(d,b){return Internal.StringEval.doEval(d,null,b)}var TypeExtensions;
(function(d){d.objectIsNothing="Object is nothing! [https://docs.microsoft.com/en-us/dotnet/visual-basic/language-reference/nothing]";d.DictionaryMap=TypeInfo.getClass(new MapTuple("",""));d.ensureNumeric=function(b){return"number"==typeof b?b:parseFloat(b)}})(TypeExtensions||(TypeExtensions={}));
var Group=function(d){function b(b,a){a=d.call(this,a)||this;a.Key=b;return a}__extends(b,d);Object.defineProperty(b.prototype,"Group",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.ToMaps=function(){var b=this;return From(this.sequence).Select(function(a){return new MapTuple(b.Key,a)}).ToArray()};return b}(IEnumerator),List=function(d){function b(b){void 0===b&&(b=null);return d.call(this,b||[])||this}__extends(b,d);b.prototype.Add=function(b){this.sequence.push(b);
return this};b.prototype.AddRange=function(b){var a=this;Array.isArray(b)?b.forEach(function(b){return a.sequence.push(b)}):b.ForEach(function(b){return a.sequence.push(b)});return this};b.prototype.IndexOf=function(b){return this.sequence.indexOf(b)};b.prototype.Pop=function(){var b=this.First;this.sequence=this.sequence.slice(1);return b};return b}(IEnumerator),Matrix=function(d){function b(f,a,e){void 0===e&&(e=null);return d.call(this,b.emptyMatrix(f,a,e))||this}__extends(b,d);Object.defineProperty(b.prototype,
"rows",{get:function(){return this.sequence.length},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"columns",{get:function(){return this.sequence[0].length},enumerable:!0,configurable:!0});b.emptyMatrix=function(b,a,e){for(var c=[],f=0;f<a;f++)c.push(DataExtensions.Dim(b,e));return c};b.prototype.M=function(b,a,e){void 0===e&&(e=null);if(isNullOrUndefined(e))return this.sequence[b][a];this.sequence[b][a]=e};b.prototype.column=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a)){a=
[];for(var e=0;e<this.rows;e++)a.push(this.sequence[e][b]);return a}a=Array.isArray(a)?a:a.ToArray(!1);for(e=0;e<this.rows;e++)this.sequence[e][b]=a[e];return null};b.prototype.row=function(b,a){void 0===a&&(a=null);if(isNullOrUndefined(a))return this.sequence[b];Array.isArray(a)?this.sequence[b]=a:this.sequence[b]=a.ToArray(!1)};b.prototype.toString=function(){return"["+this.rows+", "+this.columns+"]"};return b}(IEnumerator),Pointer=function(d){function b(b){b=d.call(this,b)||this;b.p=0;return b}
__extends(b,d);Object.defineProperty(b.prototype,"EndRead",{get:function(){return this.p>=this.Count},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Current",{get:function(){return this.sequence[this.p]},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"Next",{get:function(){var b=this.Current;this.p+=1;return b},enumerable:!0,configurable:!0});b.prototype.MoveNext=function(){this.p+=1;return this};b.prototype.Peek=function(b){return this.sequence[this.p+b]};return b}(IEnumerator),
SlideWindow=function(d){function b(b,a){a=d.call(this,a)||this;a.index=b;return a}__extends(b,d);b.Split=function(d,a,e){void 0===e&&(e=1);Array.isArray(d)||(d=d.ToArray());for(var c=d.length-a,f=[],h=0;h<c;h+=e){for(var k=Array(a),l=0;l<a;l++)k[l]=d[h+l];f.push(new b(h,k))}return new IEnumerator(f)};return b}(IEnumerator),csv;
(function(d){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);Object.defineProperty(a.prototype,"headers",{get:function(){return new IEnumerator(this.sequence[0])},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"contents",{get:function(){return this.Skip(1)},enumerable:!0,configurable:!0});a.prototype.Column=function(a){var c=this.sequence[0].indexOf(a);return-1==c?new IEnumerator([]):this.Select(function(a){return a.ElementAt(c)})};a.prototype.AppendLine=
function(a){this.sequence.push(a);return this};a.prototype.AppendRows=function(a){var c=this;Array.isArray(a)?a.forEach(function(a){return c.sequence.push(a)}):a.ForEach(function(a){return c.sequence.push(a)});return this};a.prototype.buildDoc=function(){return this.Select(function(a){return a.rowLine}).JoinBy("\n")};a.prototype.Objects=function(b,c){void 0===b&&(b={});void 0===c&&(c=function(){return{}});var e=a.ensureMapsAll(b,this.headers.ToArray());return this.Skip(1).Select(function(a){var b=
c();a.ForEach(function(a,c){b[e(c)]=a});return b})};a.ensureMapsAll=function(a,c){for(var b=0;b<c.length;b++){var e=c[b];e in a||(a[e]=e)}return function(b){return a[c[b]]}};a.prototype.save=function(a,b,d){void 0===b&&(b="upload.csv");void 0===d&&(d=function(a){console.log(a)});var c=this.buildDoc();HttpHelpers.UploadFile(a,c,b,d)};a.Load=function(b,c,d){var e=this;void 0===c&&(c=null);void 0===d&&(d=this.defaultContent);if(null==c||void 0==c){b=d(HttpHelpers.GET(b));var f=this.isTsv(b);return a.Parse(b.content,
f)}HttpHelpers.GetAsyn(b,function(b,f,g){if(200==f)b=d(b,g),f=e.isTsv(b),b=a.Parse(b.content,f),console.log(b.headers),c(b);else throw"Error while load csv data source, http "+f+": "+b;});return null};a.isTsv=function(a){a=a.type.trim();return"tsv"==a||"#tsv"==a};a.defaultContent=function(a){return{type:"csv",content:a}};a.Parse=function(b,c){void 0===c&&(c=!1);c=c?d.row.ParseTsv:d.row.Parse;b=$ts.from(b.split(/\n/));b=Strings.Empty(b.Last)?b.Take(b.Count-1).Select(c):b.Select(c);return new a(b)};
return a}(IEnumerator);d.dataframe=b})(csv||(csv={}));(function(d){d.toDataFrame=function(b){b=Array.isArray(b)?new IEnumerator(b):b;var f=$ts(Object.keys(b.First));b=b.Select(function(a){var b=f.Select(function(b,e){b=a[b];b=isNullOrUndefined(b)?"":""+b;return b});return new d.row(b)});return(new d.dataframe([new d.row(f)])).AppendRows(b)}})(csv||(csv={}));
(function(d){(function(b){function f(b,c){void 0===c&&(c=a);var e=b.headers.Select(function(a){return"<th>"+a+"</th>"}).JoinBy("\n");b=b.contents.Select(function(a){return a.Select(function(a){return"<td>"+a+"</td>"}).JoinBy("")}).Select(function(a){return"<tr>"+a+"</tr>"}).JoinBy("\n");return'\n            <table class="'+c+'">\n                <thead>\n                    <tr>'+e+"</tr>\n                </thead>\n                <tbody>\n                    "+b+"\n                </tbody>\n            </table>"}
var a=["table","table-hover"];b.toHTMLTable=f;b.createHTMLTable=function(b,c){void 0===c&&(c=a);return f(d.toDataFrame(b),c)}})(d.HTML||(d.HTML={}))})(csv||(csv={}));
(function(d){var b=function(b){function a(a){return b.call(this,a)||this}__extends(a,b);Object.defineProperty(a.prototype,"columns",{get:function(){return this.sequence.slice()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rowLine",{get:function(){return From(this.columns).Select(a.autoEscape).JoinBy(",")},enumerable:!0,configurable:!0});a.prototype.indexOf=function(a,b){void 0===b&&(b=null);return isNullOrUndefined(b)?this.sequence.indexOf(a):this.sequence.indexOf(a,b)};a.prototype.ProjectObject=
function(a){var b={},e=this.columns;Array.isArray(a)?a.forEach(function(a,c){b[a]=e[c]}):a.ForEach(function(a,c){b[a]=e[c]});return b};a.autoEscape=function(a){return-1<a.indexOf(",")?'"'+a+'"':a};a.Parse=function(b){return new a(d.CharsParser(b))};a.ParseTsv=function(b){return new a(d.CharsParser(b,"\t"))};return a}(IEnumerator);d.row=b})(csv||(csv={}));
(function(d){d.CharsParser=function(b,d,a){void 0===d&&(d=",");void 0===a&&(a='"');var e=[],c=[],f=!1,h=From(Strings.ToCharArray(b)).ToPointer(),k=new RegExp("["+a+"]{2}","g"),l=function(){return c.join("").replace(k,a)};for(b=function(b){var g=c;var k=void 0;void 0===k&&(k="\\");g=IsNullOrEmpty(g)?!1:g[g.length-1]==k;g?c[c.length-1]=b:(g=h.Current,k=0<c.length&&c[c.length-1]!=a,0==c.length&&g==d?(e.push(""),c=[],h.MoveNext(),f=!1):(g==d||h.EndRead)&&k?(e.push(l()),c=[],h.MoveNext(),f=!1):c.push(b))};!h.EndRead;){var m=
h.Next;f?m==a?b(m):c.push(m):0==c.length&&m==a?f=!0:m==d?(e.push(l()),c=[]):c.push(m)}0<c.length&&e.push(l());return e}})(csv||(csv={}));(function(d){var b=function(){function b(a){this.meta=a}b.prototype.GetValue=function(a){void 0===a&&(a=null);a||(a=d.StackTrace.GetCallerMember().memberName);return a in this.meta?this.meta[a]:null};return b}();d.MetaReader=b})(TsLinq||(TsLinq={}));
(function(d){var b=function(a){function b(){return a.call(this,[])||this}__extends(b,a);Object.defineProperty(b.prototype,"Q",{get:function(){return this.sequence},enumerable:!0,configurable:!0});b.prototype.enqueue=function(a){var b=this.Last,c=this.Q;a=new f(a);c.push(a);b&&(b.below=a,a.above=b)};b.prototype.extract=function(a){var b=this.Q,c=b[a-1],e=b[a+1];a=b.splice(a,1)[0];c&&(c.below=e);e&&(e.above=c);return a};b.prototype.dequeue=function(){return this.extract(0)};return b}(IEnumerator);d.PriorityQueue=
b;var f=function(){function a(a){this.value=a}a.prototype.toString=function(){return this.value.toString()};return a}();d.QueueItem=f})(TsLinq||(TsLinq={}));
(function(d){var b;(function(a){a[a.NoQuery=0]="NoQuery";a[a.id=1]="id";a[a["class"]=10]="class";a[a.tagName=-100]="tagName";a[a.QueryMeta=200]="QueryMeta"})(b=d.QueryTypes||(d.QueryTypes={}));var f=function(){function a(){}a.parseQuery=function(b){if("&"==b.charAt(0)){var c=!0;b=b.substr(1)}else c=!1;return a.parseExpression(b,c)};a.getById=function(a){return{type:b.id,singleNode:!0,expression:a}};a.getByClass=function(a,c){return{type:b.class,singleNode:c,expression:a}};a.getByTag=function(a,c){return{type:b.tagName,
singleNode:c,expression:a}};a.createElement=function(a){return{type:b.NoQuery,singleNode:!0,expression:a}};a.queryMeta=function(a){return{type:b.QueryMeta,singleNode:!0,expression:a}};a.isSelectorQuery=function(a){var b=-1<a.indexOf(" ");a="<"==a.charAt(0)&&">"==a.charAt(a.length-1);return b&&!a};a.parseExpression=function(e,c){var d=e.charAt(0);if(a.isSelectorQuery(e))return{type:b.tagName,singleNode:c,expression:e};switch(d){case "#":return this.getById(e.substr(1));case ".":return this.getByClass(e,
c);case "<":return this.createElement(e);case "@":return this.queryMeta(e.substr(1));default:return this.getByTag(e,c)}};return a}();d.Query=f})(DOM||(DOM={}));
(function(d){var b=function(){function b(){}b.FromNode=function(a){var e=new b;e.tagName=a.tagName;e.id=a.id;e.classList=this.tokenList(a.classList);e.attrs=this.nameValueMaps(a.attributes);return e};b.tokenList=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a.item(c));return b};b.nameValueMaps=function(a){for(var b=[],c,d=0;d<a.length;d++)c=a.item(d),c=new NamedValue(c.name,c.value),b.push(c);return b};return b}();d.node=b})(DOM||(DOM={}));
(function(d){d.attrs=/\S+\s*[=]\s*((["].*["])|(['].*[']))/g;d.ParseNodeDeclare=function(b){b=b.substr(1,b.length-2).trim();b=Strings.GetTagValue(b," ");var f=b.name,a=[];0<b.value.length&&(a=From(b.value.match(d.attrs)).Where(function(a){return 0<a.length}).Select(function(a){a=Strings.GetTagValue(a,"=");var b=a.value.trim();b=b.substr(1,b.length-2);return new NamedValue(a.name,b)}).ToArray());return{tag:f,attrs:a}}})(DOM||(DOM={}));
var Bootstrap=function(){function d(){this.status="Sleep";this.hookUnload=null}Object.defineProperty(d.prototype,"appStatus",{get:function(){return this.status},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"appHookMsg",{get:function(){return this.hookUnload},enumerable:!0,configurable:!0});d.prototype.Init=function(){var b=this,d=this,a=this.getCurrentAppPage();(Router.isCaseSensitive()?a==this.appName:a.toLowerCase()==this.appName.toLowerCase())?(TypeScript.logging.outputEverything&&
console.log("%c["+TypeInfo.typeof(this).class+"] App(name:="+this.appName+") Init...","color:blue;"),$ts(function(){return b.OnDocumentReady()}),window.onload=function(){return b.OnWindowLoad()},window.onbeforeunload=function(){return b.OnWindowUnload()},window.onhashchange=function(){var a=window.location.hash.substr(1);d.OnHashChanged(a)},this.init(),this.status="Running"):TypeScript.logging.outputEverything&&console.log("%c["+TypeInfo.typeof(this).class+"] Continue Sleep as: TRUE = "+a+" <> "+
this.appName,"color:green;")};d.prototype.OnDocumentReady=function(){};d.prototype.OnWindowLoad=function(){};d.prototype.OnWindowUnload=function(){if(!Strings.Empty(this.hookUnload,!0))return this.hookUnload};d.prototype.unhook=function(){this.hookUnload=null};d.prototype.OnHashChanged=function(b){};d.prototype.getCurrentAppPage=function(){return getAllUrlParams().Item("app")||"/"};d.prototype.toString=function(){return"["+this.status+"] "+this.appName};return d}(),Framework;
(function(d){(function(b){function d(a,b){void 0===b&&(b=-1);var c=TypeInfo.typeof(a);if(c.IsEnumerator)c=a.ToArray();else if(c.IsArray)c=a.slice();else if(0>=b)c=[a];else{c=[];for(var e=0;e<b;e++)c.push(a)}if(1<=b)if(b<c.length)c=c.slice(0,b);else if(b>c.length)for(e=c.length;e<b;e++)c.push(null);return c}function a(b,c){void 0===c&&(c=null);if(null==b||"object"!=typeof b||b.constructor!=Object&&b.constructor!=Array)return b;if(b.constructor==Date||b.constructor==RegExp||b.constructor==Function||
b.constructor==String||b.constructor==Number||b.constructor==Boolean)return new b.constructor(b);c=c||new b.constructor;for(var e in b)c[e]="undefined"==typeof c[e]?a(b[e],null):c[e];return c}b.EnsureCollection=function(a,b){void 0===b&&(b=-1);return new IEnumerator(d(a,b))};b.EnsureArray=d;b.extend=a})(d.Extensions||(d.Extensions={}))})(Framework||(Framework={}));
(function(d){var b=Modes.development,f=Modes.debug,a=Modes.production,e=function(){function c(){}Object.defineProperty(c,"outputWarning",{get:function(){return $ts.mode<=b},enumerable:!0,configurable:!0});Object.defineProperty(c,"outputEverything",{get:function(){return $ts.mode==f},enumerable:!0,configurable:!0});Object.defineProperty(c,"outputError",{get:function(){return $ts.mode==a},enumerable:!0,configurable:!0});c.log=function(a,b){this.outputEverything&&console.log(a)};return c}();d.logging=
e})(TypeScript||(TypeScript={}));var Router;
(function(d){function b(a,b){b(c[a])}function f(a,b){void 0===b&&(b="/");var c=TypeInfo.typeof(a);return{module:b,appName:a.appName,className:c.class,status:a.appStatus,hookUnload:a.appHookMsg}}function a(a){var b=TypeScript.URL.WindowLocation().hash;if(b=e.Item(b))"/"==b?(window.location.hash="",window.location.reload(!0)):$ts("#"+a).innerHTML=HttpHelpers.GET(b)}var e,c,g=!0;d.isCaseSensitive=function(){return g};d.CaseInsensitive=function(a){void 0===a&&(a=!0);g=!a};d.AddAppHandler=function(a,e){void 0===
e&&(e="/");isNullOrUndefined(c)&&(c={});e in c||(c[e]=new Dictionary({}));b(e,function(b){return b.Add(a.appName,a)})};var h={"/":"general","index.php":"php server","index.perl":"perl server","index.do":"","index.jsp":"java server","index.vbs":"VB server script","index.vb":"VB server","index.asp":"VB6 server","index.aspx":"VB.NET server"};d.getAppSummary=f;d.RunApp=function(a){void 0===a&&(a="/");if(a in c)b(a,function(a){return a.Select(function(a){return a.value.Init()})});else if("index"==a||a in
h){a=!1;for(var e=0,d=Object.keys(h);e<d.length;e++){var g=d[e];if(g in c){b(g,function(a){return a.Select(function(a){return a.value.Init()})});a=!0;break}}if(!a)throw"Default module is not found!";}else throw'Module "'+a+'" is not exists in your web app.';if(TypeScript.logging.outputEverything){var k=[];Object.keys(c).forEach(function(a){b(a,function(b){b.ForEach(function(b){return k.push(f(b.value,a))})})});console.table(k)}};d.queryKey=function(a){return function(b){return getAllUrlParams(b).Item(a)}};
d.moduleName=function(){return function(a){return(new TypeScript.URL(a)).fileName}};d.register=function(b,c,f){void 0===b&&(b="app");void 0===c&&(c=null);void 0===f&&(f=!0);e||(e=new Dictionary({"/":"/"}));var g=c?"string"==typeof c?d.queryKey(c):c:function(a){return(new TypeScript.URL(a)).fileName};c=$ts(".router");c.attr("router-link",function(a){return a.href});c.attr("href","javascript:void(0);");c.onClick(function(a,c){d.goto(a.getAttribute("router-link"),b,g)});c.attr("router-link").ForEach(function(a){e.Add(g(a),
a)});a(b)};d.IsTopWindowStack=function(){return parent&&parent.location.pathname==window.location.pathname};d.goto=function(a,b,c,e){d.IsTopWindowStack()?($ts("#"+b).innerHTML=HttpHelpers.GET(a),d.register(b,c,!1),window.location.hash=c(a)):parent.Router.goto(a,b,c,parent)}})(Router||(Router={}));var Which;
(function(d){function b(a,b){void 0===b&&(b=f.default());for(var c=null,e=0,d=0;d<a.Count;d++)0<b(a.ElementAt(d),c)&&(c=a.ElementAt(d),e=d);return e}d.Is=function(a){Array.isArray(a)&&(a=new IEnumerator(a));return a.Select(function(a,b){return{flag:a,index:b}}).Where(function(a){return a.flag}).Select(function(a){return a.index})};var f=function(){function a(){this.as_numeric=null}a.prototype.compares=function(a,b){this.as_numeric||(this.as_numeric=DataExtensions.AsNumeric(a),this.as_numeric||(this.as_numeric=
DataExtensions.AsNumeric(b)));return this.as_numeric?this.as_numeric(a)-this.as_numeric(b):0};a.default=function(){return(new a).compares};return a}();d.DefaultCompares=f;d.Max=b;d.Min=function(a,e){void 0===e&&(e=f.default());return b(a,function(a,b){return-e(a,b)})}})(Which||(Which={}));
(function(d){var b=function(){function a(){this.lastCheck=this.start=(new Date).getTime()}a.prototype.Tick=function(){var a=(new Date).getTime(),b=new f;b.start=this.start;b.time=a;b.sinceFromStart=a-this.start;b.sinceLastCheck=a-this.lastCheck;this.lastCheck=a;return b};return a}();d.Benchmark=b;var f=function(){function a(){}Object.defineProperty(a.prototype,"elapsedMilisecond",{get:function(){return(new Date).getTime()-this.time},enumerable:!0,configurable:!0});return a}();d.CheckPoint=f})(TypeScript||
(TypeScript={}));var Cookies;(function(d){function b(b){b=(b=RegExp(""+b+"[^;]+").exec(document.cookie))?b.toString().replace(/^[^=]+./,""):"";return decodeURIComponent(b)}d.getCookie=b;d.delCookie=function(d){var a=b(d),e=new Date;e.setTime(e.getTime()-1);null!=a&&(e=e.toGMTString(),document.cookie=d+"="+a+";expires="+e)}})(Cookies||(Cookies={}));var algorithm;
(function(d){(function(b){var d=function(){function a(a){void 0===a&&(a=function(a,b){a=DataExtensions.as_numeric(a);b=DataExtensions.as_numeric(b);return a-b});this.compares=a}a.prototype.add=function(a,c){void 0===c&&(c=null);var e=this.root;if(e)for(;e;){var d=this.compares(a,e.key);if(0==d){e.value=c;break}else if(0>d)if(e.left)e=e.left;else{e.left=new b.node(a,c);break}else if(e.right)e=e.right;else{e.right=new b.node(a,c);break}}else this.root=new b.node(a,c)};a.prototype.find=function(a){for(var b=
this.root,e;b;){e=this.compares(a,b.key);if(0==e)return b.value;b=0>e?b.left:b.right}return null};a.prototype.ToArray=function(){return b.binaryTreeExtensions.populateNodes(this.root)};a.prototype.AsEnumerable=function(){return new IEnumerator(this.ToArray())};return a}();b.binaryTree=d})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(b){(function(b){function a(b,c){isNullOrUndefined(b)?TypeScript.logging.outputWarning&&console.warn(b):(c.push(b),b.left&&a(b.left,c),b.right&&a(b.right,c))}b.populateNodes=function(b){var c=[];a(b,c);return c}})(b.binaryTreeExtensions||(b.binaryTreeExtensions={}))})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));
(function(d){(function(b){var d=function(){function a(a,b,d,f){void 0===b&&(b=null);void 0===d&&(d=null);void 0===f&&(f=null);this.key=a;this.left=d;this.right=f;this.value=b}a.prototype.toString=function(){return this.key.toString()};return a}();b.node=d})(d.BTree||(d.BTree={}))})(algorithm||(algorithm={}));var Base64;
(function(d){var b=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/g;d.isValidBase64String=function(d){return d&&0==d.length%4?b.test(d):!1};d.encode=function(b){var a=[],e=0;for(b=d.utf8_encode(b);e<b.length;){var c=b.charCodeAt(e++);var f=b.charCodeAt(e++);var h=b.charCodeAt(e++);var k=c>>2;c=(c&3)<<4|f>>4;var l=(f&15)<<2|h>>6;var m=h&63;isNaN(f)?l=m=64:isNaN(h)&&(m=64);a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c));
a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l));a.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m))}return a.join("")};d.decode=function(b){var a="",e=0;for(b=b.replace(/[^A-Za-z0-9+/=]/g,"");e<b.length;){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(e++));var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(e++));var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(e++));
var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(b.charAt(e++));c=c<<2|f>>4;f=(f&15)<<4|h>>2;var l=(h&3)<<6|k;a+=String.fromCharCode(c);64!=h&&(a+=String.fromCharCode(f));64!=k&&(a+=String.fromCharCode(l))}return a=d.utf8_decode(a)};d.utf8_encode=function(b){var a=[];b=b.replace(/rn/g,"n");for(var e=0;e<b.length;e++){var c=b.charCodeAt(e);128>c?a.push(String.fromCharCode(c)):(127<c&&2048>c?a.push(String.fromCharCode(c>>6|192)):(a.push(String.fromCharCode(c>>12|224)),
a.push(String.fromCharCode(c>>6&63|128))),a.push(String.fromCharCode(c&63|128)))}return a.join("")};d.utf8_decode=function(b){for(var a=[],e=0,c,d,f;e<b.length;)c=b.charCodeAt(e),128>c?(a.push(String.fromCharCode(c)),e++):191<c&&224>c?(d=b.charCodeAt(e+1),a.push(String.fromCharCode((c&31)<<6|d&63)),e+=2):(d=b.charCodeAt(e+1),f=b.charCodeAt(e+2),a.push(String.fromCharCode((c&15)<<12|(d&63)<<6|f&63)),e+=3);return a.join("")}})(Base64||(Base64={}));var LZW;
(function(d){d.encode=function(b){var d={};b=(b+"").split("");for(var a=[],e,c=b[0],g=256,h=1;h<b.length;h++)e=b[h],null!=d[c+e]?c+=e:(a.push(1<c.length?d[c]:c.charCodeAt(0)),d[c+e]=g,g++,c=e);a.push(1<c.length?d[c]:c.charCodeAt(0));for(h=0;h<a.length;h++)a[h]=String.fromCharCode(a[h]);return a.join("")};d.decode=function(b){var d={};b=(b+"").split("");for(var a=b[0],e=a,c=[a],g=256,h,k=1;k<b.length;k++)h=b[k].charCodeAt(0),h=256>h?b[k]:d[h]?d[h]:e+a,c.push(h),a=h.charAt(0),d[g]=e+a,g++,e=h;return c.join("")}})(LZW||
(LZW={}));
(function(d){var b=function(){function b(){}b.prototype.toString=function(){return this.caller+" [as "+this.memberName+"]("+this.file+":"+this.line+":"+this.column+")"};b.Parse=function(a){var d=new b,c=b.getFileName(a);a=a.replace(c,"").trim().substr(3);c=c.substr(1,c.length-2);if(-1<a.indexOf("/")||-1<a.indexOf(":"))a="<HTML\\Document>";var f=$ts(c.match(/([:]\d+){2}$/m)[0].split(":")),h=f.Select(function(a){return a.length}).Sum()+2;f=From(f).Where(function(a){return 0<a.length}).Select(function(a){return Strings.Val(a)}).ToArray();d.file=
c.substr(0,c.length-h);(c=(c=a.match(/\[.+\]/))&&0!=c.length?c[0]:null)?(a=a.substr(0,a.length-c.length).trim(),d.memberName=c.substr(3,c.length-4).trim()):(c=a.split("."),d.memberName=c[c.length-1]);d.caller=a;d.line=f[0];d.column=f[1];return d};b.getFileName=function(a){var b=a.match(/\(.+\)/);return b&&0!=b.length?b[0]:"("+a.substr(6).trim()+")"};return b}();d.StackFrame=b})(TsLinq||(TsLinq={}));var Levenshtein;
(function(d){function b(a,b,c){void 0===c&&(c=f);a=Strings.ToCharArray(a,!0);b=Strings.ToCharArray(b,!0);if(0==a.length&&0==b.length)return[[0]];if(0==a.length)return[[$ts(b).Sum(function(a){return c.insert(a)})]];if(0==b.length)return[[$ts(a).Sum(function(a){return c.delete(a)})]];var d=a.length+1,e=b.length+1,k=new Matrix(d,e,0);k.column(0,Enumerable.Range(0,d-1));k.row(0,Enumerable.Range(0,e-1));for(var l=1;l<e;l++)for(var m=1;m<d;m++)k.M(m,l,Enumerable.Min(k.M(m-1,l)+c.delete(a[m-1]),k.M(m,l-
1)+c.insert(b[l-1]),k.M(m-1,l-1)+c.substitute(a[m-1],b[l-1])));return k.ToArray(!1)}var f={insert:function(a){return 1},delete:function(a){return 1},substitute:function(a,b){return a==b?0:1}};d.DistanceMatrix=b;d.ComputeDistance=function(a,d,c){void 0===c&&(c=f);a=b(a,d,c);return a[a.length-1][a[0].length-1]}})(Levenshtein||(Levenshtein={}));
var StringBuilder=function(){function d(b,d){void 0===b&&(b=null);void 0===d&&(d="\n");this.buffer=b?"string"==typeof b?""+b:""+b.buffer:"";this.newLine=d}Object.defineProperty(d.prototype,"Length",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0});d.prototype.Append=function(b){this.buffer+=b;return this};d.prototype.AppendLine=function(b){void 0===b&&(b="");return this.Append(b+this.newLine)};d.prototype.toString=function(){return this.buffer+""};return d}(),HTMLTsElement=
function(){function d(b){this.node=b instanceof HTMLElement?b:b.node}Object.defineProperty(d.prototype,"HTMLElement",{get:function(){return this.node},enumerable:!0,configurable:!0});d.prototype.display=function(b){if(b)if("string"==typeof b||"number"==typeof b||"boolean"==typeof b)this.HTMLElement.innerHTML=b.toString();else{var f=this.HTMLElement;b="function"==typeof b?b():b instanceof d?b.HTMLElement:b;f.innerHTML="";f.appendChild(b)}else this.HTMLElement.innerHTML="";return this};d.prototype.clear=
function(){this.HTMLElement.innerHTML="";return this};d.prototype.text=function(b){this.HTMLElement.innerText=b;return this};d.prototype.addClass=function(b){var d=this.HTMLElement;d.classList.contains(b)||d.classList.add(b);return this};d.prototype.removeClass=function(b){var d=this.HTMLElement;d.classList.contains(b)&&d.classList.remove(b);return this};d.prototype.append=function(b){b instanceof d?this.HTMLElement.appendChild(b.HTMLElement):b instanceof HTMLElement?this.HTMLElement.appendChild(b):
this.HTMLElement.appendChild(b());return this};d.prototype.show=function(){this.HTMLElement.style.display="block";return this};d.prototype.hide=function(){this.HTMLElement.style.display="none";return this};return d}();
(function(d){d.Extends=function(b){if(isNullOrUndefined(b))return null;var d=new HTMLTsElement(b);b.display=function(a){d.display(a);return b};b.show=function(){d.show();return b};b.hide=function(){d.hide();return b};b.addClass=function(a){d.addClass(a);return b};b.removeClass=function(a){d.removeClass(a);return b};b.CType=function(){return b};b.clear=function(){b.innerHTML="";return b};b.selects=function(a){return Internal.Handlers.stringEval.select(a,b)};b.asExtends=d;b.asImage=b;return b.asInput=
b}})(TypeExtensions||(TypeExtensions={}));(function(d){var b=function(){function b(){}b.nameFilter=function(a){var b=this;return From(Object.keys(a)).Where(function(a){return-1==b.ArgumentNames.indexOf(a)}).ToArray()};b.Default=function(){return{caseInSensitive:!1,nativeModel:!0,defaultValue:"",context:window}};b.ArgumentNames=Object.keys(b.Default());return b}();d.Arguments=b})(Internal||(Internal={}));var CanvasHelper;
(function(d){function b(a){return a.fillText&&a.measureText?!0:!1}var f;d.getTextWidth=function(a,b){var c=(f||(f=$ts("<canvas>"))).getContext("2d");c.font=b;return c.measureText(a).width};d.imageOk=function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0};d.createCanvas=function(a,d,e,f){void 0===f&&(f="block");a=$ts("<canvas>",{width:a[0],height:a[1],id:d,title:e,style:"display: "+f+";"});if(!a.getContext)return null;d=a.getContext("2d");return b(d)?a:null};d.supportsText=
b;var a=function(){function a(){this.sizes=[]}a.prototype.toString=function(){return a.css(this)};a.css=function(a){return a.point?a.point+"pt":a.percent?a.percent+"%":a.em?a.em+"em":a.pixel.toString()};return a}();d.fontSize=a;var e=function(){function b(){}b.prototype.apply=function(a){b.applyCSS(a,this)};b.applyCSS=function(b,c){b.style.fontFamily=c.fontName;b.style.fontSize=a.css(c.size)};return b}();d.CSSFont=e})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(b){function d(a){return a instanceof HTMLElement||a instanceof SVGElement}function a(a){if(d(a))return a;throw Error("an HTMLElement or SVGElement is required; got "+a);}function e(a){return a&&0==a.lastIndexOf("http",0)&&-1==a.lastIndexOf(window.location.host)}function c(a,c,d){var f=a.getAttributeNS(b.xlink,"href");if(f&&("string"!=typeof f&&(f=f.value),e(f))){TypeScript.logging.outputWarning&&console.warn("Cannot render embedded images linking to external hosts: "+f);return}var g=
$ts("<canvas>"),h=g.getContext("2d"),k=new Image;k.crossOrigin="anonymous";(f=f||a.getAttribute("href"))?(k.src=f,k.onload=function(){g.width=k.width;g.height=k.height;h.drawImage(k,0,0);a.setAttributeNS(b.xlink,"href",g.toDataURL("image/png"));c--;d(c)},k.onerror=function(){console.error("Could not load "+f);c--;d(c)}):(c--,d(c));return c}b.xlink="http://www.w3.org/1999/xlink";b.isElement=d;b.requireDomNode=a;b.isExternal=e;b.inlineImages=function(b,d){a(b);b=b.querySelectorAll("image");var e=b.length,
f=function(a){0===a&&d()};f(e);for(var g=0;g<b.length;g++)e=c(b[g],e,f)};b.getDimension=function(a,b,c){a=a.viewBox&&a.viewBox.baseVal&&a.viewBox.baseVal[c]||null!==b.getAttribute(c)&&!b.getAttribute(c).match(/%$/)&&parseInt(b.getAttribute(c))||a.getBoundingClientRect()[c]||parseInt(b.style[c])||parseInt(window.getComputedStyle(a).getPropertyValue(c));if("undefined"===typeof a||null===a)return 0;a=parseFloat(a);return isNaN(a)?0:a};b.reEncode=function(a){a=encodeURIComponent(a);a=a.replace(/%([0-9A-F]{2})/g,
function(a,b){a=String.fromCharCode("0x"+b);return"%"===a?"%25":a});return decodeURIComponent(a)}})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(b){b.xmlns="http://www.w3.org/2000/xmlns/";b.doctype='<?xml version="1.0" standalone="no"?>\n            <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';var d=function(){function a(){}a.prepareSvg=function(d,c,f){void 0===c&&(c=new b.Options);b.requireDomNode(d);c.scale=c.scale||1;c.responsive=c.responsive||!1;b.inlineImages(d,function(){return a.doInlineImages(d,c,f)})};a.doInlineImages=function(a,
c,d){var e=$ts("<div>"),f=a.cloneNode(!0);if("svg"==a.tagName){var g=c.width||b.getDimension(a,f,"width");var m=c.height||b.getDimension(a,f,"height")}else if(a.getBBox){var p=a.getBBox();g=p.x+p.width;m=p.y+p.height;f.setAttribute("transform",f.getAttribute("transform").replace(/translate\(.*?\)/,""));p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(f);f=p}else{console.error("Attempted to render non-SVG element",a);return}f.setAttribute("version","1.1");f.getAttribute("xmlns")||
f.setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/2000/svg");f.getAttribute("xmlns:xlink")||f.setAttributeNS(b.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink");c.responsive?(f.removeAttribute("width"),f.removeAttribute("height"),f.setAttribute("preserveAspectRatio","xMinYMin meet")):(f.setAttribute("width",(g*c.scale).toString()),f.setAttribute("height",(m*c.scale).toString()));f.setAttribute("viewBox",[c.left||0,c.top||0,g,m].join(" "));p=f.querySelectorAll("foreignObject > *");for(var q=0;q<
p.length;q++)p[q].getAttribute("xmlns")||p[q].setAttributeNS(b.xmlns,"xmlns","http://www.w3.org/1999/xhtml");e.appendChild(f);b.styles.doStyles(a,c,function(a){a=$ts("<style>",{type:"text/css"}).display("<![CDATA[\n"+a+"\n]]\x3e");a=$ts("<defs>").display(a);f.insertBefore(a,f.firstChild);d&&(a=e.innerHTML,a=a.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),d(a,g,m))})};a.svgAsDataUri=function(a,c,d){void 0===d&&(d=null);this.prepareSvg(a,c,function(a){a="data:image/svg+xml;base64,"+
window.btoa(b.reEncode(b.doctype+a));d&&d(a)})};a.convertToPng=function(a,b,d,f){b=$ts("<canvas>",{width:b,height:d});d=b.getContext("2d");f.canvg?f.canvg(b,a):d.drawImage(a,0,0);f.backgroundColor&&(d.globalCompositeOperation="destination-over",d.fillStyle=f.backgroundColor,d.fillRect(0,0,b.width,b.height));try{var c=b.toDataURL(f.encoderType,f.encoderOptions)}catch(l){if("SecurityError"==l.name){console.error("Rendered SVG images cannot be downloaded in this browser.");return}throw l;}return c};
a.svgAsPngUri=function(d,c,f){void 0===c&&(c=new b.Options);b.requireDomNode(d);c.encoderType=c.encoderType||"image/png";c.encoderOptions=c.encoderOptions||.8;var e=function(b,d,e){f(a.convertToPng(b,d,e,c))};c.canvg?this.prepareSvg(d,c,e):this.svgAsDataUri(d,c,function(a){var b=new Image;b.onload=function(){e(b,b.width,b.height)};b.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(a.slice(26)),"\n","Open the following link to see browser's diagnosis\n",
a)};b.src=a})};a.saveSvg=function(a,c,d){b.requireDomNode(a);d=d||{};this.svgAsDataUri(a,d,function(a){return DOM.download(c,a)})};a.saveSvgAsPng=function(a,c,d){void 0===d&&(d=b.Options.Default());"string"==typeof a&&(a=$ts(a));b.requireDomNode(a);this.svgAsPngUri(a,d,function(a){return DOM.download(c,a)})};return a}();b.Encoder=d})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));
(function(d){(function(b){var d=function(){function a(){}a.Default=function(){return{encoderType:"image/png",encoderOptions:.8,scale:1,responsive:!1,left:0,top:0}};return a}();b.Options=d;d=function(){function b(){}b.doStyles=function(a,b,d){for(var c="",e=[],f=document.styleSheets,g=0;g<f.length;g++){try{var h=f[g].cssRules}catch(u){TypeScript.logging.outputWarning&&console.warn("Stylesheet could not be loaded: "+f[g].href);continue}null!=h&&(c+=this.processCssRules(a,h,b,f[g].href,e))}this.processFontQueue(e,
c,d)};b.processCssRules=function(a,d,e,f,l){for(var c="",g=0,h;g<d.length;g++,h=null){var k=d[g];if("undefined"!=typeof k.style){try{var r=k.selectorText}catch(t){TypeScript.logging.outputWarning&&console.warn('The following CSS rule has an invalid selector: "'+k+'"',t)}try{r&&(h=a.querySelector(r)||a.parentNode.querySelector(r))}catch(t){TypeScript.logging.outputWarning&&console.warn('Invalid CSS selector "'+r+'"',t)}if(h)h=e.selectorRemap?e.selectorRemap(k.selectorText):k.selectorText,k=e.modifyStyle?
e.modifyStyle(k.style.cssText):k.style.cssText,c+=h+" { "+k+" }\n";else if(k.cssText.match(/^@font-face/)){h=/url\(["']?(.+?)["']?\)/;var n=k.cssText.match(h);n=n&&n[1]||"";n.match(/^data:/)&&(n="");"about:blank"===n&&(n="");n?(n.startsWith("../")?n=f+"/../"+n:n.startsWith("./")&&(n=f+"/."+n),l.push({text:k.cssText,fontUrlRegexp:h,format:b.getFontMimeTypeFromUrl(n),url:n})):c+=k.cssText+"\n"}}}return c};b.processFontQueue=function(a,b,d){function c(c){function f(f){TypeScript.logging.outputWarning&&
(console.warn("Failed to load font from: "+c.url),console.warn(f));b+=c.text+"\n";e.processFontQueue(a,b,d)}function g(c,f){b+=c.text.replace(c.fontUrlRegexp,'url("data:'+c.format+";base64,"+f+'")')+"\n";setTimeout(function(){e.processFontQueue(a,b,d)},0)}var h=new XMLHttpRequest;h.addEventListener("load",function(){var a=DataExtensions.arrayBufferToBase64(h.response);g(c,a)});h.addEventListener("error",f);h.addEventListener("abort",f);h.open("GET",c.url);h.responseType="arraybuffer";h.send()}var e=
this;if(0<a.length){var f=a.pop();c(f)}else d(b)};b.getFontMimeTypeFromUrl=function(b){for(var c=Object.keys(a),d=0;d<c.length;++d){var e=c[d];if(0<b.indexOf("."+e))return a[e]}this.warnFontNotSupport(b);return"application/octet-stream"};b.warnFontNotSupport=function(a){console.warn("Unknown font format for "+a+"; Fonts may not be working correctly")};return b}();b.styles=d;var a={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",
sfnt:"application/font-sfnt",svg:"image/svg+xml"};(function(){return function(){}})()})(d.saveSvgAsPng||(d.saveSvgAsPng={}))})(CanvasHelper||(CanvasHelper={}));var HttpHelpers;
(function(d){var b=function(){function b(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!0);this.i=0;this.echo=this.onErrorResumeNext=!1;this.jsURL="string"==typeof a?[a]:a;this.errors=[];this.onErrorResumeNext=b;this.echo=c}b.prototype.nextScript=function(){return this.jsURL[this.i++]};b.prototype.doLoad=function(a){var b=this;void 0===a&&(a=DoNothing);var c=this.nextScript();Strings.Empty(c,!0)?a():d.GetAsyn(c,function(d,e){return b.doExec(c,d,e,a)})};b.prototype.doExec=function(a,b,c,d){switch(c){case 200:try{eval.apply(window,
[b])}catch(h){if(this.onErrorResumeNext)TypeScript.logging.outputWarning&&(console.warn(a),console.warn(h)),this.errors.push(a);else throw h;}finally{this.echo&&console.log("script loaded: ",a)}break;default:this.echo&&console.error("ERROR: script not loaded: ",a),this.errors.push(a)}this.doLoad(d)};b.doEval=function(a,b,c){void 0===c&&(c=window);Base64.isValidBase64String(a)&&(a=Base64.decode(a));eval.apply(c,[a]);b&&b()};b.getFullPath=function(a){var b=$ts.location.path;if("/"==a.charAt(0))return a;
console.log(b)};return b}();d.Imports=b})(HttpHelpers||(HttpHelpers={}));
(function(d){d.contentTypes={form:"multipart/form-data",json:"application/json",text:"text/plain",www:"application/x-www-form-urlencoded"};d.measureContentType=function(b){return b instanceof FormData?d.contentTypes.form:"string"==typeof b?d.contentTypes.text:d.contentTypes.json};d.GET=function(b){var a=new XMLHttpRequest;a.open("GET",b,!1);a.send(null);return 200===a.status?a.responseText:null};d.GetAsyn=function(b,a){var d=new XMLHttpRequest;d.open("GET",b,!0);d.onreadystatechange=function(){var b=
this.getResponseHeader("content-type");isNullOrUndefined(b)&&(b=this.getResponseHeader("Content-Type"));4==d.readyState&&a(d.response||d.responseText,d.status,b)};d.send(null)};d.POST=function(b,a,e){var c=new XMLHttpRequest,f=a.data;a.type==d.contentTypes.json&&"string"!=typeof f&&(f=JSON.stringify(f));c.open("POST",b,!0);a.sendContentType&&c.setRequestHeader("Content-Type",a.type);c.onreadystatechange=function(){4==c.readyState&&e(c.responseText,c.status)};c.send(f)};d.UploadFile=function(b,a,e,
c){void 0===e&&(e=null);var f=new FormData;a instanceof File?(f.append("filename",a.name),e=e||a.name):f.append("filename",e);f.append("File",a,e);d.POST(b,{type:d.contentTypes.form,data:f},c)};var b=function(){function b(){this.sendContentType=!0}b.prototype.toString=function(){return this.type};return b}();d.PostData=b})(HttpHelpers||(HttpHelpers={}));
